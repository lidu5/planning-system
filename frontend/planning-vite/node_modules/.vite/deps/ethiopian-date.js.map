{
  "version": 3,
  "sources": ["../../ethiopian-date/dist/index.js"],
  "sourcesContent": ["Object.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar Exception = function Exception(message) {\n  this.message = message;\n  this.name = 'Exception';\n};\n\nvar startDayOfEthiopian = function startDayOfEthiopian(year) {\n  var newYearDay = Math.floor(year / 100) - Math.floor(year / 400) - 4;\n  // if the prev ethiopian year is a leap year, new-year occrus on 12th\n  return (year - 1) % 4 === 3 ? newYearDay + 1 : newYearDay;\n};\n\nvar toGregorian = exports.toGregorian = function toGregorian(dateArray) {\n  // Allow argument to be array year, month, day, or 3 separate params\n  var inputs = dateArray.constructor === Array ? dateArray : [].slice.call(arguments);\n\n  // prevent incorect input\n  if (inputs.indexOf(0) !== -1 || inputs.indexOf(null) !== -1 || inputs.indexOf(undefined) !== -1 || inputs.length !== 3) {\n    throw new Exception(\"Malformed input can't be converted.\");\n  }\n\n  var _inputs = _slicedToArray(inputs, 3),\n      year = _inputs[0],\n      month = _inputs[1],\n      date = _inputs[2];\n\n  // Ethiopian new year in Gregorian calendar\n\n\n  var newYearDay = startDayOfEthiopian(year);\n\n  // September (Ethiopian) sees 7y difference\n  var gregorianYear = year + 7;\n\n  // Number of days in gregorian months\n  // starting with September (index 1)\n  // Index 0 is reserved for leap years switches.\n  // Index 4 is December, the final month of the year.\n  var gregorianMonths = [0.0, 30, 31, 30, 31, 31, 28, 31, 30, 31, 30, 31, 31, 30];\n\n  // if next gregorian year is leap year, February has 29 days.\n  var nextYear = gregorianYear + 1;\n  if (nextYear % 4 === 0 && nextYear % 100 !== 0 || nextYear % 400 === 0) {\n    gregorianMonths[6] = 29;\n  }\n\n  // calculate number of days up to that date\n  var until = (month - 1) * 30.0 + date;\n  if (until <= 37 && year <= 1575) {\n    // mysterious rule\n    until += 28;\n    gregorianMonths[0] = 31;\n  } else {\n    until += newYearDay - 1;\n  }\n\n  // if ethiopian year is leap year, paguemain has six days\n  if (year - 1 % 4 === 3) {\n    until += 1;\n  }\n\n  // calculate month and date incremently\n  var m = 0;\n  var gregorianDate = void 0;\n  for (var i = 0; i < gregorianMonths.length; i++) {\n    if (until <= gregorianMonths[i]) {\n      m = i;\n      gregorianDate = until;\n      break;\n    } else {\n      m = i;\n      until -= gregorianMonths[i];\n    }\n  }\n\n  // if m > 4, we're already on next Gregorian year\n  if (m > 4) {\n    gregorianYear += 1;\n  }\n\n  // Gregorian months ordered according to Ethiopian\n  var order = [8, 9, 10, 11, 12, 1, 2, 3, 4, 5, 6, 7, 8, 9];\n  gregorianMonths = order[m];\n  return [gregorianYear, gregorianMonths, gregorianDate];\n};\n\nvar toEthiopian = exports.toEthiopian = function toEthiopian(dateArray) {\n  // Allow argument to be array year, month, day, or 3 separate params\n  var inputs = dateArray.constructor === Array ? dateArray : [].slice.call(arguments);\n\n  // prevent incorect input\n  if (inputs.indexOf(0) !== -1 || inputs.indexOf(null) !== -1 || inputs.indexOf(undefined) !== -1 || inputs.length !== 3) {\n    throw new Exception(\"Malformed input can't be converted.\");\n  }\n\n  var _inputs2 = _slicedToArray(inputs, 3),\n      year = _inputs2[0],\n      month = _inputs2[1],\n      date = _inputs2[2];\n\n  // date between 5 and 14 of May 1582 are invalid\n\n\n  if (month === 10 && date >= 5 && date <= 14 && year === 1582) {\n    throw new Exception('Invalid Date between 5-14 May 1582.');\n  }\n\n  // Number of days in gregorian months\n  // starting with January (index 1)\n  // Index 0 is reserved for leap years switches.\n  var gregorianMonths = [0.0, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\n\n  // Number of days in ethiopian months\n  // starting with January (index 1)\n  // Index 0 is reserved for leap years switches.\n  // Index 10 is month 13, the final month of the year\n  var ethiopianMonths = [0.0, 30, 30, 30, 30, 30, 30, 30, 30, 30, 5, 30, 30, 30, 30];\n\n  // if gregorian leap year, February has 29 days.\n  if (year % 4 === 0 && year % 100 !== 0 || year % 400 === 0) {\n    gregorianMonths[2] = 29;\n  }\n\n  // September sees 8y difference\n  var ethiopianYear = year - 8;\n\n  // if ethiopian leap year pagumain has 6 days\n  if (ethiopianYear % 4 === 3) {\n    ethiopianMonths[10] = 6;\n  }\n\n  // Ethiopian new year in Gregorian calendar\n  var newYearDay = startDayOfEthiopian(year - 8);\n\n  // calculate number of days up to that date\n  var until = 0;\n  for (var i = 1; i < month; i++) {\n    until += gregorianMonths[i];\n  }\n  until += date;\n\n  // update tahissas (december) to match january 1st\n  var tahissas = ethiopianYear % 4 === 0 ? 26 : 25;\n\n  // take into account the 1582 change\n  if (year < 1582) {\n    ethiopianMonths[1] = 0;\n    ethiopianMonths[2] = tahissas;\n  } else if (until <= 277 && year === 1582) {\n    ethiopianMonths[1] = 0;\n    ethiopianMonths[2] = tahissas;\n  } else {\n    tahissas = newYearDay - 3;\n    ethiopianMonths[1] = tahissas;\n  }\n\n  // calculate month and date incremently\n  var m = void 0;\n  var ethiopianDate = void 0;\n  for (m = 1; m < ethiopianMonths.length; m++) {\n    if (until <= ethiopianMonths[m]) {\n      ethiopianDate = m === 1 || ethiopianMonths[m] === 0 ? until + (30 - tahissas) : until;\n      break;\n    } else {\n      until -= ethiopianMonths[m];\n    }\n  }\n\n  // if m > 10, we're already on next Ethiopian year\n  if (m > 10) {\n    ethiopianYear += 1;\n  }\n\n  // Ethiopian months ordered according to Gregorian\n  var order = [0, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 1, 2, 3, 4];\n  var ethiopianMonth = order[m];\n  return [ethiopianYear, ethiopianMonth, ethiopianDate];\n};\n\n"],
  "mappings": "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",
  "names": ["Exception", "startDayOfEthiopian", "toGregorian", "toEthiopian"]
}
