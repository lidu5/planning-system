function tM(e,t){for(var r=0;r<t.length;r++){const a=t[r];if(typeof a!="string"&&!Array.isArray(a)){for(const l in a)if(l!=="default"&&!(l in e)){const o=Object.getOwnPropertyDescriptor(a,l);o&&Object.defineProperty(e,l,o.get?o:{enumerable:!0,get:()=>a[l]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&a(u)}).observe(document,{childList:!0,subtree:!0});function r(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(l){if(l.ep)return;l.ep=!0;const o=r(l);fetch(l.href,o)}})();function Qa(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var pp={exports:{}},rc={};var R2;function rM(){if(R2)return rc;R2=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(a,l,o){var u=null;if(o!==void 0&&(u=""+o),l.key!==void 0&&(u=""+l.key),"key"in l){o={};for(var f in l)f!=="key"&&(o[f]=l[f])}else o=l;return l=o.ref,{$$typeof:e,type:a,key:u,ref:l!==void 0?l:null,props:o}}return rc.Fragment=t,rc.jsx=r,rc.jsxs=r,rc}var L2;function nM(){return L2||(L2=1,pp.exports=rM()),pp.exports}var n=nM(),xp={exports:{}},Ie={};var z2;function aM(){if(z2)return Ie;z2=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),b=Symbol.iterator;function j(R){return R===null||typeof R!="object"?null:(R=b&&R[b]||R["@@iterator"],typeof R=="function"?R:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,S={};function E(R,K,re){this.props=R,this.context=K,this.refs=S,this.updater=re||w}E.prototype.isReactComponent={},E.prototype.setState=function(R,K){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,K,"setState")},E.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function O(){}O.prototype=E.prototype;function _(R,K,re){this.props=R,this.context=K,this.refs=S,this.updater=re||w}var T=_.prototype=new O;T.constructor=_,N(T,E.prototype),T.isPureReactComponent=!0;var k=Array.isArray;function L(){}var $={H:null,A:null,T:null,S:null},G=Object.prototype.hasOwnProperty;function J(R,K,re){var W=re.ref;return{$$typeof:e,type:R,key:K,ref:W!==void 0?W:null,props:re}}function ue(R,K){return J(R.type,K,R.props)}function F(R){return typeof R=="object"&&R!==null&&R.$$typeof===e}function q(R){var K={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(re){return K[re]})}var fe=/\/+/g;function z(R,K){return typeof R=="object"&&R!==null&&R.key!=null?q(""+R.key):K.toString(36)}function Y(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(L,L):(R.status="pending",R.then(function(K){R.status==="pending"&&(R.status="fulfilled",R.value=K)},function(K){R.status==="pending"&&(R.status="rejected",R.reason=K)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function C(R,K,re,W,le){var Ne=typeof R;(Ne==="undefined"||Ne==="boolean")&&(R=null);var Ae=!1;if(R===null)Ae=!0;else switch(Ne){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(R.$$typeof){case e:case t:Ae=!0;break;case p:return Ae=R._init,C(Ae(R._payload),K,re,W,le)}}if(Ae)return le=le(R),Ae=W===""?"."+z(R,0):W,k(le)?(re="",Ae!=null&&(re=Ae.replace(fe,"$&/")+"/"),C(le,K,re,"",function(ge){return ge})):le!=null&&(F(le)&&(le=ue(le,re+(le.key==null||R&&R.key===le.key?"":(""+le.key).replace(fe,"$&/")+"/")+Ae)),K.push(le)),1;Ae=0;var Ce=W===""?".":W+":";if(k(R))for(var U=0;U<R.length;U++)W=R[U],Ne=Ce+z(W,U),Ae+=C(W,K,re,Ne,le);else if(U=j(R),typeof U=="function")for(R=U.call(R),U=0;!(W=R.next()).done;)W=W.value,Ne=Ce+z(W,U++),Ae+=C(W,K,re,Ne,le);else if(Ne==="object"){if(typeof R.then=="function")return C(Y(R),K,re,W,le);throw K=String(R),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function V(R,K,re){if(R==null)return R;var W=[],le=0;return C(R,W,"","",function(Ne){return K.call(re,Ne,le++)}),W}function ae(R){if(R._status===-1){var K=R._result;K=K(),K.then(function(re){(R._status===0||R._status===-1)&&(R._status=1,R._result=re)},function(re){(R._status===0||R._status===-1)&&(R._status=2,R._result=re)}),R._status===-1&&(R._status=0,R._result=K)}if(R._status===1)return R._result.default;throw R._result}var ve=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)},ce={map:V,forEach:function(R,K,re){V(R,function(){K.apply(this,arguments)},re)},count:function(R){var K=0;return V(R,function(){K++}),K},toArray:function(R){return V(R,function(K){return K})||[]},only:function(R){if(!F(R))throw Error("React.Children.only expected to receive a single React element child.");return R}};return Ie.Activity=x,Ie.Children=ce,Ie.Component=E,Ie.Fragment=r,Ie.Profiler=l,Ie.PureComponent=_,Ie.StrictMode=a,Ie.Suspense=m,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(R){return $.H.useMemoCache(R)}},Ie.cache=function(R){return function(){return R.apply(null,arguments)}},Ie.cacheSignal=function(){return null},Ie.cloneElement=function(R,K,re){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var W=N({},R.props),le=R.key;if(K!=null)for(Ne in K.key!==void 0&&(le=""+K.key),K)!G.call(K,Ne)||Ne==="key"||Ne==="__self"||Ne==="__source"||Ne==="ref"&&K.ref===void 0||(W[Ne]=K[Ne]);var Ne=arguments.length-2;if(Ne===1)W.children=re;else if(1<Ne){for(var Ae=Array(Ne),Ce=0;Ce<Ne;Ce++)Ae[Ce]=arguments[Ce+2];W.children=Ae}return J(R.type,le,W)},Ie.createContext=function(R){return R={$$typeof:u,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:o,_context:R},R},Ie.createElement=function(R,K,re){var W,le={},Ne=null;if(K!=null)for(W in K.key!==void 0&&(Ne=""+K.key),K)G.call(K,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(le[W]=K[W]);var Ae=arguments.length-2;if(Ae===1)le.children=re;else if(1<Ae){for(var Ce=Array(Ae),U=0;U<Ae;U++)Ce[U]=arguments[U+2];le.children=Ce}if(R&&R.defaultProps)for(W in Ae=R.defaultProps,Ae)le[W]===void 0&&(le[W]=Ae[W]);return J(R,Ne,le)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(R){return{$$typeof:f,render:R}},Ie.isValidElement=F,Ie.lazy=function(R){return{$$typeof:p,_payload:{_status:-1,_result:R},_init:ae}},Ie.memo=function(R,K){return{$$typeof:h,type:R,compare:K===void 0?null:K}},Ie.startTransition=function(R){var K=$.T,re={};$.T=re;try{var W=R(),le=$.S;le!==null&&le(re,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(L,ve)}catch(Ne){ve(Ne)}finally{K!==null&&re.types!==null&&(K.types=re.types),$.T=K}},Ie.unstable_useCacheRefresh=function(){return $.H.useCacheRefresh()},Ie.use=function(R){return $.H.use(R)},Ie.useActionState=function(R,K,re){return $.H.useActionState(R,K,re)},Ie.useCallback=function(R,K){return $.H.useCallback(R,K)},Ie.useContext=function(R){return $.H.useContext(R)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(R,K){return $.H.useDeferredValue(R,K)},Ie.useEffect=function(R,K){return $.H.useEffect(R,K)},Ie.useEffectEvent=function(R){return $.H.useEffectEvent(R)},Ie.useId=function(){return $.H.useId()},Ie.useImperativeHandle=function(R,K,re){return $.H.useImperativeHandle(R,K,re)},Ie.useInsertionEffect=function(R,K){return $.H.useInsertionEffect(R,K)},Ie.useLayoutEffect=function(R,K){return $.H.useLayoutEffect(R,K)},Ie.useMemo=function(R,K){return $.H.useMemo(R,K)},Ie.useOptimistic=function(R,K){return $.H.useOptimistic(R,K)},Ie.useReducer=function(R,K,re){return $.H.useReducer(R,K,re)},Ie.useRef=function(R){return $.H.useRef(R)},Ie.useState=function(R){return $.H.useState(R)},Ie.useSyncExternalStore=function(R,K,re){return $.H.useSyncExternalStore(R,K,re)},Ie.useTransition=function(){return $.H.useTransition()},Ie.version="19.2.0",Ie}var B2;function Gl(){return B2||(B2=1,xp.exports=aM()),xp.exports}var v=Gl();const Q3=Qa(v),iM=tM({__proto__:null,default:Q3},[v]);var gp={exports:{}},nc={},vp={exports:{}},yp={};var $2;function sM(){return $2||($2=1,(function(e){function t(C,V){var ae=C.length;C.push(V);e:for(;0<ae;){var ve=ae-1>>>1,ce=C[ve];if(0<l(ce,V))C[ve]=V,C[ae]=ce,ae=ve;else break e}}function r(C){return C.length===0?null:C[0]}function a(C){if(C.length===0)return null;var V=C[0],ae=C.pop();if(ae!==V){C[0]=ae;e:for(var ve=0,ce=C.length,R=ce>>>1;ve<R;){var K=2*(ve+1)-1,re=C[K],W=K+1,le=C[W];if(0>l(re,ae))W<ce&&0>l(le,re)?(C[ve]=le,C[W]=ae,ve=W):(C[ve]=re,C[K]=ae,ve=K);else if(W<ce&&0>l(le,ae))C[ve]=le,C[W]=ae,ve=W;else break e}}return V}function l(C,V){var ae=C.sortIndex-V.sortIndex;return ae!==0?ae:C.id-V.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var u=Date,f=u.now();e.unstable_now=function(){return u.now()-f}}var m=[],h=[],p=1,x=null,b=3,j=!1,w=!1,N=!1,S=!1,E=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;function T(C){for(var V=r(h);V!==null;){if(V.callback===null)a(h);else if(V.startTime<=C)a(h),V.sortIndex=V.expirationTime,t(m,V);else break;V=r(h)}}function k(C){if(N=!1,T(C),!w)if(r(m)!==null)w=!0,L||(L=!0,q());else{var V=r(h);V!==null&&Y(k,V.startTime-C)}}var L=!1,$=-1,G=5,J=-1;function ue(){return S?!0:!(e.unstable_now()-J<G)}function F(){if(S=!1,L){var C=e.unstable_now();J=C;var V=!0;try{e:{w=!1,N&&(N=!1,O($),$=-1),j=!0;var ae=b;try{t:{for(T(C),x=r(m);x!==null&&!(x.expirationTime>C&&ue());){var ve=x.callback;if(typeof ve=="function"){x.callback=null,b=x.priorityLevel;var ce=ve(x.expirationTime<=C);if(C=e.unstable_now(),typeof ce=="function"){x.callback=ce,T(C),V=!0;break t}x===r(m)&&a(m),T(C)}else a(m);x=r(m)}if(x!==null)V=!0;else{var R=r(h);R!==null&&Y(k,R.startTime-C),V=!1}}break e}finally{x=null,b=ae,j=!1}V=void 0}}finally{V?q():L=!1}}}var q;if(typeof _=="function")q=function(){_(F)};else if(typeof MessageChannel<"u"){var fe=new MessageChannel,z=fe.port2;fe.port1.onmessage=F,q=function(){z.postMessage(null)}}else q=function(){E(F,0)};function Y(C,V){$=E(function(){C(e.unstable_now())},V)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(C){C.callback=null},e.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<C?Math.floor(1e3/C):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function(C){switch(b){case 1:case 2:case 3:var V=3;break;default:V=b}var ae=b;b=V;try{return C()}finally{b=ae}},e.unstable_requestPaint=function(){S=!0},e.unstable_runWithPriority=function(C,V){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var ae=b;b=C;try{return V()}finally{b=ae}},e.unstable_scheduleCallback=function(C,V,ae){var ve=e.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?ve+ae:ve):ae=ve,C){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=ae+ce,C={id:p++,callback:V,priorityLevel:C,startTime:ae,expirationTime:ce,sortIndex:-1},ae>ve?(C.sortIndex=ae,t(h,C),r(m)===null&&C===r(h)&&(N?(O($),$=-1):N=!0,Y(k,ae-ve))):(C.sortIndex=ce,t(m,C),w||j||(w=!0,L||(L=!0,q()))),C},e.unstable_shouldYield=ue,e.unstable_wrapCallback=function(C){var V=b;return function(){var ae=b;b=V;try{return C.apply(this,arguments)}finally{b=ae}}}})(yp)),yp}var I2;function lM(){return I2||(I2=1,vp.exports=sM()),vp.exports}var bp={exports:{}},Ar={};var U2;function oM(){if(U2)return Ar;U2=1;var e=Gl();function t(m){var h="https://react.dev/errors/"+m;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+m+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var a={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},l=Symbol.for("react.portal");function o(m,h,p){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:x==null?null:""+x,children:m,containerInfo:h,implementation:p}}var u=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,h){if(m==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Ar.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ar.createPortal=function(m,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return o(m,h,null,p)},Ar.flushSync=function(m){var h=u.T,p=a.p;try{if(u.T=null,a.p=2,m)return m()}finally{u.T=h,a.p=p,a.d.f()}},Ar.preconnect=function(m,h){typeof m=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,a.d.C(m,h))},Ar.prefetchDNS=function(m){typeof m=="string"&&a.d.D(m)},Ar.preinit=function(m,h){if(typeof m=="string"&&h&&typeof h.as=="string"){var p=h.as,x=f(p,h.crossOrigin),b=typeof h.integrity=="string"?h.integrity:void 0,j=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?a.d.S(m,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:x,integrity:b,fetchPriority:j}):p==="script"&&a.d.X(m,{crossOrigin:x,integrity:b,fetchPriority:j,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Ar.preinitModule=function(m,h){if(typeof m=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=f(h.as,h.crossOrigin);a.d.M(m,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&a.d.M(m)},Ar.preload=function(m,h){if(typeof m=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,x=f(p,h.crossOrigin);a.d.L(m,p,{crossOrigin:x,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Ar.preloadModule=function(m,h){if(typeof m=="string")if(h){var p=f(h.as,h.crossOrigin);a.d.m(m,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else a.d.m(m)},Ar.requestFormReset=function(m){a.d.r(m)},Ar.unstable_batchedUpdates=function(m,h){return m(h)},Ar.useFormState=function(m,h,p){return u.H.useFormState(m,h,p)},Ar.useFormStatus=function(){return u.H.useHostTransitionStatus()},Ar.version="19.2.0",Ar}var q2;function X3(){if(q2)return bp.exports;q2=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),bp.exports=oM(),bp.exports}var F2;function cM(){if(F2)return nc;F2=1;var e=lM(),t=Gl(),r=X3();function a(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)s+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var s=i,c=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(c=s.return),i=s.return;while(i)}return s.tag===3?c:null}function u(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function f(i){if(i.tag===31){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function m(i){if(o(i)!==i)throw Error(a(188))}function h(i){var s=i.alternate;if(!s){if(s=o(i),s===null)throw Error(a(188));return s!==i?null:i}for(var c=i,d=s;;){var g=c.return;if(g===null)break;var y=g.alternate;if(y===null){if(d=g.return,d!==null){c=d;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===c)return m(g),i;if(y===d)return m(g),s;y=y.sibling}throw Error(a(188))}if(c.return!==d.return)c=g,d=y;else{for(var A=!1,M=g.child;M;){if(M===c){A=!0,c=g,d=y;break}if(M===d){A=!0,d=g,c=y;break}M=M.sibling}if(!A){for(M=y.child;M;){if(M===c){A=!0,c=y,d=g;break}if(M===d){A=!0,d=y,c=g;break}M=M.sibling}if(!A)throw Error(a(189))}}if(c.alternate!==d)throw Error(a(190))}if(c.tag!==3)throw Error(a(188));return c.stateNode.current===c?i:s}function p(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=p(i),s!==null)return s;i=i.sibling}return null}var x=Object.assign,b=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),O=Symbol.for("react.consumer"),_=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),G=Symbol.for("react.lazy"),J=Symbol.for("react.activity"),ue=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function q(i){return i===null||typeof i!="object"?null:(i=F&&i[F]||i["@@iterator"],typeof i=="function"?i:null)}var fe=Symbol.for("react.client.reference");function z(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===fe?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case N:return"Fragment";case E:return"Profiler";case S:return"StrictMode";case k:return"Suspense";case L:return"SuspenseList";case J:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case w:return"Portal";case _:return i.displayName||"Context";case O:return(i._context.displayName||"Context")+".Consumer";case T:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case $:return s=i.displayName||null,s!==null?s:z(i.type)||"Memo";case G:s=i._payload,i=i._init;try{return z(i(s))}catch{}}return null}var Y=Array.isArray,C=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},ve=[],ce=-1;function R(i){return{current:i}}function K(i){0>ce||(i.current=ve[ce],ve[ce]=null,ce--)}function re(i,s){ce++,ve[ce]=i.current,i.current=s}var W=R(null),le=R(null),Ne=R(null),Ae=R(null);function Ce(i,s){switch(re(Ne,s),re(le,i),re(W,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?a2(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=a2(s),i=i2(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}K(W),re(W,i)}function U(){K(W),K(le),K(Ne)}function ge(i){i.memoizedState!==null&&re(Ae,i);var s=W.current,c=i2(s,i.type);s!==c&&(re(le,i),re(W,c))}function Ee(i){le.current===i&&(K(W),K(le)),Ae.current===i&&(K(Ae),Zo._currentValue=ae)}var ye,ke;function Oe(i){if(ye===void 0)try{throw Error()}catch(c){var s=c.stack.trim().match(/\n( *(at )?)/);ye=s&&s[1]||"",ke=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ye+i+ke}var te=!1;function B(i,s){if(!i||te)return"";te=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(s){var we=function(){throw Error()};if(Object.defineProperty(we.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(we,[])}catch(xe){var me=xe}Reflect.construct(i,[],we)}else{try{we.call()}catch(xe){me=xe}i.call(we.prototype)}}else{try{throw Error()}catch(xe){me=xe}(we=i())&&typeof we.catch=="function"&&we.catch(function(){})}}catch(xe){if(xe&&me&&typeof xe.stack=="string")return[xe.stack,me.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=d.DetermineComponentFrameRoot(),A=y[0],M=y[1];if(A&&M){var H=A.split(`
`),se=M.split(`
`);for(g=d=0;d<H.length&&!H[d].includes("DetermineComponentFrameRoot");)d++;for(;g<se.length&&!se[g].includes("DetermineComponentFrameRoot");)g++;if(d===H.length||g===se.length)for(d=H.length-1,g=se.length-1;1<=d&&0<=g&&H[d]!==se[g];)g--;for(;1<=d&&0<=g;d--,g--)if(H[d]!==se[g]){if(d!==1||g!==1)do if(d--,g--,0>g||H[d]!==se[g]){var be=`
`+H[d].replace(" at new "," at ");return i.displayName&&be.includes("<anonymous>")&&(be=be.replace("<anonymous>",i.displayName)),be}while(1<=d&&0<=g);break}}}finally{te=!1,Error.prepareStackTrace=c}return(c=i?i.displayName||i.name:"")?Oe(c):""}function he(i,s){switch(i.tag){case 26:case 27:case 5:return Oe(i.type);case 16:return Oe("Lazy");case 13:return i.child!==s&&s!==null?Oe("Suspense Fallback"):Oe("Suspense");case 19:return Oe("SuspenseList");case 0:case 15:return B(i.type,!1);case 11:return B(i.type.render,!1);case 1:return B(i.type,!0);case 31:return Oe("Activity");default:return""}}function I(i){try{var s="",c=null;do s+=he(i,c),c=i,i=i.return;while(i);return s}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}var Z=Object.prototype.hasOwnProperty,D=e.unstable_scheduleCallback,P=e.unstable_cancelCallback,X=e.unstable_shouldYield,ne=e.unstable_requestPaint,_e=e.unstable_now,Re=e.unstable_getCurrentPriorityLevel,Ve=e.unstable_ImmediatePriority,vt=e.unstable_UserBlockingPriority,Ze=e.unstable_NormalPriority,rn=e.unstable_LowPriority,Vt=e.unstable_IdlePriority,Is=e.log,uo=e.unstable_setDisableYieldValue,Bn=null,gr=null;function Jn(i){if(typeof Is=="function"&&uo(i),gr&&typeof gr.setStrictMode=="function")try{gr.setStrictMode(Bn,i)}catch{}}var de=Math.clz32?Math.clz32:$n,Fe=Math.log,it=Math.LN2;function $n(i){return i>>>=0,i===0?32:31-(Fe(i)/it|0)|0}var ha=256,ai=262144,Bt=4194304;function Mr(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function ii(i,s,c){var d=i.pendingLanes;if(d===0)return 0;var g=0,y=i.suspendedLanes,A=i.pingedLanes;i=i.warmLanes;var M=d&134217727;return M!==0?(d=M&~y,d!==0?g=Mr(d):(A&=M,A!==0?g=Mr(A):c||(c=M&~i,c!==0&&(g=Mr(c))))):(M=d&~y,M!==0?g=Mr(M):A!==0?g=Mr(A):c||(c=d&~i,c!==0&&(g=Mr(c)))),g===0?0:s!==0&&s!==g&&(s&y)===0&&(y=g&-g,c=s&-s,y>=c||y===32&&(c&4194048)!==0)?s:g}function Dt(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function si(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ju(){var i=Bt;return Bt<<=1,(Bt&62914560)===0&&(Bt=4194304),i}function nh(i){for(var s=[],c=0;31>c;c++)s.push(i);return s}function fo(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function FC(i,s,c,d,g,y){var A=i.pendingLanes;i.pendingLanes=c,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=c,i.entangledLanes&=c,i.errorRecoveryDisabledLanes&=c,i.shellSuspendCounter=0;var M=i.entanglements,H=i.expirationTimes,se=i.hiddenUpdates;for(c=A&~c;0<c;){var be=31-de(c),we=1<<be;M[be]=0,H[be]=-1;var me=se[be];if(me!==null)for(se[be]=null,be=0;be<me.length;be++){var xe=me[be];xe!==null&&(xe.lane&=-536870913)}c&=~we}d!==0&&Ib(i,d,0),y!==0&&g===0&&i.tag!==0&&(i.suspendedLanes|=y&~(A&~s))}function Ib(i,s,c){i.pendingLanes|=s,i.suspendedLanes&=~s;var d=31-de(s);i.entangledLanes|=s,i.entanglements[d]=i.entanglements[d]|1073741824|c&261930}function Ub(i,s){var c=i.entangledLanes|=s;for(i=i.entanglements;c;){var d=31-de(c),g=1<<d;g&s|i[d]&s&&(i[d]|=s),c&=~g}}function qb(i,s){var c=s&-s;return c=(c&42)!==0?1:ah(c),(c&(i.suspendedLanes|s))!==0?0:c}function ah(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function ih(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Fb(){var i=V.p;return i!==0?i:(i=window.event,i===void 0?32:O2(i.type))}function Hb(i,s){var c=V.p;try{return V.p=i,s()}finally{V.p=c}}var li=Math.random().toString(36).slice(2),vr="__reactFiber$"+li,Ur="__reactProps$"+li,Us="__reactContainer$"+li,sh="__reactEvents$"+li,HC="__reactListeners$"+li,VC="__reactHandles$"+li,Vb="__reactResources$"+li,mo="__reactMarker$"+li;function lh(i){delete i[vr],delete i[Ur],delete i[sh],delete i[HC],delete i[VC]}function qs(i){var s=i[vr];if(s)return s;for(var c=i.parentNode;c;){if(s=c[Us]||c[vr]){if(c=s.alternate,s.child!==null||c!==null&&c.child!==null)for(i=f2(i);i!==null;){if(c=i[vr])return c;i=f2(i)}return s}i=c,c=i.parentNode}return null}function Fs(i){if(i=i[vr]||i[Us]){var s=i.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return i}return null}function ho(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(a(33))}function Hs(i){var s=i[Vb];return s||(s=i[Vb]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function or(i){i[mo]=!0}var Yb=new Set,Kb={};function Ki(i,s){Vs(i,s),Vs(i+"Capture",s)}function Vs(i,s){for(Kb[i]=s,i=0;i<s.length;i++)Yb.add(s[i])}var YC=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Gb={},Wb={};function KC(i){return Z.call(Wb,i)?!0:Z.call(Gb,i)?!1:YC.test(i)?Wb[i]=!0:(Gb[i]=!0,!1)}function wu(i,s,c){if(KC(s))if(c===null)i.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var d=s.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+c)}}function Nu(i,s,c){if(c===null)i.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+c)}}function pa(i,s,c,d){if(d===null)i.removeAttribute(c);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(c);return}i.setAttributeNS(s,c,""+d)}}function gn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Qb(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function GC(i,s,c){var d=Object.getOwnPropertyDescriptor(i.constructor.prototype,s);if(!i.hasOwnProperty(s)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var g=d.get,y=d.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return g.call(this)},set:function(A){c=""+A,y.call(this,A)}}),Object.defineProperty(i,s,{enumerable:d.enumerable}),{getValue:function(){return c},setValue:function(A){c=""+A},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function oh(i){if(!i._valueTracker){var s=Qb(i)?"checked":"value";i._valueTracker=GC(i,s,""+i[s])}}function Xb(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var c=s.getValue(),d="";return i&&(d=Qb(i)?i.checked?"true":"false":i.value),i=d,i!==c?(s.setValue(i),!0):!1}function Su(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var WC=/[\n"\\]/g;function vn(i){return i.replace(WC,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function ch(i,s,c,d,g,y,A,M){i.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.type=A:i.removeAttribute("type"),s!=null?A==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+gn(s)):i.value!==""+gn(s)&&(i.value=""+gn(s)):A!=="submit"&&A!=="reset"||i.removeAttribute("value"),s!=null?uh(i,A,gn(s)):c!=null?uh(i,A,gn(c)):d!=null&&i.removeAttribute("value"),g==null&&y!=null&&(i.defaultChecked=!!y),g!=null&&(i.checked=g&&typeof g!="function"&&typeof g!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?i.name=""+gn(M):i.removeAttribute("name")}function Zb(i,s,c,d,g,y,A,M){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(i.type=y),s!=null||c!=null){if(!(y!=="submit"&&y!=="reset"||s!=null)){oh(i);return}c=c!=null?""+gn(c):"",s=s!=null?""+gn(s):c,M||s===i.value||(i.value=s),i.defaultValue=s}d=d??g,d=typeof d!="function"&&typeof d!="symbol"&&!!d,i.checked=M?i.checked:!!d,i.defaultChecked=!!d,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(i.name=A),oh(i)}function uh(i,s,c){s==="number"&&Su(i.ownerDocument)===i||i.defaultValue===""+c||(i.defaultValue=""+c)}function Ys(i,s,c,d){if(i=i.options,s){s={};for(var g=0;g<c.length;g++)s["$"+c[g]]=!0;for(c=0;c<i.length;c++)g=s.hasOwnProperty("$"+i[c].value),i[c].selected!==g&&(i[c].selected=g),g&&d&&(i[c].defaultSelected=!0)}else{for(c=""+gn(c),s=null,g=0;g<i.length;g++){if(i[g].value===c){i[g].selected=!0,d&&(i[g].defaultSelected=!0);return}s!==null||i[g].disabled||(s=i[g])}s!==null&&(s.selected=!0)}}function Jb(i,s,c){if(s!=null&&(s=""+gn(s),s!==i.value&&(i.value=s),c==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=c!=null?""+gn(c):""}function ej(i,s,c,d){if(s==null){if(d!=null){if(c!=null)throw Error(a(92));if(Y(d)){if(1<d.length)throw Error(a(93));d=d[0]}c=d}c==null&&(c=""),s=c}c=gn(s),i.defaultValue=c,d=i.textContent,d===c&&d!==""&&d!==null&&(i.value=d),oh(i)}function Ks(i,s){if(s){var c=i.firstChild;if(c&&c===i.lastChild&&c.nodeType===3){c.nodeValue=s;return}}i.textContent=s}var QC=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function tj(i,s,c){var d=s.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?d?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":d?i.setProperty(s,c):typeof c!="number"||c===0||QC.has(s)?s==="float"?i.cssFloat=c:i[s]=(""+c).trim():i[s]=c+"px"}function rj(i,s,c){if(s!=null&&typeof s!="object")throw Error(a(62));if(i=i.style,c!=null){for(var d in c)!c.hasOwnProperty(d)||s!=null&&s.hasOwnProperty(d)||(d.indexOf("--")===0?i.setProperty(d,""):d==="float"?i.cssFloat="":i[d]="");for(var g in s)d=s[g],s.hasOwnProperty(g)&&c[g]!==d&&tj(i,g,d)}else for(var y in s)s.hasOwnProperty(y)&&tj(i,y,s[y])}function dh(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var XC=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ZC=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Au(i){return ZC.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function xa(){}var fh=null;function mh(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Gs=null,Ws=null;function nj(i){var s=Fs(i);if(s&&(i=s.stateNode)){var c=i[Ur]||null;e:switch(i=s.stateNode,s.type){case"input":if(ch(i,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),s=c.name,c.type==="radio"&&s!=null){for(c=i;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+vn(""+s)+'"][type="radio"]'),s=0;s<c.length;s++){var d=c[s];if(d!==i&&d.form===i.form){var g=d[Ur]||null;if(!g)throw Error(a(90));ch(d,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(s=0;s<c.length;s++)d=c[s],d.form===i.form&&Xb(d)}break e;case"textarea":Jb(i,c.value,c.defaultValue);break e;case"select":s=c.value,s!=null&&Ys(i,!!c.multiple,s,!1)}}}var hh=!1;function aj(i,s,c){if(hh)return i(s,c);hh=!0;try{var d=i(s);return d}finally{if(hh=!1,(Gs!==null||Ws!==null)&&(fd(),Gs&&(s=Gs,i=Ws,Ws=Gs=null,nj(s),i)))for(s=0;s<i.length;s++)nj(i[s])}}function po(i,s){var c=i.stateNode;if(c===null)return null;var d=c[Ur]||null;if(d===null)return null;c=d[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(i=i.type,d=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!d;break e;default:i=!1}if(i)return null;if(c&&typeof c!="function")throw Error(a(231,s,typeof c));return c}var ga=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ph=!1;if(ga)try{var xo={};Object.defineProperty(xo,"passive",{get:function(){ph=!0}}),window.addEventListener("test",xo,xo),window.removeEventListener("test",xo,xo)}catch{ph=!1}var oi=null,xh=null,Eu=null;function ij(){if(Eu)return Eu;var i,s=xh,c=s.length,d,g="value"in oi?oi.value:oi.textContent,y=g.length;for(i=0;i<c&&s[i]===g[i];i++);var A=c-i;for(d=1;d<=A&&s[c-d]===g[y-d];d++);return Eu=g.slice(i,1<d?1-d:void 0)}function _u(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function Ou(){return!0}function sj(){return!1}function qr(i){function s(c,d,g,y,A){this._reactName=c,this._targetInst=g,this.type=d,this.nativeEvent=y,this.target=A,this.currentTarget=null;for(var M in i)i.hasOwnProperty(M)&&(c=i[M],this[M]=c?c(y):y[M]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Ou:sj,this.isPropagationStopped=sj,this}return x(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Ou)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Ou)},persist:function(){},isPersistent:Ou}),s}var Gi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cu=qr(Gi),go=x({},Gi,{view:0,detail:0}),JC=qr(go),gh,vh,vo,ku=x({},go,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bh,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==vo&&(vo&&i.type==="mousemove"?(gh=i.screenX-vo.screenX,vh=i.screenY-vo.screenY):vh=gh=0,vo=i),gh)},movementY:function(i){return"movementY"in i?i.movementY:vh}}),lj=qr(ku),ek=x({},ku,{dataTransfer:0}),tk=qr(ek),rk=x({},go,{relatedTarget:0}),yh=qr(rk),nk=x({},Gi,{animationName:0,elapsedTime:0,pseudoElement:0}),ak=qr(nk),ik=x({},Gi,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),sk=qr(ik),lk=x({},Gi,{data:0}),oj=qr(lk),ok={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ck={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dk(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=uk[i])?!!s[i]:!1}function bh(){return dk}var fk=x({},go,{key:function(i){if(i.key){var s=ok[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=_u(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?ck[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bh,charCode:function(i){return i.type==="keypress"?_u(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?_u(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),mk=qr(fk),hk=x({},ku,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cj=qr(hk),pk=x({},go,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bh}),xk=qr(pk),gk=x({},Gi,{propertyName:0,elapsedTime:0,pseudoElement:0}),vk=qr(gk),yk=x({},ku,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),bk=qr(yk),jk=x({},Gi,{newState:0,oldState:0}),wk=qr(jk),Nk=[9,13,27,32],jh=ga&&"CompositionEvent"in window,yo=null;ga&&"documentMode"in document&&(yo=document.documentMode);var Sk=ga&&"TextEvent"in window&&!yo,uj=ga&&(!jh||yo&&8<yo&&11>=yo),dj=" ",fj=!1;function mj(i,s){switch(i){case"keyup":return Nk.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hj(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Qs=!1;function Ak(i,s){switch(i){case"compositionend":return hj(s);case"keypress":return s.which!==32?null:(fj=!0,dj);case"textInput":return i=s.data,i===dj&&fj?null:i;default:return null}}function Ek(i,s){if(Qs)return i==="compositionend"||!jh&&mj(i,s)?(i=ij(),Eu=xh=oi=null,Qs=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return uj&&s.locale!=="ko"?null:s.data;default:return null}}var _k={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pj(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!_k[i.type]:s==="textarea"}function xj(i,s,c,d){Gs?Ws?Ws.push(d):Ws=[d]:Gs=d,s=yd(s,"onChange"),0<s.length&&(c=new Cu("onChange","change",null,c,d),i.push({event:c,listeners:s}))}var bo=null,jo=null;function Ok(i){Zw(i,0)}function Tu(i){var s=ho(i);if(Xb(s))return i}function gj(i,s){if(i==="change")return s}var vj=!1;if(ga){var wh;if(ga){var Nh="oninput"in document;if(!Nh){var yj=document.createElement("div");yj.setAttribute("oninput","return;"),Nh=typeof yj.oninput=="function"}wh=Nh}else wh=!1;vj=wh&&(!document.documentMode||9<document.documentMode)}function bj(){bo&&(bo.detachEvent("onpropertychange",jj),jo=bo=null)}function jj(i){if(i.propertyName==="value"&&Tu(jo)){var s=[];xj(s,jo,i,mh(i)),aj(Ok,s)}}function Ck(i,s,c){i==="focusin"?(bj(),bo=s,jo=c,bo.attachEvent("onpropertychange",jj)):i==="focusout"&&bj()}function kk(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Tu(jo)}function Tk(i,s){if(i==="click")return Tu(s)}function Mk(i,s){if(i==="input"||i==="change")return Tu(s)}function Pk(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var nn=typeof Object.is=="function"?Object.is:Pk;function wo(i,s){if(nn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var c=Object.keys(i),d=Object.keys(s);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++){var g=c[d];if(!Z.call(s,g)||!nn(i[g],s[g]))return!1}return!0}function wj(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Nj(i,s){var c=wj(i);i=0;for(var d;c;){if(c.nodeType===3){if(d=i+c.textContent.length,i<=s&&d>=s)return{node:c,offset:s-i};i=d}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=wj(c)}}function Sj(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?Sj(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function Aj(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=Su(i.document);s instanceof i.HTMLIFrameElement;){try{var c=typeof s.contentWindow.location.href=="string"}catch{c=!1}if(c)i=s.contentWindow;else break;s=Su(i.document)}return s}function Sh(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var Dk=ga&&"documentMode"in document&&11>=document.documentMode,Xs=null,Ah=null,No=null,Eh=!1;function Ej(i,s,c){var d=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Eh||Xs==null||Xs!==Su(d)||(d=Xs,"selectionStart"in d&&Sh(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),No&&wo(No,d)||(No=d,d=yd(Ah,"onSelect"),0<d.length&&(s=new Cu("onSelect","select",null,s,c),i.push({event:s,listeners:d}),s.target=Xs)))}function Wi(i,s){var c={};return c[i.toLowerCase()]=s.toLowerCase(),c["Webkit"+i]="webkit"+s,c["Moz"+i]="moz"+s,c}var Zs={animationend:Wi("Animation","AnimationEnd"),animationiteration:Wi("Animation","AnimationIteration"),animationstart:Wi("Animation","AnimationStart"),transitionrun:Wi("Transition","TransitionRun"),transitionstart:Wi("Transition","TransitionStart"),transitioncancel:Wi("Transition","TransitionCancel"),transitionend:Wi("Transition","TransitionEnd")},_h={},_j={};ga&&(_j=document.createElement("div").style,"AnimationEvent"in window||(delete Zs.animationend.animation,delete Zs.animationiteration.animation,delete Zs.animationstart.animation),"TransitionEvent"in window||delete Zs.transitionend.transition);function Qi(i){if(_h[i])return _h[i];if(!Zs[i])return i;var s=Zs[i],c;for(c in s)if(s.hasOwnProperty(c)&&c in _j)return _h[i]=s[c];return i}var Oj=Qi("animationend"),Cj=Qi("animationiteration"),kj=Qi("animationstart"),Rk=Qi("transitionrun"),Lk=Qi("transitionstart"),zk=Qi("transitioncancel"),Tj=Qi("transitionend"),Mj=new Map,Oh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Oh.push("scrollEnd");function In(i,s){Mj.set(i,s),Ki(s,[i])}var Mu=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},yn=[],Js=0,Ch=0;function Pu(){for(var i=Js,s=Ch=Js=0;s<i;){var c=yn[s];yn[s++]=null;var d=yn[s];yn[s++]=null;var g=yn[s];yn[s++]=null;var y=yn[s];if(yn[s++]=null,d!==null&&g!==null){var A=d.pending;A===null?g.next=g:(g.next=A.next,A.next=g),d.pending=g}y!==0&&Pj(c,g,y)}}function Du(i,s,c,d){yn[Js++]=i,yn[Js++]=s,yn[Js++]=c,yn[Js++]=d,Ch|=d,i.lanes|=d,i=i.alternate,i!==null&&(i.lanes|=d)}function kh(i,s,c,d){return Du(i,s,c,d),Ru(i)}function Xi(i,s){return Du(i,null,null,s),Ru(i)}function Pj(i,s,c){i.lanes|=c;var d=i.alternate;d!==null&&(d.lanes|=c);for(var g=!1,y=i.return;y!==null;)y.childLanes|=c,d=y.alternate,d!==null&&(d.childLanes|=c),y.tag===22&&(i=y.stateNode,i===null||i._visibility&1||(g=!0)),i=y,y=y.return;return i.tag===3?(y=i.stateNode,g&&s!==null&&(g=31-de(c),i=y.hiddenUpdates,d=i[g],d===null?i[g]=[s]:d.push(s),s.lane=c|536870912),y):null}function Ru(i){if(50<Vo)throw Vo=0,$0=null,Error(a(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var el={};function Bk(i,s,c,d){this.tag=i,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function an(i,s,c,d){return new Bk(i,s,c,d)}function Th(i){return i=i.prototype,!(!i||!i.isReactComponent)}function va(i,s){var c=i.alternate;return c===null?(c=an(i.tag,s,i.key,i.mode),c.elementType=i.elementType,c.type=i.type,c.stateNode=i.stateNode,c.alternate=i,i.alternate=c):(c.pendingProps=s,c.type=i.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=i.flags&65011712,c.childLanes=i.childLanes,c.lanes=i.lanes,c.child=i.child,c.memoizedProps=i.memoizedProps,c.memoizedState=i.memoizedState,c.updateQueue=i.updateQueue,s=i.dependencies,c.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},c.sibling=i.sibling,c.index=i.index,c.ref=i.ref,c.refCleanup=i.refCleanup,c}function Dj(i,s){i.flags&=65011714;var c=i.alternate;return c===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=c.childLanes,i.lanes=c.lanes,i.child=c.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=c.memoizedProps,i.memoizedState=c.memoizedState,i.updateQueue=c.updateQueue,i.type=c.type,s=c.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function Lu(i,s,c,d,g,y){var A=0;if(d=i,typeof i=="function")Th(i)&&(A=1);else if(typeof i=="string")A=FT(i,c,W.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case J:return i=an(31,c,s,g),i.elementType=J,i.lanes=y,i;case N:return Zi(c.children,g,y,s);case S:A=8,g|=24;break;case E:return i=an(12,c,s,g|2),i.elementType=E,i.lanes=y,i;case k:return i=an(13,c,s,g),i.elementType=k,i.lanes=y,i;case L:return i=an(19,c,s,g),i.elementType=L,i.lanes=y,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case _:A=10;break e;case O:A=9;break e;case T:A=11;break e;case $:A=14;break e;case G:A=16,d=null;break e}A=29,c=Error(a(130,i===null?"null":typeof i,"")),d=null}return s=an(A,c,s,g),s.elementType=i,s.type=d,s.lanes=y,s}function Zi(i,s,c,d){return i=an(7,i,d,s),i.lanes=c,i}function Mh(i,s,c){return i=an(6,i,null,s),i.lanes=c,i}function Rj(i){var s=an(18,null,null,0);return s.stateNode=i,s}function Ph(i,s,c){return s=an(4,i.children!==null?i.children:[],i.key,s),s.lanes=c,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var Lj=new WeakMap;function bn(i,s){if(typeof i=="object"&&i!==null){var c=Lj.get(i);return c!==void 0?c:(s={value:i,source:s,stack:I(s)},Lj.set(i,s),s)}return{value:i,source:s,stack:I(s)}}var tl=[],rl=0,zu=null,So=0,jn=[],wn=0,ci=null,ea=1,ta="";function ya(i,s){tl[rl++]=So,tl[rl++]=zu,zu=i,So=s}function zj(i,s,c){jn[wn++]=ea,jn[wn++]=ta,jn[wn++]=ci,ci=i;var d=ea;i=ta;var g=32-de(d)-1;d&=~(1<<g),c+=1;var y=32-de(s)+g;if(30<y){var A=g-g%5;y=(d&(1<<A)-1).toString(32),d>>=A,g-=A,ea=1<<32-de(s)+g|c<<g|d,ta=y+i}else ea=1<<y|c<<g|d,ta=i}function Dh(i){i.return!==null&&(ya(i,1),zj(i,1,0))}function Rh(i){for(;i===zu;)zu=tl[--rl],tl[rl]=null,So=tl[--rl],tl[rl]=null;for(;i===ci;)ci=jn[--wn],jn[wn]=null,ta=jn[--wn],jn[wn]=null,ea=jn[--wn],jn[wn]=null}function Bj(i,s){jn[wn++]=ea,jn[wn++]=ta,jn[wn++]=ci,ea=s.id,ta=s.overflow,ci=i}var yr=null,jt=null,Qe=!1,ui=null,Nn=!1,Lh=Error(a(519));function di(i){var s=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ao(bn(s,i)),Lh}function $j(i){var s=i.stateNode,c=i.type,d=i.memoizedProps;switch(s[vr]=i,s[Ur]=d,c){case"dialog":Ke("cancel",s),Ke("close",s);break;case"iframe":case"object":case"embed":Ke("load",s);break;case"video":case"audio":for(c=0;c<Ko.length;c++)Ke(Ko[c],s);break;case"source":Ke("error",s);break;case"img":case"image":case"link":Ke("error",s),Ke("load",s);break;case"details":Ke("toggle",s);break;case"input":Ke("invalid",s),Zb(s,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0);break;case"select":Ke("invalid",s);break;case"textarea":Ke("invalid",s),ej(s,d.value,d.defaultValue,d.children)}c=d.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||s.textContent===""+c||d.suppressHydrationWarning===!0||r2(s.textContent,c)?(d.popover!=null&&(Ke("beforetoggle",s),Ke("toggle",s)),d.onScroll!=null&&Ke("scroll",s),d.onScrollEnd!=null&&Ke("scrollend",s),d.onClick!=null&&(s.onclick=xa),s=!0):s=!1,s||di(i,!0)}function Ij(i){for(yr=i.return;yr;)switch(yr.tag){case 5:case 31:case 13:Nn=!1;return;case 27:case 3:Nn=!0;return;default:yr=yr.return}}function nl(i){if(i!==yr)return!1;if(!Qe)return Ij(i),Qe=!0,!1;var s=i.tag,c;if((c=s!==3&&s!==27)&&((c=s===5)&&(c=i.type,c=!(c!=="form"&&c!=="button")||ep(i.type,i.memoizedProps)),c=!c),c&&jt&&di(i),Ij(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(a(317));jt=d2(i)}else if(s===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(a(317));jt=d2(i)}else s===27?(s=jt,Ai(i.type)?(i=ip,ip=null,jt=i):jt=s):jt=yr?An(i.stateNode.nextSibling):null;return!0}function Ji(){jt=yr=null,Qe=!1}function zh(){var i=ui;return i!==null&&(Yr===null?Yr=i:Yr.push.apply(Yr,i),ui=null),i}function Ao(i){ui===null?ui=[i]:ui.push(i)}var Bh=R(null),es=null,ba=null;function fi(i,s,c){re(Bh,s._currentValue),s._currentValue=c}function ja(i){i._currentValue=Bh.current,K(Bh)}function $h(i,s,c){for(;i!==null;){var d=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),i===c)break;i=i.return}}function Ih(i,s,c,d){var g=i.child;for(g!==null&&(g.return=i);g!==null;){var y=g.dependencies;if(y!==null){var A=g.child;y=y.firstContext;e:for(;y!==null;){var M=y;y=g;for(var H=0;H<s.length;H++)if(M.context===s[H]){y.lanes|=c,M=y.alternate,M!==null&&(M.lanes|=c),$h(y.return,c,i),d||(A=null);break e}y=M.next}}else if(g.tag===18){if(A=g.return,A===null)throw Error(a(341));A.lanes|=c,y=A.alternate,y!==null&&(y.lanes|=c),$h(A,c,i),A=null}else A=g.child;if(A!==null)A.return=g;else for(A=g;A!==null;){if(A===i){A=null;break}if(g=A.sibling,g!==null){g.return=A.return,A=g;break}A=A.return}g=A}}function al(i,s,c,d){i=null;for(var g=s,y=!1;g!==null;){if(!y){if((g.flags&524288)!==0)y=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var A=g.alternate;if(A===null)throw Error(a(387));if(A=A.memoizedProps,A!==null){var M=g.type;nn(g.pendingProps.value,A.value)||(i!==null?i.push(M):i=[M])}}else if(g===Ae.current){if(A=g.alternate,A===null)throw Error(a(387));A.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(i!==null?i.push(Zo):i=[Zo])}g=g.return}i!==null&&Ih(s,i,c,d),s.flags|=262144}function Bu(i){for(i=i.firstContext;i!==null;){if(!nn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function ts(i){es=i,ba=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function br(i){return Uj(es,i)}function $u(i,s){return es===null&&ts(i),Uj(i,s)}function Uj(i,s){var c=s._currentValue;if(s={context:s,memoizedValue:c,next:null},ba===null){if(i===null)throw Error(a(308));ba=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else ba=ba.next=s;return c}var $k=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(c,d){i.push(d)}};this.abort=function(){s.aborted=!0,i.forEach(function(c){return c()})}},Ik=e.unstable_scheduleCallback,Uk=e.unstable_NormalPriority,Yt={$$typeof:_,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Uh(){return{controller:new $k,data:new Map,refCount:0}}function Eo(i){i.refCount--,i.refCount===0&&Ik(Uk,function(){i.controller.abort()})}var _o=null,qh=0,il=0,sl=null;function qk(i,s){if(_o===null){var c=_o=[];qh=0,il=V0(),sl={status:"pending",value:void 0,then:function(d){c.push(d)}}}return qh++,s.then(qj,qj),s}function qj(){if(--qh===0&&_o!==null){sl!==null&&(sl.status="fulfilled");var i=_o;_o=null,il=0,sl=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function Fk(i,s){var c=[],d={status:"pending",value:null,reason:null,then:function(g){c.push(g)}};return i.then(function(){d.status="fulfilled",d.value=s;for(var g=0;g<c.length;g++)(0,c[g])(s)},function(g){for(d.status="rejected",d.reason=g,g=0;g<c.length;g++)(0,c[g])(void 0)}),d}var Fj=C.S;C.S=function(i,s){Ew=_e(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&qk(i,s),Fj!==null&&Fj(i,s)};var rs=R(null);function Fh(){var i=rs.current;return i!==null?i:ht.pooledCache}function Iu(i,s){s===null?re(rs,rs.current):re(rs,s.pool)}function Hj(){var i=Fh();return i===null?null:{parent:Yt._currentValue,pool:i}}var ll=Error(a(460)),Hh=Error(a(474)),Uu=Error(a(542)),qu={then:function(){}};function Vj(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Yj(i,s,c){switch(c=i[c],c===void 0?i.push(s):c!==s&&(s.then(xa,xa),s=c),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Gj(i),i;default:if(typeof s.status=="string")s.then(xa,xa);else{if(i=ht,i!==null&&100<i.shellSuspendCounter)throw Error(a(482));i=s,i.status="pending",i.then(function(d){if(s.status==="pending"){var g=s;g.status="fulfilled",g.value=d}},function(d){if(s.status==="pending"){var g=s;g.status="rejected",g.reason=d}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Gj(i),i}throw as=s,ll}}function ns(i){try{var s=i._init;return s(i._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(as=c,ll):c}}var as=null;function Kj(){if(as===null)throw Error(a(459));var i=as;return as=null,i}function Gj(i){if(i===ll||i===Uu)throw Error(a(483))}var ol=null,Oo=0;function Fu(i){var s=Oo;return Oo+=1,ol===null&&(ol=[]),Yj(ol,i,s)}function Co(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function Hu(i,s){throw s.$$typeof===b?Error(a(525)):(i=Object.prototype.toString.call(s),Error(a(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function Wj(i){function s(ee,Q){if(i){var ie=ee.deletions;ie===null?(ee.deletions=[Q],ee.flags|=16):ie.push(Q)}}function c(ee,Q){if(!i)return null;for(;Q!==null;)s(ee,Q),Q=Q.sibling;return null}function d(ee){for(var Q=new Map;ee!==null;)ee.key!==null?Q.set(ee.key,ee):Q.set(ee.index,ee),ee=ee.sibling;return Q}function g(ee,Q){return ee=va(ee,Q),ee.index=0,ee.sibling=null,ee}function y(ee,Q,ie){return ee.index=ie,i?(ie=ee.alternate,ie!==null?(ie=ie.index,ie<Q?(ee.flags|=67108866,Q):ie):(ee.flags|=67108866,Q)):(ee.flags|=1048576,Q)}function A(ee){return i&&ee.alternate===null&&(ee.flags|=67108866),ee}function M(ee,Q,ie,je){return Q===null||Q.tag!==6?(Q=Mh(ie,ee.mode,je),Q.return=ee,Q):(Q=g(Q,ie),Q.return=ee,Q)}function H(ee,Q,ie,je){var ze=ie.type;return ze===N?be(ee,Q,ie.props.children,je,ie.key):Q!==null&&(Q.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===G&&ns(ze)===Q.type)?(Q=g(Q,ie.props),Co(Q,ie),Q.return=ee,Q):(Q=Lu(ie.type,ie.key,ie.props,null,ee.mode,je),Co(Q,ie),Q.return=ee,Q)}function se(ee,Q,ie,je){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==ie.containerInfo||Q.stateNode.implementation!==ie.implementation?(Q=Ph(ie,ee.mode,je),Q.return=ee,Q):(Q=g(Q,ie.children||[]),Q.return=ee,Q)}function be(ee,Q,ie,je,ze){return Q===null||Q.tag!==7?(Q=Zi(ie,ee.mode,je,ze),Q.return=ee,Q):(Q=g(Q,ie),Q.return=ee,Q)}function we(ee,Q,ie){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Q=Mh(""+Q,ee.mode,ie),Q.return=ee,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case j:return ie=Lu(Q.type,Q.key,Q.props,null,ee.mode,ie),Co(ie,Q),ie.return=ee,ie;case w:return Q=Ph(Q,ee.mode,ie),Q.return=ee,Q;case G:return Q=ns(Q),we(ee,Q,ie)}if(Y(Q)||q(Q))return Q=Zi(Q,ee.mode,ie,null),Q.return=ee,Q;if(typeof Q.then=="function")return we(ee,Fu(Q),ie);if(Q.$$typeof===_)return we(ee,$u(ee,Q),ie);Hu(ee,Q)}return null}function me(ee,Q,ie,je){var ze=Q!==null?Q.key:null;if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return ze!==null?null:M(ee,Q,""+ie,je);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case j:return ie.key===ze?H(ee,Q,ie,je):null;case w:return ie.key===ze?se(ee,Q,ie,je):null;case G:return ie=ns(ie),me(ee,Q,ie,je)}if(Y(ie)||q(ie))return ze!==null?null:be(ee,Q,ie,je,null);if(typeof ie.then=="function")return me(ee,Q,Fu(ie),je);if(ie.$$typeof===_)return me(ee,Q,$u(ee,ie),je);Hu(ee,ie)}return null}function xe(ee,Q,ie,je,ze){if(typeof je=="string"&&je!==""||typeof je=="number"||typeof je=="bigint")return ee=ee.get(ie)||null,M(Q,ee,""+je,ze);if(typeof je=="object"&&je!==null){switch(je.$$typeof){case j:return ee=ee.get(je.key===null?ie:je.key)||null,H(Q,ee,je,ze);case w:return ee=ee.get(je.key===null?ie:je.key)||null,se(Q,ee,je,ze);case G:return je=ns(je),xe(ee,Q,ie,je,ze)}if(Y(je)||q(je))return ee=ee.get(ie)||null,be(Q,ee,je,ze,null);if(typeof je.then=="function")return xe(ee,Q,ie,Fu(je),ze);if(je.$$typeof===_)return xe(ee,Q,ie,$u(Q,je),ze);Hu(Q,je)}return null}function Pe(ee,Q,ie,je){for(var ze=null,et=null,Le=Q,He=Q=0,We=null;Le!==null&&He<ie.length;He++){Le.index>He?(We=Le,Le=null):We=Le.sibling;var tt=me(ee,Le,ie[He],je);if(tt===null){Le===null&&(Le=We);break}i&&Le&&tt.alternate===null&&s(ee,Le),Q=y(tt,Q,He),et===null?ze=tt:et.sibling=tt,et=tt,Le=We}if(He===ie.length)return c(ee,Le),Qe&&ya(ee,He),ze;if(Le===null){for(;He<ie.length;He++)Le=we(ee,ie[He],je),Le!==null&&(Q=y(Le,Q,He),et===null?ze=Le:et.sibling=Le,et=Le);return Qe&&ya(ee,He),ze}for(Le=d(Le);He<ie.length;He++)We=xe(Le,ee,He,ie[He],je),We!==null&&(i&&We.alternate!==null&&Le.delete(We.key===null?He:We.key),Q=y(We,Q,He),et===null?ze=We:et.sibling=We,et=We);return i&&Le.forEach(function(ki){return s(ee,ki)}),Qe&&ya(ee,He),ze}function Be(ee,Q,ie,je){if(ie==null)throw Error(a(151));for(var ze=null,et=null,Le=Q,He=Q=0,We=null,tt=ie.next();Le!==null&&!tt.done;He++,tt=ie.next()){Le.index>He?(We=Le,Le=null):We=Le.sibling;var ki=me(ee,Le,tt.value,je);if(ki===null){Le===null&&(Le=We);break}i&&Le&&ki.alternate===null&&s(ee,Le),Q=y(ki,Q,He),et===null?ze=ki:et.sibling=ki,et=ki,Le=We}if(tt.done)return c(ee,Le),Qe&&ya(ee,He),ze;if(Le===null){for(;!tt.done;He++,tt=ie.next())tt=we(ee,tt.value,je),tt!==null&&(Q=y(tt,Q,He),et===null?ze=tt:et.sibling=tt,et=tt);return Qe&&ya(ee,He),ze}for(Le=d(Le);!tt.done;He++,tt=ie.next())tt=xe(Le,ee,He,tt.value,je),tt!==null&&(i&&tt.alternate!==null&&Le.delete(tt.key===null?He:tt.key),Q=y(tt,Q,He),et===null?ze=tt:et.sibling=tt,et=tt);return i&&Le.forEach(function(eM){return s(ee,eM)}),Qe&&ya(ee,He),ze}function ft(ee,Q,ie,je){if(typeof ie=="object"&&ie!==null&&ie.type===N&&ie.key===null&&(ie=ie.props.children),typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case j:e:{for(var ze=ie.key;Q!==null;){if(Q.key===ze){if(ze=ie.type,ze===N){if(Q.tag===7){c(ee,Q.sibling),je=g(Q,ie.props.children),je.return=ee,ee=je;break e}}else if(Q.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===G&&ns(ze)===Q.type){c(ee,Q.sibling),je=g(Q,ie.props),Co(je,ie),je.return=ee,ee=je;break e}c(ee,Q);break}else s(ee,Q);Q=Q.sibling}ie.type===N?(je=Zi(ie.props.children,ee.mode,je,ie.key),je.return=ee,ee=je):(je=Lu(ie.type,ie.key,ie.props,null,ee.mode,je),Co(je,ie),je.return=ee,ee=je)}return A(ee);case w:e:{for(ze=ie.key;Q!==null;){if(Q.key===ze)if(Q.tag===4&&Q.stateNode.containerInfo===ie.containerInfo&&Q.stateNode.implementation===ie.implementation){c(ee,Q.sibling),je=g(Q,ie.children||[]),je.return=ee,ee=je;break e}else{c(ee,Q);break}else s(ee,Q);Q=Q.sibling}je=Ph(ie,ee.mode,je),je.return=ee,ee=je}return A(ee);case G:return ie=ns(ie),ft(ee,Q,ie,je)}if(Y(ie))return Pe(ee,Q,ie,je);if(q(ie)){if(ze=q(ie),typeof ze!="function")throw Error(a(150));return ie=ze.call(ie),Be(ee,Q,ie,je)}if(typeof ie.then=="function")return ft(ee,Q,Fu(ie),je);if(ie.$$typeof===_)return ft(ee,Q,$u(ee,ie),je);Hu(ee,ie)}return typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint"?(ie=""+ie,Q!==null&&Q.tag===6?(c(ee,Q.sibling),je=g(Q,ie),je.return=ee,ee=je):(c(ee,Q),je=Mh(ie,ee.mode,je),je.return=ee,ee=je),A(ee)):c(ee,Q)}return function(ee,Q,ie,je){try{Oo=0;var ze=ft(ee,Q,ie,je);return ol=null,ze}catch(Le){if(Le===ll||Le===Uu)throw Le;var et=an(29,Le,null,ee.mode);return et.lanes=je,et.return=ee,et}finally{}}}var is=Wj(!0),Qj=Wj(!1),mi=!1;function Vh(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Yh(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function hi(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function pi(i,s,c){var d=i.updateQueue;if(d===null)return null;if(d=d.shared,(at&2)!==0){var g=d.pending;return g===null?s.next=s:(s.next=g.next,g.next=s),d.pending=s,s=Ru(i),Pj(i,null,c),s}return Du(i,d,s,c),Ru(i)}function ko(i,s,c){if(s=s.updateQueue,s!==null&&(s=s.shared,(c&4194048)!==0)){var d=s.lanes;d&=i.pendingLanes,c|=d,s.lanes=c,Ub(i,c)}}function Kh(i,s){var c=i.updateQueue,d=i.alternate;if(d!==null&&(d=d.updateQueue,c===d)){var g=null,y=null;if(c=c.firstBaseUpdate,c!==null){do{var A={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};y===null?g=y=A:y=y.next=A,c=c.next}while(c!==null);y===null?g=y=s:y=y.next=s}else g=y=s;c={baseState:d.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:d.shared,callbacks:d.callbacks},i.updateQueue=c;return}i=c.lastBaseUpdate,i===null?c.firstBaseUpdate=s:i.next=s,c.lastBaseUpdate=s}var Gh=!1;function To(){if(Gh){var i=sl;if(i!==null)throw i}}function Mo(i,s,c,d){Gh=!1;var g=i.updateQueue;mi=!1;var y=g.firstBaseUpdate,A=g.lastBaseUpdate,M=g.shared.pending;if(M!==null){g.shared.pending=null;var H=M,se=H.next;H.next=null,A===null?y=se:A.next=se,A=H;var be=i.alternate;be!==null&&(be=be.updateQueue,M=be.lastBaseUpdate,M!==A&&(M===null?be.firstBaseUpdate=se:M.next=se,be.lastBaseUpdate=H))}if(y!==null){var we=g.baseState;A=0,be=se=H=null,M=y;do{var me=M.lane&-536870913,xe=me!==M.lane;if(xe?(Ge&me)===me:(d&me)===me){me!==0&&me===il&&(Gh=!0),be!==null&&(be=be.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});e:{var Pe=i,Be=M;me=s;var ft=c;switch(Be.tag){case 1:if(Pe=Be.payload,typeof Pe=="function"){we=Pe.call(ft,we,me);break e}we=Pe;break e;case 3:Pe.flags=Pe.flags&-65537|128;case 0:if(Pe=Be.payload,me=typeof Pe=="function"?Pe.call(ft,we,me):Pe,me==null)break e;we=x({},we,me);break e;case 2:mi=!0}}me=M.callback,me!==null&&(i.flags|=64,xe&&(i.flags|=8192),xe=g.callbacks,xe===null?g.callbacks=[me]:xe.push(me))}else xe={lane:me,tag:M.tag,payload:M.payload,callback:M.callback,next:null},be===null?(se=be=xe,H=we):be=be.next=xe,A|=me;if(M=M.next,M===null){if(M=g.shared.pending,M===null)break;xe=M,M=xe.next,xe.next=null,g.lastBaseUpdate=xe,g.shared.pending=null}}while(!0);be===null&&(H=we),g.baseState=H,g.firstBaseUpdate=se,g.lastBaseUpdate=be,y===null&&(g.shared.lanes=0),bi|=A,i.lanes=A,i.memoizedState=we}}function Xj(i,s){if(typeof i!="function")throw Error(a(191,i));i.call(s)}function Zj(i,s){var c=i.callbacks;if(c!==null)for(i.callbacks=null,i=0;i<c.length;i++)Xj(c[i],s)}var cl=R(null),Vu=R(0);function Jj(i,s){i=ka,re(Vu,i),re(cl,s),ka=i|s.baseLanes}function Wh(){re(Vu,ka),re(cl,cl.current)}function Qh(){ka=Vu.current,K(cl),K(Vu)}var sn=R(null),Sn=null;function xi(i){var s=i.alternate;re($t,$t.current&1),re(sn,i),Sn===null&&(s===null||cl.current!==null||s.memoizedState!==null)&&(Sn=i)}function Xh(i){re($t,$t.current),re(sn,i),Sn===null&&(Sn=i)}function e1(i){i.tag===22?(re($t,$t.current),re(sn,i),Sn===null&&(Sn=i)):gi()}function gi(){re($t,$t.current),re(sn,sn.current)}function ln(i){K(sn),Sn===i&&(Sn=null),K($t)}var $t=R(0);function Yu(i){for(var s=i;s!==null;){if(s.tag===13){var c=s.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||np(c)||ap(c)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var wa=0,Ue=null,ut=null,Kt=null,Ku=!1,ul=!1,ss=!1,Gu=0,Po=0,dl=null,Hk=0;function Rt(){throw Error(a(321))}function Zh(i,s){if(s===null)return!1;for(var c=0;c<s.length&&c<i.length;c++)if(!nn(i[c],s[c]))return!1;return!0}function Jh(i,s,c,d,g,y){return wa=y,Ue=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,C.H=i===null||i.memoizedState===null?z1:h0,ss=!1,y=c(d,g),ss=!1,ul&&(y=r1(s,c,d,g)),t1(i),y}function t1(i){C.H=Lo;var s=ut!==null&&ut.next!==null;if(wa=0,Kt=ut=Ue=null,Ku=!1,Po=0,dl=null,s)throw Error(a(300));i===null||Gt||(i=i.dependencies,i!==null&&Bu(i)&&(Gt=!0))}function r1(i,s,c,d){Ue=i;var g=0;do{if(ul&&(dl=null),Po=0,ul=!1,25<=g)throw Error(a(301));if(g+=1,Kt=ut=null,i.updateQueue!=null){var y=i.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}C.H=B1,y=s(c,d)}while(ul);return y}function Vk(){var i=C.H,s=i.useState()[0];return s=typeof s.then=="function"?Do(s):s,i=i.useState()[0],(ut!==null?ut.memoizedState:null)!==i&&(Ue.flags|=1024),s}function e0(){var i=Gu!==0;return Gu=0,i}function t0(i,s,c){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~c}function r0(i){if(Ku){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Ku=!1}wa=0,Kt=ut=Ue=null,ul=!1,Po=Gu=0,dl=null}function Pr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kt===null?Ue.memoizedState=Kt=i:Kt=Kt.next=i,Kt}function It(){if(ut===null){var i=Ue.alternate;i=i!==null?i.memoizedState:null}else i=ut.next;var s=Kt===null?Ue.memoizedState:Kt.next;if(s!==null)Kt=s,ut=i;else{if(i===null)throw Ue.alternate===null?Error(a(467)):Error(a(310));ut=i,i={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},Kt===null?Ue.memoizedState=Kt=i:Kt=Kt.next=i}return Kt}function Wu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Do(i){var s=Po;return Po+=1,dl===null&&(dl=[]),i=Yj(dl,i,s),s=Ue,(Kt===null?s.memoizedState:Kt.next)===null&&(s=s.alternate,C.H=s===null||s.memoizedState===null?z1:h0),i}function Qu(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Do(i);if(i.$$typeof===_)return br(i)}throw Error(a(438,String(i)))}function n0(i){var s=null,c=Ue.updateQueue;if(c!==null&&(s=c.memoCache),s==null){var d=Ue.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(s={data:d.data.map(function(g){return g.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),c===null&&(c=Wu(),Ue.updateQueue=c),c.memoCache=s,c=s.data[s.index],c===void 0)for(c=s.data[s.index]=Array(i),d=0;d<i;d++)c[d]=ue;return s.index++,c}function Na(i,s){return typeof s=="function"?s(i):s}function Xu(i){var s=It();return a0(s,ut,i)}function a0(i,s,c){var d=i.queue;if(d===null)throw Error(a(311));d.lastRenderedReducer=c;var g=i.baseQueue,y=d.pending;if(y!==null){if(g!==null){var A=g.next;g.next=y.next,y.next=A}s.baseQueue=g=y,d.pending=null}if(y=i.baseState,g===null)i.memoizedState=y;else{s=g.next;var M=A=null,H=null,se=s,be=!1;do{var we=se.lane&-536870913;if(we!==se.lane?(Ge&we)===we:(wa&we)===we){var me=se.revertLane;if(me===0)H!==null&&(H=H.next={lane:0,revertLane:0,gesture:null,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null}),we===il&&(be=!0);else if((wa&me)===me){se=se.next,me===il&&(be=!0);continue}else we={lane:0,revertLane:se.revertLane,gesture:null,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},H===null?(M=H=we,A=y):H=H.next=we,Ue.lanes|=me,bi|=me;we=se.action,ss&&c(y,we),y=se.hasEagerState?se.eagerState:c(y,we)}else me={lane:we,revertLane:se.revertLane,gesture:se.gesture,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},H===null?(M=H=me,A=y):H=H.next=me,Ue.lanes|=we,bi|=we;se=se.next}while(se!==null&&se!==s);if(H===null?A=y:H.next=M,!nn(y,i.memoizedState)&&(Gt=!0,be&&(c=sl,c!==null)))throw c;i.memoizedState=y,i.baseState=A,i.baseQueue=H,d.lastRenderedState=y}return g===null&&(d.lanes=0),[i.memoizedState,d.dispatch]}function i0(i){var s=It(),c=s.queue;if(c===null)throw Error(a(311));c.lastRenderedReducer=i;var d=c.dispatch,g=c.pending,y=s.memoizedState;if(g!==null){c.pending=null;var A=g=g.next;do y=i(y,A.action),A=A.next;while(A!==g);nn(y,s.memoizedState)||(Gt=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),c.lastRenderedState=y}return[y,d]}function n1(i,s,c){var d=Ue,g=It(),y=Qe;if(y){if(c===void 0)throw Error(a(407));c=c()}else c=s();var A=!nn((ut||g).memoizedState,c);if(A&&(g.memoizedState=c,Gt=!0),g=g.queue,o0(s1.bind(null,d,g,i),[i]),g.getSnapshot!==s||A||Kt!==null&&Kt.memoizedState.tag&1){if(d.flags|=2048,fl(9,{destroy:void 0},i1.bind(null,d,g,c,s),null),ht===null)throw Error(a(349));y||(wa&127)!==0||a1(d,s,c)}return c}function a1(i,s,c){i.flags|=16384,i={getSnapshot:s,value:c},s=Ue.updateQueue,s===null?(s=Wu(),Ue.updateQueue=s,s.stores=[i]):(c=s.stores,c===null?s.stores=[i]:c.push(i))}function i1(i,s,c,d){s.value=c,s.getSnapshot=d,l1(s)&&o1(i)}function s1(i,s,c){return c(function(){l1(s)&&o1(i)})}function l1(i){var s=i.getSnapshot;i=i.value;try{var c=s();return!nn(i,c)}catch{return!0}}function o1(i){var s=Xi(i,2);s!==null&&Kr(s,i,2)}function s0(i){var s=Pr();if(typeof i=="function"){var c=i;if(i=c(),ss){Jn(!0);try{c()}finally{Jn(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Na,lastRenderedState:i},s}function c1(i,s,c,d){return i.baseState=c,a0(i,ut,typeof d=="function"?d:Na)}function Yk(i,s,c,d,g){if(ed(i))throw Error(a(485));if(i=s.action,i!==null){var y={payload:g,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){y.listeners.push(A)}};C.T!==null?c(!0):y.isTransition=!1,d(y),c=s.pending,c===null?(y.next=s.pending=y,u1(s,y)):(y.next=c.next,s.pending=c.next=y)}}function u1(i,s){var c=s.action,d=s.payload,g=i.state;if(s.isTransition){var y=C.T,A={};C.T=A;try{var M=c(g,d),H=C.S;H!==null&&H(A,M),d1(i,s,M)}catch(se){l0(i,s,se)}finally{y!==null&&A.types!==null&&(y.types=A.types),C.T=y}}else try{y=c(g,d),d1(i,s,y)}catch(se){l0(i,s,se)}}function d1(i,s,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(d){f1(i,s,d)},function(d){return l0(i,s,d)}):f1(i,s,c)}function f1(i,s,c){s.status="fulfilled",s.value=c,m1(s),i.state=c,s=i.pending,s!==null&&(c=s.next,c===s?i.pending=null:(c=c.next,s.next=c,u1(i,c)))}function l0(i,s,c){var d=i.pending;if(i.pending=null,d!==null){d=d.next;do s.status="rejected",s.reason=c,m1(s),s=s.next;while(s!==d)}i.action=null}function m1(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function h1(i,s){return s}function p1(i,s){if(Qe){var c=ht.formState;if(c!==null){e:{var d=Ue;if(Qe){if(jt){t:{for(var g=jt,y=Nn;g.nodeType!==8;){if(!y){g=null;break t}if(g=An(g.nextSibling),g===null){g=null;break t}}y=g.data,g=y==="F!"||y==="F"?g:null}if(g){jt=An(g.nextSibling),d=g.data==="F!";break e}}di(d)}d=!1}d&&(s=c[0])}}return c=Pr(),c.memoizedState=c.baseState=s,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:h1,lastRenderedState:s},c.queue=d,c=D1.bind(null,Ue,d),d.dispatch=c,d=s0(!1),y=m0.bind(null,Ue,!1,d.queue),d=Pr(),g={state:s,dispatch:null,action:i,pending:null},d.queue=g,c=Yk.bind(null,Ue,g,y,c),g.dispatch=c,d.memoizedState=i,[s,c,!1]}function x1(i){var s=It();return g1(s,ut,i)}function g1(i,s,c){if(s=a0(i,s,h1)[0],i=Xu(Na)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var d=Do(s)}catch(A){throw A===ll?Uu:A}else d=s;s=It();var g=s.queue,y=g.dispatch;return c!==s.memoizedState&&(Ue.flags|=2048,fl(9,{destroy:void 0},Kk.bind(null,g,c),null)),[d,y,i]}function Kk(i,s){i.action=s}function v1(i){var s=It(),c=ut;if(c!==null)return g1(s,c,i);It(),s=s.memoizedState,c=It();var d=c.queue.dispatch;return c.memoizedState=i,[s,d,!1]}function fl(i,s,c,d){return i={tag:i,create:c,deps:d,inst:s,next:null},s=Ue.updateQueue,s===null&&(s=Wu(),Ue.updateQueue=s),c=s.lastEffect,c===null?s.lastEffect=i.next=i:(d=c.next,c.next=i,i.next=d,s.lastEffect=i),i}function y1(){return It().memoizedState}function Zu(i,s,c,d){var g=Pr();Ue.flags|=i,g.memoizedState=fl(1|s,{destroy:void 0},c,d===void 0?null:d)}function Ju(i,s,c,d){var g=It();d=d===void 0?null:d;var y=g.memoizedState.inst;ut!==null&&d!==null&&Zh(d,ut.memoizedState.deps)?g.memoizedState=fl(s,y,c,d):(Ue.flags|=i,g.memoizedState=fl(1|s,y,c,d))}function b1(i,s){Zu(8390656,8,i,s)}function o0(i,s){Ju(2048,8,i,s)}function Gk(i){Ue.flags|=4;var s=Ue.updateQueue;if(s===null)s=Wu(),Ue.updateQueue=s,s.events=[i];else{var c=s.events;c===null?s.events=[i]:c.push(i)}}function j1(i){var s=It().memoizedState;return Gk({ref:s,nextImpl:i}),function(){if((at&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}function w1(i,s){return Ju(4,2,i,s)}function N1(i,s){return Ju(4,4,i,s)}function S1(i,s){if(typeof s=="function"){i=i();var c=s(i);return function(){typeof c=="function"?c():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function A1(i,s,c){c=c!=null?c.concat([i]):null,Ju(4,4,S1.bind(null,s,i),c)}function c0(){}function E1(i,s){var c=It();s=s===void 0?null:s;var d=c.memoizedState;return s!==null&&Zh(s,d[1])?d[0]:(c.memoizedState=[i,s],i)}function _1(i,s){var c=It();s=s===void 0?null:s;var d=c.memoizedState;if(s!==null&&Zh(s,d[1]))return d[0];if(d=i(),ss){Jn(!0);try{i()}finally{Jn(!1)}}return c.memoizedState=[d,s],d}function u0(i,s,c){return c===void 0||(wa&1073741824)!==0&&(Ge&261930)===0?i.memoizedState=s:(i.memoizedState=c,i=Ow(),Ue.lanes|=i,bi|=i,c)}function O1(i,s,c,d){return nn(c,s)?c:cl.current!==null?(i=u0(i,c,d),nn(i,s)||(Gt=!0),i):(wa&42)===0||(wa&1073741824)!==0&&(Ge&261930)===0?(Gt=!0,i.memoizedState=c):(i=Ow(),Ue.lanes|=i,bi|=i,s)}function C1(i,s,c,d,g){var y=V.p;V.p=y!==0&&8>y?y:8;var A=C.T,M={};C.T=M,m0(i,!1,s,c);try{var H=g(),se=C.S;if(se!==null&&se(M,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var be=Fk(H,d);Ro(i,s,be,un(i))}else Ro(i,s,d,un(i))}catch(we){Ro(i,s,{then:function(){},status:"rejected",reason:we},un())}finally{V.p=y,A!==null&&M.types!==null&&(A.types=M.types),C.T=A}}function Wk(){}function d0(i,s,c,d){if(i.tag!==5)throw Error(a(476));var g=k1(i).queue;C1(i,g,s,ae,c===null?Wk:function(){return T1(i),c(d)})}function k1(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Na,lastRenderedState:ae},next:null};var c={};return s.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Na,lastRenderedState:c},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function T1(i){var s=k1(i);s.next===null&&(s=i.alternate.memoizedState),Ro(i,s.next.queue,{},un())}function f0(){return br(Zo)}function M1(){return It().memoizedState}function P1(){return It().memoizedState}function Qk(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var c=un();i=hi(c);var d=pi(s,i,c);d!==null&&(Kr(d,s,c),ko(d,s,c)),s={cache:Uh()},i.payload=s;return}s=s.return}}function Xk(i,s,c){var d=un();c={lane:d,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},ed(i)?R1(s,c):(c=kh(i,s,c,d),c!==null&&(Kr(c,i,d),L1(c,s,d)))}function D1(i,s,c){var d=un();Ro(i,s,c,d)}function Ro(i,s,c,d){var g={lane:d,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(ed(i))R1(s,g);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var A=s.lastRenderedState,M=y(A,c);if(g.hasEagerState=!0,g.eagerState=M,nn(M,A))return Du(i,s,g,0),ht===null&&Pu(),!1}catch{}finally{}if(c=kh(i,s,g,d),c!==null)return Kr(c,i,d),L1(c,s,d),!0}return!1}function m0(i,s,c,d){if(d={lane:2,revertLane:V0(),gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},ed(i)){if(s)throw Error(a(479))}else s=kh(i,c,d,2),s!==null&&Kr(s,i,2)}function ed(i){var s=i.alternate;return i===Ue||s!==null&&s===Ue}function R1(i,s){ul=Ku=!0;var c=i.pending;c===null?s.next=s:(s.next=c.next,c.next=s),i.pending=s}function L1(i,s,c){if((c&4194048)!==0){var d=s.lanes;d&=i.pendingLanes,c|=d,s.lanes=c,Ub(i,c)}}var Lo={readContext:br,use:Qu,useCallback:Rt,useContext:Rt,useEffect:Rt,useImperativeHandle:Rt,useLayoutEffect:Rt,useInsertionEffect:Rt,useMemo:Rt,useReducer:Rt,useRef:Rt,useState:Rt,useDebugValue:Rt,useDeferredValue:Rt,useTransition:Rt,useSyncExternalStore:Rt,useId:Rt,useHostTransitionStatus:Rt,useFormState:Rt,useActionState:Rt,useOptimistic:Rt,useMemoCache:Rt,useCacheRefresh:Rt};Lo.useEffectEvent=Rt;var z1={readContext:br,use:Qu,useCallback:function(i,s){return Pr().memoizedState=[i,s===void 0?null:s],i},useContext:br,useEffect:b1,useImperativeHandle:function(i,s,c){c=c!=null?c.concat([i]):null,Zu(4194308,4,S1.bind(null,s,i),c)},useLayoutEffect:function(i,s){return Zu(4194308,4,i,s)},useInsertionEffect:function(i,s){Zu(4,2,i,s)},useMemo:function(i,s){var c=Pr();s=s===void 0?null:s;var d=i();if(ss){Jn(!0);try{i()}finally{Jn(!1)}}return c.memoizedState=[d,s],d},useReducer:function(i,s,c){var d=Pr();if(c!==void 0){var g=c(s);if(ss){Jn(!0);try{c(s)}finally{Jn(!1)}}}else g=s;return d.memoizedState=d.baseState=g,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:g},d.queue=i,i=i.dispatch=Xk.bind(null,Ue,i),[d.memoizedState,i]},useRef:function(i){var s=Pr();return i={current:i},s.memoizedState=i},useState:function(i){i=s0(i);var s=i.queue,c=D1.bind(null,Ue,s);return s.dispatch=c,[i.memoizedState,c]},useDebugValue:c0,useDeferredValue:function(i,s){var c=Pr();return u0(c,i,s)},useTransition:function(){var i=s0(!1);return i=C1.bind(null,Ue,i.queue,!0,!1),Pr().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,c){var d=Ue,g=Pr();if(Qe){if(c===void 0)throw Error(a(407));c=c()}else{if(c=s(),ht===null)throw Error(a(349));(Ge&127)!==0||a1(d,s,c)}g.memoizedState=c;var y={value:c,getSnapshot:s};return g.queue=y,b1(s1.bind(null,d,y,i),[i]),d.flags|=2048,fl(9,{destroy:void 0},i1.bind(null,d,y,c,s),null),c},useId:function(){var i=Pr(),s=ht.identifierPrefix;if(Qe){var c=ta,d=ea;c=(d&~(1<<32-de(d)-1)).toString(32)+c,s="_"+s+"R_"+c,c=Gu++,0<c&&(s+="H"+c.toString(32)),s+="_"}else c=Hk++,s="_"+s+"r_"+c.toString(32)+"_";return i.memoizedState=s},useHostTransitionStatus:f0,useFormState:p1,useActionState:p1,useOptimistic:function(i){var s=Pr();s.memoizedState=s.baseState=i;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=c,s=m0.bind(null,Ue,!0,c),c.dispatch=s,[i,s]},useMemoCache:n0,useCacheRefresh:function(){return Pr().memoizedState=Qk.bind(null,Ue)},useEffectEvent:function(i){var s=Pr(),c={impl:i};return s.memoizedState=c,function(){if((at&2)!==0)throw Error(a(440));return c.impl.apply(void 0,arguments)}}},h0={readContext:br,use:Qu,useCallback:E1,useContext:br,useEffect:o0,useImperativeHandle:A1,useInsertionEffect:w1,useLayoutEffect:N1,useMemo:_1,useReducer:Xu,useRef:y1,useState:function(){return Xu(Na)},useDebugValue:c0,useDeferredValue:function(i,s){var c=It();return O1(c,ut.memoizedState,i,s)},useTransition:function(){var i=Xu(Na)[0],s=It().memoizedState;return[typeof i=="boolean"?i:Do(i),s]},useSyncExternalStore:n1,useId:M1,useHostTransitionStatus:f0,useFormState:x1,useActionState:x1,useOptimistic:function(i,s){var c=It();return c1(c,ut,i,s)},useMemoCache:n0,useCacheRefresh:P1};h0.useEffectEvent=j1;var B1={readContext:br,use:Qu,useCallback:E1,useContext:br,useEffect:o0,useImperativeHandle:A1,useInsertionEffect:w1,useLayoutEffect:N1,useMemo:_1,useReducer:i0,useRef:y1,useState:function(){return i0(Na)},useDebugValue:c0,useDeferredValue:function(i,s){var c=It();return ut===null?u0(c,i,s):O1(c,ut.memoizedState,i,s)},useTransition:function(){var i=i0(Na)[0],s=It().memoizedState;return[typeof i=="boolean"?i:Do(i),s]},useSyncExternalStore:n1,useId:M1,useHostTransitionStatus:f0,useFormState:v1,useActionState:v1,useOptimistic:function(i,s){var c=It();return ut!==null?c1(c,ut,i,s):(c.baseState=i,[i,c.queue.dispatch])},useMemoCache:n0,useCacheRefresh:P1};B1.useEffectEvent=j1;function p0(i,s,c,d){s=i.memoizedState,c=c(d,s),c=c==null?s:x({},s,c),i.memoizedState=c,i.lanes===0&&(i.updateQueue.baseState=c)}var x0={enqueueSetState:function(i,s,c){i=i._reactInternals;var d=un(),g=hi(d);g.payload=s,c!=null&&(g.callback=c),s=pi(i,g,d),s!==null&&(Kr(s,i,d),ko(s,i,d))},enqueueReplaceState:function(i,s,c){i=i._reactInternals;var d=un(),g=hi(d);g.tag=1,g.payload=s,c!=null&&(g.callback=c),s=pi(i,g,d),s!==null&&(Kr(s,i,d),ko(s,i,d))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var c=un(),d=hi(c);d.tag=2,s!=null&&(d.callback=s),s=pi(i,d,c),s!==null&&(Kr(s,i,c),ko(s,i,c))}};function $1(i,s,c,d,g,y,A){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(d,y,A):s.prototype&&s.prototype.isPureReactComponent?!wo(c,d)||!wo(g,y):!0}function I1(i,s,c,d){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(c,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(c,d),s.state!==i&&x0.enqueueReplaceState(s,s.state,null)}function ls(i,s){var c=s;if("ref"in s){c={};for(var d in s)d!=="ref"&&(c[d]=s[d])}if(i=i.defaultProps){c===s&&(c=x({},c));for(var g in i)c[g]===void 0&&(c[g]=i[g])}return c}function U1(i){Mu(i)}function q1(i){console.error(i)}function F1(i){Mu(i)}function td(i,s){try{var c=i.onUncaughtError;c(s.value,{componentStack:s.stack})}catch(d){setTimeout(function(){throw d})}}function H1(i,s,c){try{var d=i.onCaughtError;d(c.value,{componentStack:c.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function g0(i,s,c){return c=hi(c),c.tag=3,c.payload={element:null},c.callback=function(){td(i,s)},c}function V1(i){return i=hi(i),i.tag=3,i}function Y1(i,s,c,d){var g=c.type.getDerivedStateFromError;if(typeof g=="function"){var y=d.value;i.payload=function(){return g(y)},i.callback=function(){H1(s,c,d)}}var A=c.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(i.callback=function(){H1(s,c,d),typeof g!="function"&&(ji===null?ji=new Set([this]):ji.add(this));var M=d.stack;this.componentDidCatch(d.value,{componentStack:M!==null?M:""})})}function Zk(i,s,c,d,g){if(c.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(s=c.alternate,s!==null&&al(s,c,g,!0),c=sn.current,c!==null){switch(c.tag){case 31:case 13:return Sn===null?md():c.alternate===null&&Lt===0&&(Lt=3),c.flags&=-257,c.flags|=65536,c.lanes=g,d===qu?c.flags|=16384:(s=c.updateQueue,s===null?c.updateQueue=new Set([d]):s.add(d),q0(i,d,g)),!1;case 22:return c.flags|=65536,d===qu?c.flags|=16384:(s=c.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([d])},c.updateQueue=s):(c=s.retryQueue,c===null?s.retryQueue=new Set([d]):c.add(d)),q0(i,d,g)),!1}throw Error(a(435,c.tag))}return q0(i,d,g),md(),!1}if(Qe)return s=sn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=g,d!==Lh&&(i=Error(a(422),{cause:d}),Ao(bn(i,c)))):(d!==Lh&&(s=Error(a(423),{cause:d}),Ao(bn(s,c))),i=i.current.alternate,i.flags|=65536,g&=-g,i.lanes|=g,d=bn(d,c),g=g0(i.stateNode,d,g),Kh(i,g),Lt!==4&&(Lt=2)),!1;var y=Error(a(520),{cause:d});if(y=bn(y,c),Ho===null?Ho=[y]:Ho.push(y),Lt!==4&&(Lt=2),s===null)return!0;d=bn(d,c),c=s;do{switch(c.tag){case 3:return c.flags|=65536,i=g&-g,c.lanes|=i,i=g0(c.stateNode,d,i),Kh(c,i),!1;case 1:if(s=c.type,y=c.stateNode,(c.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(ji===null||!ji.has(y))))return c.flags|=65536,g&=-g,c.lanes|=g,g=V1(g),Y1(g,i,c,d),Kh(c,g),!1}c=c.return}while(c!==null);return!1}var v0=Error(a(461)),Gt=!1;function jr(i,s,c,d){s.child=i===null?Qj(s,null,c,d):is(s,i.child,c,d)}function K1(i,s,c,d,g){c=c.render;var y=s.ref;if("ref"in d){var A={};for(var M in d)M!=="ref"&&(A[M]=d[M])}else A=d;return ts(s),d=Jh(i,s,c,A,y,g),M=e0(),i!==null&&!Gt?(t0(i,s,g),Sa(i,s,g)):(Qe&&M&&Dh(s),s.flags|=1,jr(i,s,d,g),s.child)}function G1(i,s,c,d,g){if(i===null){var y=c.type;return typeof y=="function"&&!Th(y)&&y.defaultProps===void 0&&c.compare===null?(s.tag=15,s.type=y,W1(i,s,y,d,g)):(i=Lu(c.type,null,d,s,s.mode,g),i.ref=s.ref,i.return=s,s.child=i)}if(y=i.child,!E0(i,g)){var A=y.memoizedProps;if(c=c.compare,c=c!==null?c:wo,c(A,d)&&i.ref===s.ref)return Sa(i,s,g)}return s.flags|=1,i=va(y,d),i.ref=s.ref,i.return=s,s.child=i}function W1(i,s,c,d,g){if(i!==null){var y=i.memoizedProps;if(wo(y,d)&&i.ref===s.ref)if(Gt=!1,s.pendingProps=d=y,E0(i,g))(i.flags&131072)!==0&&(Gt=!0);else return s.lanes=i.lanes,Sa(i,s,g)}return y0(i,s,c,d,g)}function Q1(i,s,c,d){var g=d.children,y=i!==null?i.memoizedState:null;if(i===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.mode==="hidden"){if((s.flags&128)!==0){if(y=y!==null?y.baseLanes|c:c,i!==null){for(d=s.child=i.child,g=0;d!==null;)g=g|d.lanes|d.childLanes,d=d.sibling;d=g&~y}else d=0,s.child=null;return X1(i,s,y,c,d)}if((c&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&Iu(s,y!==null?y.cachePool:null),y!==null?Jj(s,y):Wh(),e1(s);else return d=s.lanes=536870912,X1(i,s,y!==null?y.baseLanes|c:c,c,d)}else y!==null?(Iu(s,y.cachePool),Jj(s,y),gi(),s.memoizedState=null):(i!==null&&Iu(s,null),Wh(),gi());return jr(i,s,g,c),s.child}function zo(i,s){return i!==null&&i.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function X1(i,s,c,d,g){var y=Fh();return y=y===null?null:{parent:Yt._currentValue,pool:y},s.memoizedState={baseLanes:c,cachePool:y},i!==null&&Iu(s,null),Wh(),e1(s),i!==null&&al(i,s,d,!0),s.childLanes=g,null}function rd(i,s){return s=ad({mode:s.mode,children:s.children},i.mode),s.ref=i.ref,i.child=s,s.return=i,s}function Z1(i,s,c){return is(s,i.child,null,c),i=rd(s,s.pendingProps),i.flags|=2,ln(s),s.memoizedState=null,i}function Jk(i,s,c){var d=s.pendingProps,g=(s.flags&128)!==0;if(s.flags&=-129,i===null){if(Qe){if(d.mode==="hidden")return i=rd(s,d),s.lanes=536870912,zo(null,i);if(Xh(s),(i=jt)?(i=u2(i,Nn),i=i!==null&&i.data==="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:ci!==null?{id:ea,overflow:ta}:null,retryLane:536870912,hydrationErrors:null},c=Rj(i),c.return=s,s.child=c,yr=s,jt=null)):i=null,i===null)throw di(s);return s.lanes=536870912,null}return rd(s,d)}var y=i.memoizedState;if(y!==null){var A=y.dehydrated;if(Xh(s),g)if(s.flags&256)s.flags&=-257,s=Z1(i,s,c);else if(s.memoizedState!==null)s.child=i.child,s.flags|=128,s=null;else throw Error(a(558));else if(Gt||al(i,s,c,!1),g=(c&i.childLanes)!==0,Gt||g){if(d=ht,d!==null&&(A=qb(d,c),A!==0&&A!==y.retryLane))throw y.retryLane=A,Xi(i,A),Kr(d,i,A),v0;md(),s=Z1(i,s,c)}else i=y.treeContext,jt=An(A.nextSibling),yr=s,Qe=!0,ui=null,Nn=!1,i!==null&&Bj(s,i),s=rd(s,d),s.flags|=4096;return s}return i=va(i.child,{mode:d.mode,children:d.children}),i.ref=s.ref,s.child=i,i.return=s,i}function nd(i,s){var c=s.ref;if(c===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(a(284));(i===null||i.ref!==c)&&(s.flags|=4194816)}}function y0(i,s,c,d,g){return ts(s),c=Jh(i,s,c,d,void 0,g),d=e0(),i!==null&&!Gt?(t0(i,s,g),Sa(i,s,g)):(Qe&&d&&Dh(s),s.flags|=1,jr(i,s,c,g),s.child)}function J1(i,s,c,d,g,y){return ts(s),s.updateQueue=null,c=r1(s,d,c,g),t1(i),d=e0(),i!==null&&!Gt?(t0(i,s,y),Sa(i,s,y)):(Qe&&d&&Dh(s),s.flags|=1,jr(i,s,c,y),s.child)}function ew(i,s,c,d,g){if(ts(s),s.stateNode===null){var y=el,A=c.contextType;typeof A=="object"&&A!==null&&(y=br(A)),y=new c(d,y),s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=x0,s.stateNode=y,y._reactInternals=s,y=s.stateNode,y.props=d,y.state=s.memoizedState,y.refs={},Vh(s),A=c.contextType,y.context=typeof A=="object"&&A!==null?br(A):el,y.state=s.memoizedState,A=c.getDerivedStateFromProps,typeof A=="function"&&(p0(s,c,A,d),y.state=s.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(A=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),A!==y.state&&x0.enqueueReplaceState(y,y.state,null),Mo(s,d,y,g),To(),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308),d=!0}else if(i===null){y=s.stateNode;var M=s.memoizedProps,H=ls(c,M);y.props=H;var se=y.context,be=c.contextType;A=el,typeof be=="object"&&be!==null&&(A=br(be));var we=c.getDerivedStateFromProps;be=typeof we=="function"||typeof y.getSnapshotBeforeUpdate=="function",M=s.pendingProps!==M,be||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(M||se!==A)&&I1(s,y,d,A),mi=!1;var me=s.memoizedState;y.state=me,Mo(s,d,y,g),To(),se=s.memoizedState,M||me!==se||mi?(typeof we=="function"&&(p0(s,c,we,d),se=s.memoizedState),(H=mi||$1(s,c,H,d,me,se,A))?(be||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(s.flags|=4194308)):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=se),y.props=d,y.state=se,y.context=A,d=H):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{y=s.stateNode,Yh(i,s),A=s.memoizedProps,be=ls(c,A),y.props=be,we=s.pendingProps,me=y.context,se=c.contextType,H=el,typeof se=="object"&&se!==null&&(H=br(se)),M=c.getDerivedStateFromProps,(se=typeof M=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(A!==we||me!==H)&&I1(s,y,d,H),mi=!1,me=s.memoizedState,y.state=me,Mo(s,d,y,g),To();var xe=s.memoizedState;A!==we||me!==xe||mi||i!==null&&i.dependencies!==null&&Bu(i.dependencies)?(typeof M=="function"&&(p0(s,c,M,d),xe=s.memoizedState),(be=mi||$1(s,c,be,d,me,xe,H)||i!==null&&i.dependencies!==null&&Bu(i.dependencies))?(se||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(d,xe,H),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(d,xe,H)),typeof y.componentDidUpdate=="function"&&(s.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof y.componentDidUpdate!="function"||A===i.memoizedProps&&me===i.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&me===i.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=xe),y.props=d,y.state=xe,y.context=H,d=be):(typeof y.componentDidUpdate!="function"||A===i.memoizedProps&&me===i.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&me===i.memoizedState||(s.flags|=1024),d=!1)}return y=d,nd(i,s),d=(s.flags&128)!==0,y||d?(y=s.stateNode,c=d&&typeof c.getDerivedStateFromError!="function"?null:y.render(),s.flags|=1,i!==null&&d?(s.child=is(s,i.child,null,g),s.child=is(s,null,c,g)):jr(i,s,c,g),s.memoizedState=y.state,i=s.child):i=Sa(i,s,g),i}function tw(i,s,c,d){return Ji(),s.flags|=256,jr(i,s,c,d),s.child}var b0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function j0(i){return{baseLanes:i,cachePool:Hj()}}function w0(i,s,c){return i=i!==null?i.childLanes&~c:0,s&&(i|=cn),i}function rw(i,s,c){var d=s.pendingProps,g=!1,y=(s.flags&128)!==0,A;if((A=y)||(A=i!==null&&i.memoizedState===null?!1:($t.current&2)!==0),A&&(g=!0,s.flags&=-129),A=(s.flags&32)!==0,s.flags&=-33,i===null){if(Qe){if(g?xi(s):gi(),(i=jt)?(i=u2(i,Nn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:ci!==null?{id:ea,overflow:ta}:null,retryLane:536870912,hydrationErrors:null},c=Rj(i),c.return=s,s.child=c,yr=s,jt=null)):i=null,i===null)throw di(s);return ap(i)?s.lanes=32:s.lanes=536870912,null}var M=d.children;return d=d.fallback,g?(gi(),g=s.mode,M=ad({mode:"hidden",children:M},g),d=Zi(d,g,c,null),M.return=s,d.return=s,M.sibling=d,s.child=M,d=s.child,d.memoizedState=j0(c),d.childLanes=w0(i,A,c),s.memoizedState=b0,zo(null,d)):(xi(s),N0(s,M))}var H=i.memoizedState;if(H!==null&&(M=H.dehydrated,M!==null)){if(y)s.flags&256?(xi(s),s.flags&=-257,s=S0(i,s,c)):s.memoizedState!==null?(gi(),s.child=i.child,s.flags|=128,s=null):(gi(),M=d.fallback,g=s.mode,d=ad({mode:"visible",children:d.children},g),M=Zi(M,g,c,null),M.flags|=2,d.return=s,M.return=s,d.sibling=M,s.child=d,is(s,i.child,null,c),d=s.child,d.memoizedState=j0(c),d.childLanes=w0(i,A,c),s.memoizedState=b0,s=zo(null,d));else if(xi(s),ap(M)){if(A=M.nextSibling&&M.nextSibling.dataset,A)var se=A.dgst;A=se,d=Error(a(419)),d.stack="",d.digest=A,Ao({value:d,source:null,stack:null}),s=S0(i,s,c)}else if(Gt||al(i,s,c,!1),A=(c&i.childLanes)!==0,Gt||A){if(A=ht,A!==null&&(d=qb(A,c),d!==0&&d!==H.retryLane))throw H.retryLane=d,Xi(i,d),Kr(A,i,d),v0;np(M)||md(),s=S0(i,s,c)}else np(M)?(s.flags|=192,s.child=i.child,s=null):(i=H.treeContext,jt=An(M.nextSibling),yr=s,Qe=!0,ui=null,Nn=!1,i!==null&&Bj(s,i),s=N0(s,d.children),s.flags|=4096);return s}return g?(gi(),M=d.fallback,g=s.mode,H=i.child,se=H.sibling,d=va(H,{mode:"hidden",children:d.children}),d.subtreeFlags=H.subtreeFlags&65011712,se!==null?M=va(se,M):(M=Zi(M,g,c,null),M.flags|=2),M.return=s,d.return=s,d.sibling=M,s.child=d,zo(null,d),d=s.child,M=i.child.memoizedState,M===null?M=j0(c):(g=M.cachePool,g!==null?(H=Yt._currentValue,g=g.parent!==H?{parent:H,pool:H}:g):g=Hj(),M={baseLanes:M.baseLanes|c,cachePool:g}),d.memoizedState=M,d.childLanes=w0(i,A,c),s.memoizedState=b0,zo(i.child,d)):(xi(s),c=i.child,i=c.sibling,c=va(c,{mode:"visible",children:d.children}),c.return=s,c.sibling=null,i!==null&&(A=s.deletions,A===null?(s.deletions=[i],s.flags|=16):A.push(i)),s.child=c,s.memoizedState=null,c)}function N0(i,s){return s=ad({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function ad(i,s){return i=an(22,i,null,s),i.lanes=0,i}function S0(i,s,c){return is(s,i.child,null,c),i=N0(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function nw(i,s,c){i.lanes|=s;var d=i.alternate;d!==null&&(d.lanes|=s),$h(i.return,s,c)}function A0(i,s,c,d,g,y){var A=i.memoizedState;A===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:c,tailMode:g,treeForkCount:y}:(A.isBackwards=s,A.rendering=null,A.renderingStartTime=0,A.last=d,A.tail=c,A.tailMode=g,A.treeForkCount=y)}function aw(i,s,c){var d=s.pendingProps,g=d.revealOrder,y=d.tail;d=d.children;var A=$t.current,M=(A&2)!==0;if(M?(A=A&1|2,s.flags|=128):A&=1,re($t,A),jr(i,s,d,c),d=Qe?So:0,!M&&i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&nw(i,c,s);else if(i.tag===19)nw(i,c,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(g){case"forwards":for(c=s.child,g=null;c!==null;)i=c.alternate,i!==null&&Yu(i)===null&&(g=c),c=c.sibling;c=g,c===null?(g=s.child,s.child=null):(g=c.sibling,c.sibling=null),A0(s,!1,g,c,y,d);break;case"backwards":case"unstable_legacy-backwards":for(c=null,g=s.child,s.child=null;g!==null;){if(i=g.alternate,i!==null&&Yu(i)===null){s.child=g;break}i=g.sibling,g.sibling=c,c=g,g=i}A0(s,!0,c,null,y,d);break;case"together":A0(s,!1,null,null,void 0,d);break;default:s.memoizedState=null}return s.child}function Sa(i,s,c){if(i!==null&&(s.dependencies=i.dependencies),bi|=s.lanes,(c&s.childLanes)===0)if(i!==null){if(al(i,s,c,!1),(c&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(a(153));if(s.child!==null){for(i=s.child,c=va(i,i.pendingProps),s.child=c,c.return=s;i.sibling!==null;)i=i.sibling,c=c.sibling=va(i,i.pendingProps),c.return=s;c.sibling=null}return s.child}function E0(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Bu(i)))}function eT(i,s,c){switch(s.tag){case 3:Ce(s,s.stateNode.containerInfo),fi(s,Yt,i.memoizedState.cache),Ji();break;case 27:case 5:ge(s);break;case 4:Ce(s,s.stateNode.containerInfo);break;case 10:fi(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Xh(s),null;break;case 13:var d=s.memoizedState;if(d!==null)return d.dehydrated!==null?(xi(s),s.flags|=128,null):(c&s.child.childLanes)!==0?rw(i,s,c):(xi(s),i=Sa(i,s,c),i!==null?i.sibling:null);xi(s);break;case 19:var g=(i.flags&128)!==0;if(d=(c&s.childLanes)!==0,d||(al(i,s,c,!1),d=(c&s.childLanes)!==0),g){if(d)return aw(i,s,c);s.flags|=128}if(g=s.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),re($t,$t.current),d)break;return null;case 22:return s.lanes=0,Q1(i,s,c,s.pendingProps);case 24:fi(s,Yt,i.memoizedState.cache)}return Sa(i,s,c)}function iw(i,s,c){if(i!==null)if(i.memoizedProps!==s.pendingProps)Gt=!0;else{if(!E0(i,c)&&(s.flags&128)===0)return Gt=!1,eT(i,s,c);Gt=(i.flags&131072)!==0}else Gt=!1,Qe&&(s.flags&1048576)!==0&&zj(s,So,s.index);switch(s.lanes=0,s.tag){case 16:e:{var d=s.pendingProps;if(i=ns(s.elementType),s.type=i,typeof i=="function")Th(i)?(d=ls(i,d),s.tag=1,s=ew(null,s,i,d,c)):(s.tag=0,s=y0(null,s,i,d,c));else{if(i!=null){var g=i.$$typeof;if(g===T){s.tag=11,s=K1(null,s,i,d,c);break e}else if(g===$){s.tag=14,s=G1(null,s,i,d,c);break e}}throw s=z(i)||i,Error(a(306,s,""))}}return s;case 0:return y0(i,s,s.type,s.pendingProps,c);case 1:return d=s.type,g=ls(d,s.pendingProps),ew(i,s,d,g,c);case 3:e:{if(Ce(s,s.stateNode.containerInfo),i===null)throw Error(a(387));d=s.pendingProps;var y=s.memoizedState;g=y.element,Yh(i,s),Mo(s,d,null,c);var A=s.memoizedState;if(d=A.cache,fi(s,Yt,d),d!==y.cache&&Ih(s,[Yt],c,!0),To(),d=A.element,y.isDehydrated)if(y={element:d,isDehydrated:!1,cache:A.cache},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){s=tw(i,s,d,c);break e}else if(d!==g){g=bn(Error(a(424)),s),Ao(g),s=tw(i,s,d,c);break e}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(jt=An(i.firstChild),yr=s,Qe=!0,ui=null,Nn=!0,c=Qj(s,null,d,c),s.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(Ji(),d===g){s=Sa(i,s,c);break e}jr(i,s,d,c)}s=s.child}return s;case 26:return nd(i,s),i===null?(c=x2(s.type,null,s.pendingProps,null))?s.memoizedState=c:Qe||(c=s.type,i=s.pendingProps,d=bd(Ne.current).createElement(c),d[vr]=s,d[Ur]=i,wr(d,c,i),or(d),s.stateNode=d):s.memoizedState=x2(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return ge(s),i===null&&Qe&&(d=s.stateNode=m2(s.type,s.pendingProps,Ne.current),yr=s,Nn=!0,g=jt,Ai(s.type)?(ip=g,jt=An(d.firstChild)):jt=g),jr(i,s,s.pendingProps.children,c),nd(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&Qe&&((g=d=jt)&&(d=kT(d,s.type,s.pendingProps,Nn),d!==null?(s.stateNode=d,yr=s,jt=An(d.firstChild),Nn=!1,g=!0):g=!1),g||di(s)),ge(s),g=s.type,y=s.pendingProps,A=i!==null?i.memoizedProps:null,d=y.children,ep(g,y)?d=null:A!==null&&ep(g,A)&&(s.flags|=32),s.memoizedState!==null&&(g=Jh(i,s,Vk,null,null,c),Zo._currentValue=g),nd(i,s),jr(i,s,d,c),s.child;case 6:return i===null&&Qe&&((i=c=jt)&&(c=TT(c,s.pendingProps,Nn),c!==null?(s.stateNode=c,yr=s,jt=null,i=!0):i=!1),i||di(s)),null;case 13:return rw(i,s,c);case 4:return Ce(s,s.stateNode.containerInfo),d=s.pendingProps,i===null?s.child=is(s,null,d,c):jr(i,s,d,c),s.child;case 11:return K1(i,s,s.type,s.pendingProps,c);case 7:return jr(i,s,s.pendingProps,c),s.child;case 8:return jr(i,s,s.pendingProps.children,c),s.child;case 12:return jr(i,s,s.pendingProps.children,c),s.child;case 10:return d=s.pendingProps,fi(s,s.type,d.value),jr(i,s,d.children,c),s.child;case 9:return g=s.type._context,d=s.pendingProps.children,ts(s),g=br(g),d=d(g),s.flags|=1,jr(i,s,d,c),s.child;case 14:return G1(i,s,s.type,s.pendingProps,c);case 15:return W1(i,s,s.type,s.pendingProps,c);case 19:return aw(i,s,c);case 31:return Jk(i,s,c);case 22:return Q1(i,s,c,s.pendingProps);case 24:return ts(s),d=br(Yt),i===null?(g=Fh(),g===null&&(g=ht,y=Uh(),g.pooledCache=y,y.refCount++,y!==null&&(g.pooledCacheLanes|=c),g=y),s.memoizedState={parent:d,cache:g},Vh(s),fi(s,Yt,g)):((i.lanes&c)!==0&&(Yh(i,s),Mo(s,null,null,c),To()),g=i.memoizedState,y=s.memoizedState,g.parent!==d?(g={parent:d,cache:d},s.memoizedState=g,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=g),fi(s,Yt,d)):(d=y.cache,fi(s,Yt,d),d!==g.cache&&Ih(s,[Yt],c,!0))),jr(i,s,s.pendingProps.children,c),s.child;case 29:throw s.pendingProps}throw Error(a(156,s.tag))}function Aa(i){i.flags|=4}function _0(i,s,c,d,g){if((s=(i.mode&32)!==0)&&(s=!1),s){if(i.flags|=16777216,(g&335544128)===g)if(i.stateNode.complete)i.flags|=8192;else if(Mw())i.flags|=8192;else throw as=qu,Hh}else i.flags&=-16777217}function sw(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!j2(s))if(Mw())i.flags|=8192;else throw as=qu,Hh}function id(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?ju():536870912,i.lanes|=s,xl|=s)}function Bo(i,s){if(!Qe)switch(i.tailMode){case"hidden":s=i.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?i.tail=null:c.sibling=null;break;case"collapsed":c=i.tail;for(var d=null;c!==null;)c.alternate!==null&&(d=c),c=c.sibling;d===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:d.sibling=null}}function wt(i){var s=i.alternate!==null&&i.alternate.child===i.child,c=0,d=0;if(s)for(var g=i.child;g!==null;)c|=g.lanes|g.childLanes,d|=g.subtreeFlags&65011712,d|=g.flags&65011712,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)c|=g.lanes|g.childLanes,d|=g.subtreeFlags,d|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=d,i.childLanes=c,s}function tT(i,s,c){var d=s.pendingProps;switch(Rh(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(s),null;case 1:return wt(s),null;case 3:return c=s.stateNode,d=null,i!==null&&(d=i.memoizedState.cache),s.memoizedState.cache!==d&&(s.flags|=2048),ja(Yt),U(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(i===null||i.child===null)&&(nl(s)?Aa(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,zh())),wt(s),null;case 26:var g=s.type,y=s.memoizedState;return i===null?(Aa(s),y!==null?(wt(s),sw(s,y)):(wt(s),_0(s,g,null,d,c))):y?y!==i.memoizedState?(Aa(s),wt(s),sw(s,y)):(wt(s),s.flags&=-16777217):(i=i.memoizedProps,i!==d&&Aa(s),wt(s),_0(s,g,i,d,c)),null;case 27:if(Ee(s),c=Ne.current,g=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==d&&Aa(s);else{if(!d){if(s.stateNode===null)throw Error(a(166));return wt(s),null}i=W.current,nl(s)?$j(s):(i=m2(g,d,c),s.stateNode=i,Aa(s))}return wt(s),null;case 5:if(Ee(s),g=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==d&&Aa(s);else{if(!d){if(s.stateNode===null)throw Error(a(166));return wt(s),null}if(y=W.current,nl(s))$j(s);else{var A=bd(Ne.current);switch(y){case 1:y=A.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:y=A.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":y=A.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":y=A.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":y=A.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof d.is=="string"?A.createElement("select",{is:d.is}):A.createElement("select"),d.multiple?y.multiple=!0:d.size&&(y.size=d.size);break;default:y=typeof d.is=="string"?A.createElement(g,{is:d.is}):A.createElement(g)}}y[vr]=s,y[Ur]=d;e:for(A=s.child;A!==null;){if(A.tag===5||A.tag===6)y.appendChild(A.stateNode);else if(A.tag!==4&&A.tag!==27&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===s)break e;for(;A.sibling===null;){if(A.return===null||A.return===s)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}s.stateNode=y;e:switch(wr(y,g,d),g){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}d&&Aa(s)}}return wt(s),_0(s,s.type,i===null?null:i.memoizedProps,s.pendingProps,c),null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==d&&Aa(s);else{if(typeof d!="string"&&s.stateNode===null)throw Error(a(166));if(i=Ne.current,nl(s)){if(i=s.stateNode,c=s.memoizedProps,d=null,g=yr,g!==null)switch(g.tag){case 27:case 5:d=g.memoizedProps}i[vr]=s,i=!!(i.nodeValue===c||d!==null&&d.suppressHydrationWarning===!0||r2(i.nodeValue,c)),i||di(s,!0)}else i=bd(i).createTextNode(d),i[vr]=s,s.stateNode=i}return wt(s),null;case 31:if(c=s.memoizedState,i===null||i.memoizedState!==null){if(d=nl(s),c!==null){if(i===null){if(!d)throw Error(a(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(a(557));i[vr]=s}else Ji(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;wt(s),i=!1}else c=zh(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=c),i=!0;if(!i)return s.flags&256?(ln(s),s):(ln(s),null);if((s.flags&128)!==0)throw Error(a(558))}return wt(s),null;case 13:if(d=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(g=nl(s),d!==null&&d.dehydrated!==null){if(i===null){if(!g)throw Error(a(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(a(317));g[vr]=s}else Ji(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;wt(s),g=!1}else g=zh(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=g),g=!0;if(!g)return s.flags&256?(ln(s),s):(ln(s),null)}return ln(s),(s.flags&128)!==0?(s.lanes=c,s):(c=d!==null,i=i!==null&&i.memoizedState!==null,c&&(d=s.child,g=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(g=d.alternate.memoizedState.cachePool.pool),y=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(y=d.memoizedState.cachePool.pool),y!==g&&(d.flags|=2048)),c!==i&&c&&(s.child.flags|=8192),id(s,s.updateQueue),wt(s),null);case 4:return U(),i===null&&W0(s.stateNode.containerInfo),wt(s),null;case 10:return ja(s.type),wt(s),null;case 19:if(K($t),d=s.memoizedState,d===null)return wt(s),null;if(g=(s.flags&128)!==0,y=d.rendering,y===null)if(g)Bo(d,!1);else{if(Lt!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(y=Yu(i),y!==null){for(s.flags|=128,Bo(d,!1),i=y.updateQueue,s.updateQueue=i,id(s,i),s.subtreeFlags=0,i=c,c=s.child;c!==null;)Dj(c,i),c=c.sibling;return re($t,$t.current&1|2),Qe&&ya(s,d.treeForkCount),s.child}i=i.sibling}d.tail!==null&&_e()>ud&&(s.flags|=128,g=!0,Bo(d,!1),s.lanes=4194304)}else{if(!g)if(i=Yu(y),i!==null){if(s.flags|=128,g=!0,i=i.updateQueue,s.updateQueue=i,id(s,i),Bo(d,!0),d.tail===null&&d.tailMode==="hidden"&&!y.alternate&&!Qe)return wt(s),null}else 2*_e()-d.renderingStartTime>ud&&c!==536870912&&(s.flags|=128,g=!0,Bo(d,!1),s.lanes=4194304);d.isBackwards?(y.sibling=s.child,s.child=y):(i=d.last,i!==null?i.sibling=y:s.child=y,d.last=y)}return d.tail!==null?(i=d.tail,d.rendering=i,d.tail=i.sibling,d.renderingStartTime=_e(),i.sibling=null,c=$t.current,re($t,g?c&1|2:c&1),Qe&&ya(s,d.treeForkCount),i):(wt(s),null);case 22:case 23:return ln(s),Qh(),d=s.memoizedState!==null,i!==null?i.memoizedState!==null!==d&&(s.flags|=8192):d&&(s.flags|=8192),d?(c&536870912)!==0&&(s.flags&128)===0&&(wt(s),s.subtreeFlags&6&&(s.flags|=8192)):wt(s),c=s.updateQueue,c!==null&&id(s,c.retryQueue),c=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),d=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),d!==c&&(s.flags|=2048),i!==null&&K(rs),null;case 24:return c=null,i!==null&&(c=i.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),ja(Yt),wt(s),null;case 25:return null;case 30:return null}throw Error(a(156,s.tag))}function rT(i,s){switch(Rh(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return ja(Yt),U(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Ee(s),null;case 31:if(s.memoizedState!==null){if(ln(s),s.alternate===null)throw Error(a(340));Ji()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 13:if(ln(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(a(340));Ji()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return K($t),null;case 4:return U(),null;case 10:return ja(s.type),null;case 22:case 23:return ln(s),Qh(),i!==null&&K(rs),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return ja(Yt),null;case 25:return null;default:return null}}function lw(i,s){switch(Rh(s),s.tag){case 3:ja(Yt),U();break;case 26:case 27:case 5:Ee(s);break;case 4:U();break;case 31:s.memoizedState!==null&&ln(s);break;case 13:ln(s);break;case 19:K($t);break;case 10:ja(s.type);break;case 22:case 23:ln(s),Qh(),i!==null&&K(rs);break;case 24:ja(Yt)}}function $o(i,s){try{var c=s.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var g=d.next;c=g;do{if((c.tag&i)===i){d=void 0;var y=c.create,A=c.inst;d=y(),A.destroy=d}c=c.next}while(c!==g)}}catch(M){lt(s,s.return,M)}}function vi(i,s,c){try{var d=s.updateQueue,g=d!==null?d.lastEffect:null;if(g!==null){var y=g.next;d=y;do{if((d.tag&i)===i){var A=d.inst,M=A.destroy;if(M!==void 0){A.destroy=void 0,g=s;var H=c,se=M;try{se()}catch(be){lt(g,H,be)}}}d=d.next}while(d!==y)}}catch(be){lt(s,s.return,be)}}function ow(i){var s=i.updateQueue;if(s!==null){var c=i.stateNode;try{Zj(s,c)}catch(d){lt(i,i.return,d)}}}function cw(i,s,c){c.props=ls(i.type,i.memoizedProps),c.state=i.memoizedState;try{c.componentWillUnmount()}catch(d){lt(i,s,d)}}function Io(i,s){try{var c=i.ref;if(c!==null){switch(i.tag){case 26:case 27:case 5:var d=i.stateNode;break;case 30:d=i.stateNode;break;default:d=i.stateNode}typeof c=="function"?i.refCleanup=c(d):c.current=d}}catch(g){lt(i,s,g)}}function ra(i,s){var c=i.ref,d=i.refCleanup;if(c!==null)if(typeof d=="function")try{d()}catch(g){lt(i,s,g)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(g){lt(i,s,g)}else c.current=null}function uw(i){var s=i.type,c=i.memoizedProps,d=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":c.autoFocus&&d.focus();break e;case"img":c.src?d.src=c.src:c.srcSet&&(d.srcset=c.srcSet)}}catch(g){lt(i,i.return,g)}}function O0(i,s,c){try{var d=i.stateNode;ST(d,i.type,c,s),d[Ur]=s}catch(g){lt(i,i.return,g)}}function dw(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Ai(i.type)||i.tag===4}function C0(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||dw(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Ai(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function k0(i,s,c){var d=i.tag;if(d===5||d===6)i=i.stateNode,s?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(i,s):(s=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,s.appendChild(i),c=c._reactRootContainer,c!=null||s.onclick!==null||(s.onclick=xa));else if(d!==4&&(d===27&&Ai(i.type)&&(c=i.stateNode,s=null),i=i.child,i!==null))for(k0(i,s,c),i=i.sibling;i!==null;)k0(i,s,c),i=i.sibling}function sd(i,s,c){var d=i.tag;if(d===5||d===6)i=i.stateNode,s?c.insertBefore(i,s):c.appendChild(i);else if(d!==4&&(d===27&&Ai(i.type)&&(c=i.stateNode),i=i.child,i!==null))for(sd(i,s,c),i=i.sibling;i!==null;)sd(i,s,c),i=i.sibling}function fw(i){var s=i.stateNode,c=i.memoizedProps;try{for(var d=i.type,g=s.attributes;g.length;)s.removeAttributeNode(g[0]);wr(s,d,c),s[vr]=i,s[Ur]=c}catch(y){lt(i,i.return,y)}}var Ea=!1,Wt=!1,T0=!1,mw=typeof WeakSet=="function"?WeakSet:Set,cr=null;function nT(i,s){if(i=i.containerInfo,Z0=_d,i=Aj(i),Sh(i)){if("selectionStart"in i)var c={start:i.selectionStart,end:i.selectionEnd};else e:{c=(c=i.ownerDocument)&&c.defaultView||window;var d=c.getSelection&&c.getSelection();if(d&&d.rangeCount!==0){c=d.anchorNode;var g=d.anchorOffset,y=d.focusNode;d=d.focusOffset;try{c.nodeType,y.nodeType}catch{c=null;break e}var A=0,M=-1,H=-1,se=0,be=0,we=i,me=null;t:for(;;){for(var xe;we!==c||g!==0&&we.nodeType!==3||(M=A+g),we!==y||d!==0&&we.nodeType!==3||(H=A+d),we.nodeType===3&&(A+=we.nodeValue.length),(xe=we.firstChild)!==null;)me=we,we=xe;for(;;){if(we===i)break t;if(me===c&&++se===g&&(M=A),me===y&&++be===d&&(H=A),(xe=we.nextSibling)!==null)break;we=me,me=we.parentNode}we=xe}c=M===-1||H===-1?null:{start:M,end:H}}else c=null}c=c||{start:0,end:0}}else c=null;for(J0={focusedElem:i,selectionRange:c},_d=!1,cr=s;cr!==null;)if(s=cr,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,cr=i;else for(;cr!==null;){switch(s=cr,y=s.alternate,i=s.flags,s.tag){case 0:if((i&4)!==0&&(i=s.updateQueue,i=i!==null?i.events:null,i!==null))for(c=0;c<i.length;c++)g=i[c],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&y!==null){i=void 0,c=s,g=y.memoizedProps,y=y.memoizedState,d=c.stateNode;try{var Pe=ls(c.type,g);i=d.getSnapshotBeforeUpdate(Pe,y),d.__reactInternalSnapshotBeforeUpdate=i}catch(Be){lt(c,c.return,Be)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,c=i.nodeType,c===9)rp(i);else if(c===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":rp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(a(163))}if(i=s.sibling,i!==null){i.return=s.return,cr=i;break}cr=s.return}}function hw(i,s,c){var d=c.flags;switch(c.tag){case 0:case 11:case 15:Oa(i,c),d&4&&$o(5,c);break;case 1:if(Oa(i,c),d&4)if(i=c.stateNode,s===null)try{i.componentDidMount()}catch(A){lt(c,c.return,A)}else{var g=ls(c.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(g,s,i.__reactInternalSnapshotBeforeUpdate)}catch(A){lt(c,c.return,A)}}d&64&&ow(c),d&512&&Io(c,c.return);break;case 3:if(Oa(i,c),d&64&&(i=c.updateQueue,i!==null)){if(s=null,c.child!==null)switch(c.child.tag){case 27:case 5:s=c.child.stateNode;break;case 1:s=c.child.stateNode}try{Zj(i,s)}catch(A){lt(c,c.return,A)}}break;case 27:s===null&&d&4&&fw(c);case 26:case 5:Oa(i,c),s===null&&d&4&&uw(c),d&512&&Io(c,c.return);break;case 12:Oa(i,c);break;case 31:Oa(i,c),d&4&&gw(i,c);break;case 13:Oa(i,c),d&4&&vw(i,c),d&64&&(i=c.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(c=fT.bind(null,c),MT(i,c))));break;case 22:if(d=c.memoizedState!==null||Ea,!d){s=s!==null&&s.memoizedState!==null||Wt,g=Ea;var y=Wt;Ea=d,(Wt=s)&&!y?Ca(i,c,(c.subtreeFlags&8772)!==0):Oa(i,c),Ea=g,Wt=y}break;case 30:break;default:Oa(i,c)}}function pw(i){var s=i.alternate;s!==null&&(i.alternate=null,pw(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&lh(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var At=null,Fr=!1;function _a(i,s,c){for(c=c.child;c!==null;)xw(i,s,c),c=c.sibling}function xw(i,s,c){if(gr&&typeof gr.onCommitFiberUnmount=="function")try{gr.onCommitFiberUnmount(Bn,c)}catch{}switch(c.tag){case 26:Wt||ra(c,s),_a(i,s,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Wt||ra(c,s);var d=At,g=Fr;Ai(c.type)&&(At=c.stateNode,Fr=!1),_a(i,s,c),Wo(c.stateNode),At=d,Fr=g;break;case 5:Wt||ra(c,s);case 6:if(d=At,g=Fr,At=null,_a(i,s,c),At=d,Fr=g,At!==null)if(Fr)try{(At.nodeType===9?At.body:At.nodeName==="HTML"?At.ownerDocument.body:At).removeChild(c.stateNode)}catch(y){lt(c,s,y)}else try{At.removeChild(c.stateNode)}catch(y){lt(c,s,y)}break;case 18:At!==null&&(Fr?(i=At,o2(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,c.stateNode),Sl(i)):o2(At,c.stateNode));break;case 4:d=At,g=Fr,At=c.stateNode.containerInfo,Fr=!0,_a(i,s,c),At=d,Fr=g;break;case 0:case 11:case 14:case 15:vi(2,c,s),Wt||vi(4,c,s),_a(i,s,c);break;case 1:Wt||(ra(c,s),d=c.stateNode,typeof d.componentWillUnmount=="function"&&cw(c,s,d)),_a(i,s,c);break;case 21:_a(i,s,c);break;case 22:Wt=(d=Wt)||c.memoizedState!==null,_a(i,s,c),Wt=d;break;default:_a(i,s,c)}}function gw(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Sl(i)}catch(c){lt(s,s.return,c)}}}function vw(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Sl(i)}catch(c){lt(s,s.return,c)}}function aT(i){switch(i.tag){case 31:case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new mw),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new mw),s;default:throw Error(a(435,i.tag))}}function ld(i,s){var c=aT(i);s.forEach(function(d){if(!c.has(d)){c.add(d);var g=mT.bind(null,i,d);d.then(g,g)}})}function Hr(i,s){var c=s.deletions;if(c!==null)for(var d=0;d<c.length;d++){var g=c[d],y=i,A=s,M=A;e:for(;M!==null;){switch(M.tag){case 27:if(Ai(M.type)){At=M.stateNode,Fr=!1;break e}break;case 5:At=M.stateNode,Fr=!1;break e;case 3:case 4:At=M.stateNode.containerInfo,Fr=!0;break e}M=M.return}if(At===null)throw Error(a(160));xw(y,A,g),At=null,Fr=!1,y=g.alternate,y!==null&&(y.return=null),g.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)yw(s,i),s=s.sibling}var Un=null;function yw(i,s){var c=i.alternate,d=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Hr(s,i),Vr(i),d&4&&(vi(3,i,i.return),$o(3,i),vi(5,i,i.return));break;case 1:Hr(s,i),Vr(i),d&512&&(Wt||c===null||ra(c,c.return)),d&64&&Ea&&(i=i.updateQueue,i!==null&&(d=i.callbacks,d!==null&&(c=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=c===null?d:c.concat(d))));break;case 26:var g=Un;if(Hr(s,i),Vr(i),d&512&&(Wt||c===null||ra(c,c.return)),d&4){var y=c!==null?c.memoizedState:null;if(d=i.memoizedState,c===null)if(d===null)if(i.stateNode===null){e:{d=i.type,c=i.memoizedProps,g=g.ownerDocument||g;t:switch(d){case"title":y=g.getElementsByTagName("title")[0],(!y||y[mo]||y[vr]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=g.createElement(d),g.head.insertBefore(y,g.querySelector("head > title"))),wr(y,d,c),y[vr]=i,or(y),d=y;break e;case"link":var A=y2("link","href",g).get(d+(c.href||""));if(A){for(var M=0;M<A.length;M++)if(y=A[M],y.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&y.getAttribute("rel")===(c.rel==null?null:c.rel)&&y.getAttribute("title")===(c.title==null?null:c.title)&&y.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){A.splice(M,1);break t}}y=g.createElement(d),wr(y,d,c),g.head.appendChild(y);break;case"meta":if(A=y2("meta","content",g).get(d+(c.content||""))){for(M=0;M<A.length;M++)if(y=A[M],y.getAttribute("content")===(c.content==null?null:""+c.content)&&y.getAttribute("name")===(c.name==null?null:c.name)&&y.getAttribute("property")===(c.property==null?null:c.property)&&y.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&y.getAttribute("charset")===(c.charSet==null?null:c.charSet)){A.splice(M,1);break t}}y=g.createElement(d),wr(y,d,c),g.head.appendChild(y);break;default:throw Error(a(468,d))}y[vr]=i,or(y),d=y}i.stateNode=d}else b2(g,i.type,i.stateNode);else i.stateNode=v2(g,d,i.memoizedProps);else y!==d?(y===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):y.count--,d===null?b2(g,i.type,i.stateNode):v2(g,d,i.memoizedProps)):d===null&&i.stateNode!==null&&O0(i,i.memoizedProps,c.memoizedProps)}break;case 27:Hr(s,i),Vr(i),d&512&&(Wt||c===null||ra(c,c.return)),c!==null&&d&4&&O0(i,i.memoizedProps,c.memoizedProps);break;case 5:if(Hr(s,i),Vr(i),d&512&&(Wt||c===null||ra(c,c.return)),i.flags&32){g=i.stateNode;try{Ks(g,"")}catch(Pe){lt(i,i.return,Pe)}}d&4&&i.stateNode!=null&&(g=i.memoizedProps,O0(i,g,c!==null?c.memoizedProps:g)),d&1024&&(T0=!0);break;case 6:if(Hr(s,i),Vr(i),d&4){if(i.stateNode===null)throw Error(a(162));d=i.memoizedProps,c=i.stateNode;try{c.nodeValue=d}catch(Pe){lt(i,i.return,Pe)}}break;case 3:if(Nd=null,g=Un,Un=jd(s.containerInfo),Hr(s,i),Un=g,Vr(i),d&4&&c!==null&&c.memoizedState.isDehydrated)try{Sl(s.containerInfo)}catch(Pe){lt(i,i.return,Pe)}T0&&(T0=!1,bw(i));break;case 4:d=Un,Un=jd(i.stateNode.containerInfo),Hr(s,i),Vr(i),Un=d;break;case 12:Hr(s,i),Vr(i);break;case 31:Hr(s,i),Vr(i),d&4&&(d=i.updateQueue,d!==null&&(i.updateQueue=null,ld(i,d)));break;case 13:Hr(s,i),Vr(i),i.child.flags&8192&&i.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(cd=_e()),d&4&&(d=i.updateQueue,d!==null&&(i.updateQueue=null,ld(i,d)));break;case 22:g=i.memoizedState!==null;var H=c!==null&&c.memoizedState!==null,se=Ea,be=Wt;if(Ea=se||g,Wt=be||H,Hr(s,i),Wt=be,Ea=se,Vr(i),d&8192)e:for(s=i.stateNode,s._visibility=g?s._visibility&-2:s._visibility|1,g&&(c===null||H||Ea||Wt||os(i)),c=null,s=i;;){if(s.tag===5||s.tag===26){if(c===null){H=c=s;try{if(y=H.stateNode,g)A=y.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{M=H.stateNode;var we=H.memoizedProps.style,me=we!=null&&we.hasOwnProperty("display")?we.display:null;M.style.display=me==null||typeof me=="boolean"?"":(""+me).trim()}}catch(Pe){lt(H,H.return,Pe)}}}else if(s.tag===6){if(c===null){H=s;try{H.stateNode.nodeValue=g?"":H.memoizedProps}catch(Pe){lt(H,H.return,Pe)}}}else if(s.tag===18){if(c===null){H=s;try{var xe=H.stateNode;g?c2(xe,!0):c2(H.stateNode,!1)}catch(Pe){lt(H,H.return,Pe)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;c===s&&(c=null),s=s.return}c===s&&(c=null),s.sibling.return=s.return,s=s.sibling}d&4&&(d=i.updateQueue,d!==null&&(c=d.retryQueue,c!==null&&(d.retryQueue=null,ld(i,c))));break;case 19:Hr(s,i),Vr(i),d&4&&(d=i.updateQueue,d!==null&&(i.updateQueue=null,ld(i,d)));break;case 30:break;case 21:break;default:Hr(s,i),Vr(i)}}function Vr(i){var s=i.flags;if(s&2){try{for(var c,d=i.return;d!==null;){if(dw(d)){c=d;break}d=d.return}if(c==null)throw Error(a(160));switch(c.tag){case 27:var g=c.stateNode,y=C0(i);sd(i,y,g);break;case 5:var A=c.stateNode;c.flags&32&&(Ks(A,""),c.flags&=-33);var M=C0(i);sd(i,M,A);break;case 3:case 4:var H=c.stateNode.containerInfo,se=C0(i);k0(i,se,H);break;default:throw Error(a(161))}}catch(be){lt(i,i.return,be)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function bw(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;bw(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Oa(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)hw(i,s.alternate,s),s=s.sibling}function os(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:vi(4,s,s.return),os(s);break;case 1:ra(s,s.return);var c=s.stateNode;typeof c.componentWillUnmount=="function"&&cw(s,s.return,c),os(s);break;case 27:Wo(s.stateNode);case 26:case 5:ra(s,s.return),os(s);break;case 22:s.memoizedState===null&&os(s);break;case 30:os(s);break;default:os(s)}i=i.sibling}}function Ca(i,s,c){for(c=c&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var d=s.alternate,g=i,y=s,A=y.flags;switch(y.tag){case 0:case 11:case 15:Ca(g,y,c),$o(4,y);break;case 1:if(Ca(g,y,c),d=y,g=d.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(se){lt(d,d.return,se)}if(d=y,g=d.updateQueue,g!==null){var M=d.stateNode;try{var H=g.shared.hiddenCallbacks;if(H!==null)for(g.shared.hiddenCallbacks=null,g=0;g<H.length;g++)Xj(H[g],M)}catch(se){lt(d,d.return,se)}}c&&A&64&&ow(y),Io(y,y.return);break;case 27:fw(y);case 26:case 5:Ca(g,y,c),c&&d===null&&A&4&&uw(y),Io(y,y.return);break;case 12:Ca(g,y,c);break;case 31:Ca(g,y,c),c&&A&4&&gw(g,y);break;case 13:Ca(g,y,c),c&&A&4&&vw(g,y);break;case 22:y.memoizedState===null&&Ca(g,y,c),Io(y,y.return);break;case 30:break;default:Ca(g,y,c)}s=s.sibling}}function M0(i,s){var c=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==c&&(i!=null&&i.refCount++,c!=null&&Eo(c))}function P0(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Eo(i))}function qn(i,s,c,d){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)jw(i,s,c,d),s=s.sibling}function jw(i,s,c,d){var g=s.flags;switch(s.tag){case 0:case 11:case 15:qn(i,s,c,d),g&2048&&$o(9,s);break;case 1:qn(i,s,c,d);break;case 3:qn(i,s,c,d),g&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Eo(i)));break;case 12:if(g&2048){qn(i,s,c,d),i=s.stateNode;try{var y=s.memoizedProps,A=y.id,M=y.onPostCommit;typeof M=="function"&&M(A,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(H){lt(s,s.return,H)}}else qn(i,s,c,d);break;case 31:qn(i,s,c,d);break;case 13:qn(i,s,c,d);break;case 23:break;case 22:y=s.stateNode,A=s.alternate,s.memoizedState!==null?y._visibility&2?qn(i,s,c,d):Uo(i,s):y._visibility&2?qn(i,s,c,d):(y._visibility|=2,ml(i,s,c,d,(s.subtreeFlags&10256)!==0||!1)),g&2048&&M0(A,s);break;case 24:qn(i,s,c,d),g&2048&&P0(s.alternate,s);break;default:qn(i,s,c,d)}}function ml(i,s,c,d,g){for(g=g&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var y=i,A=s,M=c,H=d,se=A.flags;switch(A.tag){case 0:case 11:case 15:ml(y,A,M,H,g),$o(8,A);break;case 23:break;case 22:var be=A.stateNode;A.memoizedState!==null?be._visibility&2?ml(y,A,M,H,g):Uo(y,A):(be._visibility|=2,ml(y,A,M,H,g)),g&&se&2048&&M0(A.alternate,A);break;case 24:ml(y,A,M,H,g),g&&se&2048&&P0(A.alternate,A);break;default:ml(y,A,M,H,g)}s=s.sibling}}function Uo(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var c=i,d=s,g=d.flags;switch(d.tag){case 22:Uo(c,d),g&2048&&M0(d.alternate,d);break;case 24:Uo(c,d),g&2048&&P0(d.alternate,d);break;default:Uo(c,d)}s=s.sibling}}var qo=8192;function hl(i,s,c){if(i.subtreeFlags&qo)for(i=i.child;i!==null;)ww(i,s,c),i=i.sibling}function ww(i,s,c){switch(i.tag){case 26:hl(i,s,c),i.flags&qo&&i.memoizedState!==null&&HT(c,Un,i.memoizedState,i.memoizedProps);break;case 5:hl(i,s,c);break;case 3:case 4:var d=Un;Un=jd(i.stateNode.containerInfo),hl(i,s,c),Un=d;break;case 22:i.memoizedState===null&&(d=i.alternate,d!==null&&d.memoizedState!==null?(d=qo,qo=16777216,hl(i,s,c),qo=d):hl(i,s,c));break;default:hl(i,s,c)}}function Nw(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function Fo(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var d=s[c];cr=d,Aw(d,i)}Nw(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Sw(i),i=i.sibling}function Sw(i){switch(i.tag){case 0:case 11:case 15:Fo(i),i.flags&2048&&vi(9,i,i.return);break;case 3:Fo(i);break;case 12:Fo(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,od(i)):Fo(i);break;default:Fo(i)}}function od(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var d=s[c];cr=d,Aw(d,i)}Nw(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:vi(8,s,s.return),od(s);break;case 22:c=s.stateNode,c._visibility&2&&(c._visibility&=-3,od(s));break;default:od(s)}i=i.sibling}}function Aw(i,s){for(;cr!==null;){var c=cr;switch(c.tag){case 0:case 11:case 15:vi(8,c,s);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var d=c.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:Eo(c.memoizedState.cache)}if(d=c.child,d!==null)d.return=c,cr=d;else e:for(c=i;cr!==null;){d=cr;var g=d.sibling,y=d.return;if(pw(d),d===c){cr=null;break e}if(g!==null){g.return=y,cr=g;break e}cr=y}}}var iT={getCacheForType:function(i){var s=br(Yt),c=s.data.get(i);return c===void 0&&(c=i(),s.data.set(i,c)),c},cacheSignal:function(){return br(Yt).controller.signal}},sT=typeof WeakMap=="function"?WeakMap:Map,at=0,ht=null,Ye=null,Ge=0,st=0,on=null,yi=!1,pl=!1,D0=!1,ka=0,Lt=0,bi=0,cs=0,R0=0,cn=0,xl=0,Ho=null,Yr=null,L0=!1,cd=0,Ew=0,ud=1/0,dd=null,ji=null,tr=0,wi=null,gl=null,Ta=0,z0=0,B0=null,_w=null,Vo=0,$0=null;function un(){return(at&2)!==0&&Ge!==0?Ge&-Ge:C.T!==null?V0():Fb()}function Ow(){if(cn===0)if((Ge&536870912)===0||Qe){var i=ai;ai<<=1,(ai&3932160)===0&&(ai=262144),cn=i}else cn=536870912;return i=sn.current,i!==null&&(i.flags|=32),cn}function Kr(i,s,c){(i===ht&&(st===2||st===9)||i.cancelPendingCommit!==null)&&(vl(i,0),Ni(i,Ge,cn,!1)),fo(i,c),((at&2)===0||i!==ht)&&(i===ht&&((at&2)===0&&(cs|=c),Lt===4&&Ni(i,Ge,cn,!1)),na(i))}function Cw(i,s,c){if((at&6)!==0)throw Error(a(327));var d=!c&&(s&127)===0&&(s&i.expiredLanes)===0||Dt(i,s),g=d?cT(i,s):U0(i,s,!0),y=d;do{if(g===0){pl&&!d&&Ni(i,s,0,!1);break}else{if(c=i.current.alternate,y&&!lT(c)){g=U0(i,s,!1),y=!1;continue}if(g===2){if(y=s,i.errorRecoveryDisabledLanes&y)var A=0;else A=i.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){s=A;e:{var M=i;g=Ho;var H=M.current.memoizedState.isDehydrated;if(H&&(vl(M,A).flags|=256),A=U0(M,A,!1),A!==2){if(D0&&!H){M.errorRecoveryDisabledLanes|=y,cs|=y,g=4;break e}y=Yr,Yr=g,y!==null&&(Yr===null?Yr=y:Yr.push.apply(Yr,y))}g=A}if(y=!1,g!==2)continue}}if(g===1){vl(i,0),Ni(i,s,0,!0);break}e:{switch(d=i,y=g,y){case 0:case 1:throw Error(a(345));case 4:if((s&4194048)!==s)break;case 6:Ni(d,s,cn,!yi);break e;case 2:Yr=null;break;case 3:case 5:break;default:throw Error(a(329))}if((s&62914560)===s&&(g=cd+300-_e(),10<g)){if(Ni(d,s,cn,!yi),ii(d,0,!0)!==0)break e;Ta=s,d.timeoutHandle=s2(kw.bind(null,d,c,Yr,dd,L0,s,cn,cs,xl,yi,y,"Throttled",-0,0),g);break e}kw(d,c,Yr,dd,L0,s,cn,cs,xl,yi,y,null,-0,0)}}break}while(!0);na(i)}function kw(i,s,c,d,g,y,A,M,H,se,be,we,me,xe){if(i.timeoutHandle=-1,we=s.subtreeFlags,we&8192||(we&16785408)===16785408){we={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:xa},ww(s,y,we);var Pe=(y&62914560)===y?cd-_e():(y&4194048)===y?Ew-_e():0;if(Pe=VT(we,Pe),Pe!==null){Ta=y,i.cancelPendingCommit=Pe(Bw.bind(null,i,s,y,c,d,g,A,M,H,be,we,null,me,xe)),Ni(i,y,A,!se);return}}Bw(i,s,y,c,d,g,A,M,H)}function lT(i){for(var s=i;;){var c=s.tag;if((c===0||c===11||c===15)&&s.flags&16384&&(c=s.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var d=0;d<c.length;d++){var g=c[d],y=g.getSnapshot;g=g.value;try{if(!nn(y(),g))return!1}catch{return!1}}if(c=s.child,s.subtreeFlags&16384&&c!==null)c.return=s,s=c;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ni(i,s,c,d){s&=~R0,s&=~cs,i.suspendedLanes|=s,i.pingedLanes&=~s,d&&(i.warmLanes|=s),d=i.expirationTimes;for(var g=s;0<g;){var y=31-de(g),A=1<<y;d[y]=-1,g&=~A}c!==0&&Ib(i,c,s)}function fd(){return(at&6)===0?(Yo(0),!1):!0}function I0(){if(Ye!==null){if(st===0)var i=Ye.return;else i=Ye,ba=es=null,r0(i),ol=null,Oo=0,i=Ye;for(;i!==null;)lw(i.alternate,i),i=i.return;Ye=null}}function vl(i,s){var c=i.timeoutHandle;c!==-1&&(i.timeoutHandle=-1,_T(c)),c=i.cancelPendingCommit,c!==null&&(i.cancelPendingCommit=null,c()),Ta=0,I0(),ht=i,Ye=c=va(i.current,null),Ge=s,st=0,on=null,yi=!1,pl=Dt(i,s),D0=!1,xl=cn=R0=cs=bi=Lt=0,Yr=Ho=null,L0=!1,(s&8)!==0&&(s|=s&32);var d=i.entangledLanes;if(d!==0)for(i=i.entanglements,d&=s;0<d;){var g=31-de(d),y=1<<g;s|=i[g],d&=~y}return ka=s,Pu(),c}function Tw(i,s){Ue=null,C.H=Lo,s===ll||s===Uu?(s=Kj(),st=3):s===Hh?(s=Kj(),st=4):st=s===v0?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,on=s,Ye===null&&(Lt=1,td(i,bn(s,i.current)))}function Mw(){var i=sn.current;return i===null?!0:(Ge&4194048)===Ge?Sn===null:(Ge&62914560)===Ge||(Ge&536870912)!==0?i===Sn:!1}function Pw(){var i=C.H;return C.H=Lo,i===null?Lo:i}function Dw(){var i=C.A;return C.A=iT,i}function md(){Lt=4,yi||(Ge&4194048)!==Ge&&sn.current!==null||(pl=!0),(bi&134217727)===0&&(cs&134217727)===0||ht===null||Ni(ht,Ge,cn,!1)}function U0(i,s,c){var d=at;at|=2;var g=Pw(),y=Dw();(ht!==i||Ge!==s)&&(dd=null,vl(i,s)),s=!1;var A=Lt;e:do try{if(st!==0&&Ye!==null){var M=Ye,H=on;switch(st){case 8:I0(),A=6;break e;case 3:case 2:case 9:case 6:sn.current===null&&(s=!0);var se=st;if(st=0,on=null,yl(i,M,H,se),c&&pl){A=0;break e}break;default:se=st,st=0,on=null,yl(i,M,H,se)}}oT(),A=Lt;break}catch(be){Tw(i,be)}while(!0);return s&&i.shellSuspendCounter++,ba=es=null,at=d,C.H=g,C.A=y,Ye===null&&(ht=null,Ge=0,Pu()),A}function oT(){for(;Ye!==null;)Rw(Ye)}function cT(i,s){var c=at;at|=2;var d=Pw(),g=Dw();ht!==i||Ge!==s?(dd=null,ud=_e()+500,vl(i,s)):pl=Dt(i,s);e:do try{if(st!==0&&Ye!==null){s=Ye;var y=on;t:switch(st){case 1:st=0,on=null,yl(i,s,y,1);break;case 2:case 9:if(Vj(y)){st=0,on=null,Lw(s);break}s=function(){st!==2&&st!==9||ht!==i||(st=7),na(i)},y.then(s,s);break e;case 3:st=7;break e;case 4:st=5;break e;case 7:Vj(y)?(st=0,on=null,Lw(s)):(st=0,on=null,yl(i,s,y,7));break;case 5:var A=null;switch(Ye.tag){case 26:A=Ye.memoizedState;case 5:case 27:var M=Ye;if(A?j2(A):M.stateNode.complete){st=0,on=null;var H=M.sibling;if(H!==null)Ye=H;else{var se=M.return;se!==null?(Ye=se,hd(se)):Ye=null}break t}}st=0,on=null,yl(i,s,y,5);break;case 6:st=0,on=null,yl(i,s,y,6);break;case 8:I0(),Lt=6;break e;default:throw Error(a(462))}}uT();break}catch(be){Tw(i,be)}while(!0);return ba=es=null,C.H=d,C.A=g,at=c,Ye!==null?0:(ht=null,Ge=0,Pu(),Lt)}function uT(){for(;Ye!==null&&!X();)Rw(Ye)}function Rw(i){var s=iw(i.alternate,i,ka);i.memoizedProps=i.pendingProps,s===null?hd(i):Ye=s}function Lw(i){var s=i,c=s.alternate;switch(s.tag){case 15:case 0:s=J1(c,s,s.pendingProps,s.type,void 0,Ge);break;case 11:s=J1(c,s,s.pendingProps,s.type.render,s.ref,Ge);break;case 5:r0(s);default:lw(c,s),s=Ye=Dj(s,ka),s=iw(c,s,ka)}i.memoizedProps=i.pendingProps,s===null?hd(i):Ye=s}function yl(i,s,c,d){ba=es=null,r0(s),ol=null,Oo=0;var g=s.return;try{if(Zk(i,g,s,c,Ge)){Lt=1,td(i,bn(c,i.current)),Ye=null;return}}catch(y){if(g!==null)throw Ye=g,y;Lt=1,td(i,bn(c,i.current)),Ye=null;return}s.flags&32768?(Qe||d===1?i=!0:pl||(Ge&536870912)!==0?i=!1:(yi=i=!0,(d===2||d===9||d===3||d===6)&&(d=sn.current,d!==null&&d.tag===13&&(d.flags|=16384))),zw(s,i)):hd(s)}function hd(i){var s=i;do{if((s.flags&32768)!==0){zw(s,yi);return}i=s.return;var c=tT(s.alternate,s,ka);if(c!==null){Ye=c;return}if(s=s.sibling,s!==null){Ye=s;return}Ye=s=i}while(s!==null);Lt===0&&(Lt=5)}function zw(i,s){do{var c=rT(i.alternate,i);if(c!==null){c.flags&=32767,Ye=c;return}if(c=i.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!s&&(i=i.sibling,i!==null)){Ye=i;return}Ye=i=c}while(i!==null);Lt=6,Ye=null}function Bw(i,s,c,d,g,y,A,M,H){i.cancelPendingCommit=null;do pd();while(tr!==0);if((at&6)!==0)throw Error(a(327));if(s!==null){if(s===i.current)throw Error(a(177));if(y=s.lanes|s.childLanes,y|=Ch,FC(i,c,y,A,M,H),i===ht&&(Ye=ht=null,Ge=0),gl=s,wi=i,Ta=c,z0=y,B0=g,_w=d,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,hT(Ze,function(){return Fw(),null})):(i.callbackNode=null,i.callbackPriority=0),d=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||d){d=C.T,C.T=null,g=V.p,V.p=2,A=at,at|=4;try{nT(i,s,c)}finally{at=A,V.p=g,C.T=d}}tr=1,$w(),Iw(),Uw()}}function $w(){if(tr===1){tr=0;var i=wi,s=gl,c=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||c){c=C.T,C.T=null;var d=V.p;V.p=2;var g=at;at|=4;try{yw(s,i);var y=J0,A=Aj(i.containerInfo),M=y.focusedElem,H=y.selectionRange;if(A!==M&&M&&M.ownerDocument&&Sj(M.ownerDocument.documentElement,M)){if(H!==null&&Sh(M)){var se=H.start,be=H.end;if(be===void 0&&(be=se),"selectionStart"in M)M.selectionStart=se,M.selectionEnd=Math.min(be,M.value.length);else{var we=M.ownerDocument||document,me=we&&we.defaultView||window;if(me.getSelection){var xe=me.getSelection(),Pe=M.textContent.length,Be=Math.min(H.start,Pe),ft=H.end===void 0?Be:Math.min(H.end,Pe);!xe.extend&&Be>ft&&(A=ft,ft=Be,Be=A);var ee=Nj(M,Be),Q=Nj(M,ft);if(ee&&Q&&(xe.rangeCount!==1||xe.anchorNode!==ee.node||xe.anchorOffset!==ee.offset||xe.focusNode!==Q.node||xe.focusOffset!==Q.offset)){var ie=we.createRange();ie.setStart(ee.node,ee.offset),xe.removeAllRanges(),Be>ft?(xe.addRange(ie),xe.extend(Q.node,Q.offset)):(ie.setEnd(Q.node,Q.offset),xe.addRange(ie))}}}}for(we=[],xe=M;xe=xe.parentNode;)xe.nodeType===1&&we.push({element:xe,left:xe.scrollLeft,top:xe.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<we.length;M++){var je=we[M];je.element.scrollLeft=je.left,je.element.scrollTop=je.top}}_d=!!Z0,J0=Z0=null}finally{at=g,V.p=d,C.T=c}}i.current=s,tr=2}}function Iw(){if(tr===2){tr=0;var i=wi,s=gl,c=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||c){c=C.T,C.T=null;var d=V.p;V.p=2;var g=at;at|=4;try{hw(i,s.alternate,s)}finally{at=g,V.p=d,C.T=c}}tr=3}}function Uw(){if(tr===4||tr===3){tr=0,ne();var i=wi,s=gl,c=Ta,d=_w;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?tr=5:(tr=0,gl=wi=null,qw(i,i.pendingLanes));var g=i.pendingLanes;if(g===0&&(ji=null),ih(c),s=s.stateNode,gr&&typeof gr.onCommitFiberRoot=="function")try{gr.onCommitFiberRoot(Bn,s,void 0,(s.current.flags&128)===128)}catch{}if(d!==null){s=C.T,g=V.p,V.p=2,C.T=null;try{for(var y=i.onRecoverableError,A=0;A<d.length;A++){var M=d[A];y(M.value,{componentStack:M.stack})}}finally{C.T=s,V.p=g}}(Ta&3)!==0&&pd(),na(i),g=i.pendingLanes,(c&261930)!==0&&(g&42)!==0?i===$0?Vo++:(Vo=0,$0=i):Vo=0,Yo(0)}}function qw(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,Eo(s)))}function pd(){return $w(),Iw(),Uw(),Fw()}function Fw(){if(tr!==5)return!1;var i=wi,s=z0;z0=0;var c=ih(Ta),d=C.T,g=V.p;try{V.p=32>c?32:c,C.T=null,c=B0,B0=null;var y=wi,A=Ta;if(tr=0,gl=wi=null,Ta=0,(at&6)!==0)throw Error(a(331));var M=at;if(at|=4,Sw(y.current),jw(y,y.current,A,c),at=M,Yo(0,!1),gr&&typeof gr.onPostCommitFiberRoot=="function")try{gr.onPostCommitFiberRoot(Bn,y)}catch{}return!0}finally{V.p=g,C.T=d,qw(i,s)}}function Hw(i,s,c){s=bn(c,s),s=g0(i.stateNode,s,2),i=pi(i,s,2),i!==null&&(fo(i,2),na(i))}function lt(i,s,c){if(i.tag===3)Hw(i,i,c);else for(;s!==null;){if(s.tag===3){Hw(s,i,c);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(ji===null||!ji.has(d))){i=bn(c,i),c=V1(2),d=pi(s,c,2),d!==null&&(Y1(c,d,s,i),fo(d,2),na(d));break}}s=s.return}}function q0(i,s,c){var d=i.pingCache;if(d===null){d=i.pingCache=new sT;var g=new Set;d.set(s,g)}else g=d.get(s),g===void 0&&(g=new Set,d.set(s,g));g.has(c)||(D0=!0,g.add(c),i=dT.bind(null,i,s,c),s.then(i,i))}function dT(i,s,c){var d=i.pingCache;d!==null&&d.delete(s),i.pingedLanes|=i.suspendedLanes&c,i.warmLanes&=~c,ht===i&&(Ge&c)===c&&(Lt===4||Lt===3&&(Ge&62914560)===Ge&&300>_e()-cd?(at&2)===0&&vl(i,0):R0|=c,xl===Ge&&(xl=0)),na(i)}function Vw(i,s){s===0&&(s=ju()),i=Xi(i,s),i!==null&&(fo(i,s),na(i))}function fT(i){var s=i.memoizedState,c=0;s!==null&&(c=s.retryLane),Vw(i,c)}function mT(i,s){var c=0;switch(i.tag){case 31:case 13:var d=i.stateNode,g=i.memoizedState;g!==null&&(c=g.retryLane);break;case 19:d=i.stateNode;break;case 22:d=i.stateNode._retryCache;break;default:throw Error(a(314))}d!==null&&d.delete(s),Vw(i,c)}function hT(i,s){return D(i,s)}var xd=null,bl=null,F0=!1,gd=!1,H0=!1,Si=0;function na(i){i!==bl&&i.next===null&&(bl===null?xd=bl=i:bl=bl.next=i),gd=!0,F0||(F0=!0,xT())}function Yo(i,s){if(!H0&&gd){H0=!0;do for(var c=!1,d=xd;d!==null;){if(i!==0){var g=d.pendingLanes;if(g===0)var y=0;else{var A=d.suspendedLanes,M=d.pingedLanes;y=(1<<31-de(42|i)+1)-1,y&=g&~(A&~M),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(c=!0,Ww(d,y))}else y=Ge,y=ii(d,d===ht?y:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(y&3)===0||Dt(d,y)||(c=!0,Ww(d,y));d=d.next}while(c);H0=!1}}function pT(){Yw()}function Yw(){gd=F0=!1;var i=0;Si!==0&&ET()&&(i=Si);for(var s=_e(),c=null,d=xd;d!==null;){var g=d.next,y=Kw(d,s);y===0?(d.next=null,c===null?xd=g:c.next=g,g===null&&(bl=c)):(c=d,(i!==0||(y&3)!==0)&&(gd=!0)),d=g}tr!==0&&tr!==5||Yo(i),Si!==0&&(Si=0)}function Kw(i,s){for(var c=i.suspendedLanes,d=i.pingedLanes,g=i.expirationTimes,y=i.pendingLanes&-62914561;0<y;){var A=31-de(y),M=1<<A,H=g[A];H===-1?((M&c)===0||(M&d)!==0)&&(g[A]=si(M,s)):H<=s&&(i.expiredLanes|=M),y&=~M}if(s=ht,c=Ge,c=ii(i,i===s?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),d=i.callbackNode,c===0||i===s&&(st===2||st===9)||i.cancelPendingCommit!==null)return d!==null&&d!==null&&P(d),i.callbackNode=null,i.callbackPriority=0;if((c&3)===0||Dt(i,c)){if(s=c&-c,s===i.callbackPriority)return s;switch(d!==null&&P(d),ih(c)){case 2:case 8:c=vt;break;case 32:c=Ze;break;case 268435456:c=Vt;break;default:c=Ze}return d=Gw.bind(null,i),c=D(c,d),i.callbackPriority=s,i.callbackNode=c,s}return d!==null&&d!==null&&P(d),i.callbackPriority=2,i.callbackNode=null,2}function Gw(i,s){if(tr!==0&&tr!==5)return i.callbackNode=null,i.callbackPriority=0,null;var c=i.callbackNode;if(pd()&&i.callbackNode!==c)return null;var d=Ge;return d=ii(i,i===ht?d:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),d===0?null:(Cw(i,d,s),Kw(i,_e()),i.callbackNode!=null&&i.callbackNode===c?Gw.bind(null,i):null)}function Ww(i,s){if(pd())return null;Cw(i,s,!0)}function xT(){OT(function(){(at&6)!==0?D(Ve,pT):Yw()})}function V0(){if(Si===0){var i=il;i===0&&(i=ha,ha<<=1,(ha&261888)===0&&(ha=256)),Si=i}return Si}function Qw(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Au(""+i)}function Xw(i,s){var c=s.ownerDocument.createElement("input");return c.name=s.name,c.value=s.value,i.id&&c.setAttribute("form",i.id),s.parentNode.insertBefore(c,s),i=new FormData(i),c.parentNode.removeChild(c),i}function gT(i,s,c,d,g){if(s==="submit"&&c&&c.stateNode===g){var y=Qw((g[Ur]||null).action),A=d.submitter;A&&(s=(s=A[Ur]||null)?Qw(s.formAction):A.getAttribute("formAction"),s!==null&&(y=s,A=null));var M=new Cu("action","action",null,d,g);i.push({event:M,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(Si!==0){var H=A?Xw(g,A):new FormData(g);d0(c,{pending:!0,data:H,method:g.method,action:y},null,H)}}else typeof y=="function"&&(M.preventDefault(),H=A?Xw(g,A):new FormData(g),d0(c,{pending:!0,data:H,method:g.method,action:y},y,H))},currentTarget:g}]})}}for(var Y0=0;Y0<Oh.length;Y0++){var K0=Oh[Y0],vT=K0.toLowerCase(),yT=K0[0].toUpperCase()+K0.slice(1);In(vT,"on"+yT)}In(Oj,"onAnimationEnd"),In(Cj,"onAnimationIteration"),In(kj,"onAnimationStart"),In("dblclick","onDoubleClick"),In("focusin","onFocus"),In("focusout","onBlur"),In(Rk,"onTransitionRun"),In(Lk,"onTransitionStart"),In(zk,"onTransitionCancel"),In(Tj,"onTransitionEnd"),Vs("onMouseEnter",["mouseout","mouseover"]),Vs("onMouseLeave",["mouseout","mouseover"]),Vs("onPointerEnter",["pointerout","pointerover"]),Vs("onPointerLeave",["pointerout","pointerover"]),Ki("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ki("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ki("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ki("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ki("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ki("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ko="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ko));function Zw(i,s){s=(s&4)!==0;for(var c=0;c<i.length;c++){var d=i[c],g=d.event;d=d.listeners;e:{var y=void 0;if(s)for(var A=d.length-1;0<=A;A--){var M=d[A],H=M.instance,se=M.currentTarget;if(M=M.listener,H!==y&&g.isPropagationStopped())break e;y=M,g.currentTarget=se;try{y(g)}catch(be){Mu(be)}g.currentTarget=null,y=H}else for(A=0;A<d.length;A++){if(M=d[A],H=M.instance,se=M.currentTarget,M=M.listener,H!==y&&g.isPropagationStopped())break e;y=M,g.currentTarget=se;try{y(g)}catch(be){Mu(be)}g.currentTarget=null,y=H}}}}function Ke(i,s){var c=s[sh];c===void 0&&(c=s[sh]=new Set);var d=i+"__bubble";c.has(d)||(Jw(s,i,2,!1),c.add(d))}function G0(i,s,c){var d=0;s&&(d|=4),Jw(c,i,d,s)}var vd="_reactListening"+Math.random().toString(36).slice(2);function W0(i){if(!i[vd]){i[vd]=!0,Yb.forEach(function(c){c!=="selectionchange"&&(bT.has(c)||G0(c,!1,i),G0(c,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[vd]||(s[vd]=!0,G0("selectionchange",!1,s))}}function Jw(i,s,c,d){switch(O2(s)){case 2:var g=GT;break;case 8:g=WT;break;default:g=up}c=g.bind(null,s,c,i),g=void 0,!ph||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(g=!0),d?g!==void 0?i.addEventListener(s,c,{capture:!0,passive:g}):i.addEventListener(s,c,!0):g!==void 0?i.addEventListener(s,c,{passive:g}):i.addEventListener(s,c,!1)}function Q0(i,s,c,d,g){var y=d;if((s&1)===0&&(s&2)===0&&d!==null)e:for(;;){if(d===null)return;var A=d.tag;if(A===3||A===4){var M=d.stateNode.containerInfo;if(M===g)break;if(A===4)for(A=d.return;A!==null;){var H=A.tag;if((H===3||H===4)&&A.stateNode.containerInfo===g)return;A=A.return}for(;M!==null;){if(A=qs(M),A===null)return;if(H=A.tag,H===5||H===6||H===26||H===27){d=y=A;continue e}M=M.parentNode}}d=d.return}aj(function(){var se=y,be=mh(c),we=[];e:{var me=Mj.get(i);if(me!==void 0){var xe=Cu,Pe=i;switch(i){case"keypress":if(_u(c)===0)break e;case"keydown":case"keyup":xe=mk;break;case"focusin":Pe="focus",xe=yh;break;case"focusout":Pe="blur",xe=yh;break;case"beforeblur":case"afterblur":xe=yh;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":xe=lj;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":xe=tk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":xe=xk;break;case Oj:case Cj:case kj:xe=ak;break;case Tj:xe=vk;break;case"scroll":case"scrollend":xe=JC;break;case"wheel":xe=bk;break;case"copy":case"cut":case"paste":xe=sk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":xe=cj;break;case"toggle":case"beforetoggle":xe=wk}var Be=(s&4)!==0,ft=!Be&&(i==="scroll"||i==="scrollend"),ee=Be?me!==null?me+"Capture":null:me;Be=[];for(var Q=se,ie;Q!==null;){var je=Q;if(ie=je.stateNode,je=je.tag,je!==5&&je!==26&&je!==27||ie===null||ee===null||(je=po(Q,ee),je!=null&&Be.push(Go(Q,je,ie))),ft)break;Q=Q.return}0<Be.length&&(me=new xe(me,Pe,null,c,be),we.push({event:me,listeners:Be}))}}if((s&7)===0){e:{if(me=i==="mouseover"||i==="pointerover",xe=i==="mouseout"||i==="pointerout",me&&c!==fh&&(Pe=c.relatedTarget||c.fromElement)&&(qs(Pe)||Pe[Us]))break e;if((xe||me)&&(me=be.window===be?be:(me=be.ownerDocument)?me.defaultView||me.parentWindow:window,xe?(Pe=c.relatedTarget||c.toElement,xe=se,Pe=Pe?qs(Pe):null,Pe!==null&&(ft=o(Pe),Be=Pe.tag,Pe!==ft||Be!==5&&Be!==27&&Be!==6)&&(Pe=null)):(xe=null,Pe=se),xe!==Pe)){if(Be=lj,je="onMouseLeave",ee="onMouseEnter",Q="mouse",(i==="pointerout"||i==="pointerover")&&(Be=cj,je="onPointerLeave",ee="onPointerEnter",Q="pointer"),ft=xe==null?me:ho(xe),ie=Pe==null?me:ho(Pe),me=new Be(je,Q+"leave",xe,c,be),me.target=ft,me.relatedTarget=ie,je=null,qs(be)===se&&(Be=new Be(ee,Q+"enter",Pe,c,be),Be.target=ie,Be.relatedTarget=ft,je=Be),ft=je,xe&&Pe)t:{for(Be=jT,ee=xe,Q=Pe,ie=0,je=ee;je;je=Be(je))ie++;je=0;for(var ze=Q;ze;ze=Be(ze))je++;for(;0<ie-je;)ee=Be(ee),ie--;for(;0<je-ie;)Q=Be(Q),je--;for(;ie--;){if(ee===Q||Q!==null&&ee===Q.alternate){Be=ee;break t}ee=Be(ee),Q=Be(Q)}Be=null}else Be=null;xe!==null&&e2(we,me,xe,Be,!1),Pe!==null&&ft!==null&&e2(we,ft,Pe,Be,!0)}}e:{if(me=se?ho(se):window,xe=me.nodeName&&me.nodeName.toLowerCase(),xe==="select"||xe==="input"&&me.type==="file")var et=gj;else if(pj(me))if(vj)et=Mk;else{et=kk;var Le=Ck}else xe=me.nodeName,!xe||xe.toLowerCase()!=="input"||me.type!=="checkbox"&&me.type!=="radio"?se&&dh(se.elementType)&&(et=gj):et=Tk;if(et&&(et=et(i,se))){xj(we,et,c,be);break e}Le&&Le(i,me,se),i==="focusout"&&se&&me.type==="number"&&se.memoizedProps.value!=null&&uh(me,"number",me.value)}switch(Le=se?ho(se):window,i){case"focusin":(pj(Le)||Le.contentEditable==="true")&&(Xs=Le,Ah=se,No=null);break;case"focusout":No=Ah=Xs=null;break;case"mousedown":Eh=!0;break;case"contextmenu":case"mouseup":case"dragend":Eh=!1,Ej(we,c,be);break;case"selectionchange":if(Dk)break;case"keydown":case"keyup":Ej(we,c,be)}var He;if(jh)e:{switch(i){case"compositionstart":var We="onCompositionStart";break e;case"compositionend":We="onCompositionEnd";break e;case"compositionupdate":We="onCompositionUpdate";break e}We=void 0}else Qs?mj(i,c)&&(We="onCompositionEnd"):i==="keydown"&&c.keyCode===229&&(We="onCompositionStart");We&&(uj&&c.locale!=="ko"&&(Qs||We!=="onCompositionStart"?We==="onCompositionEnd"&&Qs&&(He=ij()):(oi=be,xh="value"in oi?oi.value:oi.textContent,Qs=!0)),Le=yd(se,We),0<Le.length&&(We=new oj(We,i,null,c,be),we.push({event:We,listeners:Le}),He?We.data=He:(He=hj(c),He!==null&&(We.data=He)))),(He=Sk?Ak(i,c):Ek(i,c))&&(We=yd(se,"onBeforeInput"),0<We.length&&(Le=new oj("onBeforeInput","beforeinput",null,c,be),we.push({event:Le,listeners:We}),Le.data=He)),gT(we,i,se,c,be)}Zw(we,s)})}function Go(i,s,c){return{instance:i,listener:s,currentTarget:c}}function yd(i,s){for(var c=s+"Capture",d=[];i!==null;){var g=i,y=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||y===null||(g=po(i,c),g!=null&&d.unshift(Go(i,g,y)),g=po(i,s),g!=null&&d.push(Go(i,g,y))),i.tag===3)return d;i=i.return}return[]}function jT(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function e2(i,s,c,d,g){for(var y=s._reactName,A=[];c!==null&&c!==d;){var M=c,H=M.alternate,se=M.stateNode;if(M=M.tag,H!==null&&H===d)break;M!==5&&M!==26&&M!==27||se===null||(H=se,g?(se=po(c,y),se!=null&&A.unshift(Go(c,se,H))):g||(se=po(c,y),se!=null&&A.push(Go(c,se,H)))),c=c.return}A.length!==0&&i.push({event:s,listeners:A})}var wT=/\r\n?/g,NT=/\u0000|\uFFFD/g;function t2(i){return(typeof i=="string"?i:""+i).replace(wT,`
`).replace(NT,"")}function r2(i,s){return s=t2(s),t2(i)===s}function dt(i,s,c,d,g,y){switch(c){case"children":typeof d=="string"?s==="body"||s==="textarea"&&d===""||Ks(i,d):(typeof d=="number"||typeof d=="bigint")&&s!=="body"&&Ks(i,""+d);break;case"className":Nu(i,"class",d);break;case"tabIndex":Nu(i,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":Nu(i,c,d);break;case"style":rj(i,d,y);break;case"data":if(s!=="object"){Nu(i,"data",d);break}case"src":case"href":if(d===""&&(s!=="a"||c!=="href")){i.removeAttribute(c);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){i.removeAttribute(c);break}d=Au(""+d),i.setAttribute(c,d);break;case"action":case"formAction":if(typeof d=="function"){i.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(c==="formAction"?(s!=="input"&&dt(i,s,"name",g.name,g,null),dt(i,s,"formEncType",g.formEncType,g,null),dt(i,s,"formMethod",g.formMethod,g,null),dt(i,s,"formTarget",g.formTarget,g,null)):(dt(i,s,"encType",g.encType,g,null),dt(i,s,"method",g.method,g,null),dt(i,s,"target",g.target,g,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){i.removeAttribute(c);break}d=Au(""+d),i.setAttribute(c,d);break;case"onClick":d!=null&&(i.onclick=xa);break;case"onScroll":d!=null&&Ke("scroll",i);break;case"onScrollEnd":d!=null&&Ke("scrollend",i);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(a(61));if(c=d.__html,c!=null){if(g.children!=null)throw Error(a(60));i.innerHTML=c}}break;case"multiple":i.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":i.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){i.removeAttribute("xlink:href");break}c=Au(""+d),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(c,""+d):i.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(c,""):i.removeAttribute(c);break;case"capture":case"download":d===!0?i.setAttribute(c,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(c,d):i.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?i.setAttribute(c,d):i.removeAttribute(c);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?i.removeAttribute(c):i.setAttribute(c,d);break;case"popover":Ke("beforetoggle",i),Ke("toggle",i),wu(i,"popover",d);break;case"xlinkActuate":pa(i,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":pa(i,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":pa(i,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":pa(i,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":pa(i,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":pa(i,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":pa(i,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":pa(i,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":pa(i,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":wu(i,"is",d);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=XC.get(c)||c,wu(i,c,d))}}function X0(i,s,c,d,g,y){switch(c){case"style":rj(i,d,y);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(a(61));if(c=d.__html,c!=null){if(g.children!=null)throw Error(a(60));i.innerHTML=c}}break;case"children":typeof d=="string"?Ks(i,d):(typeof d=="number"||typeof d=="bigint")&&Ks(i,""+d);break;case"onScroll":d!=null&&Ke("scroll",i);break;case"onScrollEnd":d!=null&&Ke("scrollend",i);break;case"onClick":d!=null&&(i.onclick=xa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Kb.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(g=c.endsWith("Capture"),s=c.slice(2,g?c.length-7:void 0),y=i[Ur]||null,y=y!=null?y[c]:null,typeof y=="function"&&i.removeEventListener(s,y,g),typeof d=="function")){typeof y!="function"&&y!==null&&(c in i?i[c]=null:i.hasAttribute(c)&&i.removeAttribute(c)),i.addEventListener(s,d,g);break e}c in i?i[c]=d:d===!0?i.setAttribute(c,""):wu(i,c,d)}}}function wr(i,s,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ke("error",i),Ke("load",i);var d=!1,g=!1,y;for(y in c)if(c.hasOwnProperty(y)){var A=c[y];if(A!=null)switch(y){case"src":d=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:dt(i,s,y,A,c,null)}}g&&dt(i,s,"srcSet",c.srcSet,c,null),d&&dt(i,s,"src",c.src,c,null);return;case"input":Ke("invalid",i);var M=y=A=g=null,H=null,se=null;for(d in c)if(c.hasOwnProperty(d)){var be=c[d];if(be!=null)switch(d){case"name":g=be;break;case"type":A=be;break;case"checked":H=be;break;case"defaultChecked":se=be;break;case"value":y=be;break;case"defaultValue":M=be;break;case"children":case"dangerouslySetInnerHTML":if(be!=null)throw Error(a(137,s));break;default:dt(i,s,d,be,c,null)}}Zb(i,y,M,H,se,A,g,!1);return;case"select":Ke("invalid",i),d=A=y=null;for(g in c)if(c.hasOwnProperty(g)&&(M=c[g],M!=null))switch(g){case"value":y=M;break;case"defaultValue":A=M;break;case"multiple":d=M;default:dt(i,s,g,M,c,null)}s=y,c=A,i.multiple=!!d,s!=null?Ys(i,!!d,s,!1):c!=null&&Ys(i,!!d,c,!0);return;case"textarea":Ke("invalid",i),y=g=d=null;for(A in c)if(c.hasOwnProperty(A)&&(M=c[A],M!=null))switch(A){case"value":d=M;break;case"defaultValue":g=M;break;case"children":y=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(a(91));break;default:dt(i,s,A,M,c,null)}ej(i,d,g,y);return;case"option":for(H in c)if(c.hasOwnProperty(H)&&(d=c[H],d!=null))switch(H){case"selected":i.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:dt(i,s,H,d,c,null)}return;case"dialog":Ke("beforetoggle",i),Ke("toggle",i),Ke("cancel",i),Ke("close",i);break;case"iframe":case"object":Ke("load",i);break;case"video":case"audio":for(d=0;d<Ko.length;d++)Ke(Ko[d],i);break;case"image":Ke("error",i),Ke("load",i);break;case"details":Ke("toggle",i);break;case"embed":case"source":case"link":Ke("error",i),Ke("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(se in c)if(c.hasOwnProperty(se)&&(d=c[se],d!=null))switch(se){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:dt(i,s,se,d,c,null)}return;default:if(dh(s)){for(be in c)c.hasOwnProperty(be)&&(d=c[be],d!==void 0&&X0(i,s,be,d,c,void 0));return}}for(M in c)c.hasOwnProperty(M)&&(d=c[M],d!=null&&dt(i,s,M,d,c,null))}function ST(i,s,c,d){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,y=null,A=null,M=null,H=null,se=null,be=null;for(xe in c){var we=c[xe];if(c.hasOwnProperty(xe)&&we!=null)switch(xe){case"checked":break;case"value":break;case"defaultValue":H=we;default:d.hasOwnProperty(xe)||dt(i,s,xe,null,d,we)}}for(var me in d){var xe=d[me];if(we=c[me],d.hasOwnProperty(me)&&(xe!=null||we!=null))switch(me){case"type":y=xe;break;case"name":g=xe;break;case"checked":se=xe;break;case"defaultChecked":be=xe;break;case"value":A=xe;break;case"defaultValue":M=xe;break;case"children":case"dangerouslySetInnerHTML":if(xe!=null)throw Error(a(137,s));break;default:xe!==we&&dt(i,s,me,xe,d,we)}}ch(i,A,M,H,se,be,y,g);return;case"select":xe=A=M=me=null;for(y in c)if(H=c[y],c.hasOwnProperty(y)&&H!=null)switch(y){case"value":break;case"multiple":xe=H;default:d.hasOwnProperty(y)||dt(i,s,y,null,d,H)}for(g in d)if(y=d[g],H=c[g],d.hasOwnProperty(g)&&(y!=null||H!=null))switch(g){case"value":me=y;break;case"defaultValue":M=y;break;case"multiple":A=y;default:y!==H&&dt(i,s,g,y,d,H)}s=M,c=A,d=xe,me!=null?Ys(i,!!c,me,!1):!!d!=!!c&&(s!=null?Ys(i,!!c,s,!0):Ys(i,!!c,c?[]:"",!1));return;case"textarea":xe=me=null;for(M in c)if(g=c[M],c.hasOwnProperty(M)&&g!=null&&!d.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:dt(i,s,M,null,d,g)}for(A in d)if(g=d[A],y=c[A],d.hasOwnProperty(A)&&(g!=null||y!=null))switch(A){case"value":me=g;break;case"defaultValue":xe=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(a(91));break;default:g!==y&&dt(i,s,A,g,d,y)}Jb(i,me,xe);return;case"option":for(var Pe in c)if(me=c[Pe],c.hasOwnProperty(Pe)&&me!=null&&!d.hasOwnProperty(Pe))switch(Pe){case"selected":i.selected=!1;break;default:dt(i,s,Pe,null,d,me)}for(H in d)if(me=d[H],xe=c[H],d.hasOwnProperty(H)&&me!==xe&&(me!=null||xe!=null))switch(H){case"selected":i.selected=me&&typeof me!="function"&&typeof me!="symbol";break;default:dt(i,s,H,me,d,xe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Be in c)me=c[Be],c.hasOwnProperty(Be)&&me!=null&&!d.hasOwnProperty(Be)&&dt(i,s,Be,null,d,me);for(se in d)if(me=d[se],xe=c[se],d.hasOwnProperty(se)&&me!==xe&&(me!=null||xe!=null))switch(se){case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(a(137,s));break;default:dt(i,s,se,me,d,xe)}return;default:if(dh(s)){for(var ft in c)me=c[ft],c.hasOwnProperty(ft)&&me!==void 0&&!d.hasOwnProperty(ft)&&X0(i,s,ft,void 0,d,me);for(be in d)me=d[be],xe=c[be],!d.hasOwnProperty(be)||me===xe||me===void 0&&xe===void 0||X0(i,s,be,me,d,xe);return}}for(var ee in c)me=c[ee],c.hasOwnProperty(ee)&&me!=null&&!d.hasOwnProperty(ee)&&dt(i,s,ee,null,d,me);for(we in d)me=d[we],xe=c[we],!d.hasOwnProperty(we)||me===xe||me==null&&xe==null||dt(i,s,we,me,d,xe)}function n2(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function AT(){if(typeof performance.getEntriesByType=="function"){for(var i=0,s=0,c=performance.getEntriesByType("resource"),d=0;d<c.length;d++){var g=c[d],y=g.transferSize,A=g.initiatorType,M=g.duration;if(y&&M&&n2(A)){for(A=0,M=g.responseEnd,d+=1;d<c.length;d++){var H=c[d],se=H.startTime;if(se>M)break;var be=H.transferSize,we=H.initiatorType;be&&n2(we)&&(H=H.responseEnd,A+=be*(H<M?1:(M-se)/(H-se)))}if(--d,s+=8*(y+A)/(g.duration/1e3),i++,10<i)break}}if(0<i)return s/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Z0=null,J0=null;function bd(i){return i.nodeType===9?i:i.ownerDocument}function a2(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function i2(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function ep(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var tp=null;function ET(){var i=window.event;return i&&i.type==="popstate"?i===tp?!1:(tp=i,!0):(tp=null,!1)}var s2=typeof setTimeout=="function"?setTimeout:void 0,_T=typeof clearTimeout=="function"?clearTimeout:void 0,l2=typeof Promise=="function"?Promise:void 0,OT=typeof queueMicrotask=="function"?queueMicrotask:typeof l2<"u"?function(i){return l2.resolve(null).then(i).catch(CT)}:s2;function CT(i){setTimeout(function(){throw i})}function Ai(i){return i==="head"}function o2(i,s){var c=s,d=0;do{var g=c.nextSibling;if(i.removeChild(c),g&&g.nodeType===8)if(c=g.data,c==="/$"||c==="/&"){if(d===0){i.removeChild(g),Sl(s);return}d--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")d++;else if(c==="html")Wo(i.ownerDocument.documentElement);else if(c==="head"){c=i.ownerDocument.head,Wo(c);for(var y=c.firstChild;y;){var A=y.nextSibling,M=y.nodeName;y[mo]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&y.rel.toLowerCase()==="stylesheet"||c.removeChild(y),y=A}}else c==="body"&&Wo(i.ownerDocument.body);c=g}while(c);Sl(s)}function c2(i,s){var c=i;i=0;do{var d=c.nextSibling;if(c.nodeType===1?s?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(s?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),d&&d.nodeType===8)if(c=d.data,c==="/$"){if(i===0)break;i--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||i++;c=d}while(c)}function rp(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var c=s;switch(s=s.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":rp(c),lh(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}i.removeChild(c)}}function kT(i,s,c,d){for(;i.nodeType===1;){var g=c;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!d&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(d){if(!i[mo])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(y=i.getAttribute("rel"),y==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(y!==g.rel||i.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||i.getAttribute("title")!==(g.title==null?null:g.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(y=i.getAttribute("src"),(y!==(g.src==null?null:g.src)||i.getAttribute("type")!==(g.type==null?null:g.type)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&y&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var y=g.name==null?null:""+g.name;if(g.type==="hidden"&&i.getAttribute("name")===y)return i}else return i;if(i=An(i.nextSibling),i===null)break}return null}function TT(i,s,c){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!c||(i=An(i.nextSibling),i===null))return null;return i}function u2(i,s){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=An(i.nextSibling),i===null))return null;return i}function np(i){return i.data==="$?"||i.data==="$~"}function ap(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function MT(i,s){var c=i.ownerDocument;if(i.data==="$~")i._reactRetry=s;else if(i.data!=="$?"||c.readyState!=="loading")s();else{var d=function(){s(),c.removeEventListener("DOMContentLoaded",d)};c.addEventListener("DOMContentLoaded",d),i._reactRetry=d}}function An(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return i}var ip=null;function d2(i){i=i.nextSibling;for(var s=0;i;){if(i.nodeType===8){var c=i.data;if(c==="/$"||c==="/&"){if(s===0)return An(i.nextSibling);s--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||s++}i=i.nextSibling}return null}function f2(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var c=i.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(s===0)return i;s--}else c!=="/$"&&c!=="/&"||s++}i=i.previousSibling}return null}function m2(i,s,c){switch(s=bd(c),i){case"html":if(i=s.documentElement,!i)throw Error(a(452));return i;case"head":if(i=s.head,!i)throw Error(a(453));return i;case"body":if(i=s.body,!i)throw Error(a(454));return i;default:throw Error(a(451))}}function Wo(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);lh(i)}var En=new Map,h2=new Set;function jd(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Ma=V.d;V.d={f:PT,r:DT,D:RT,C:LT,L:zT,m:BT,X:IT,S:$T,M:UT};function PT(){var i=Ma.f(),s=fd();return i||s}function DT(i){var s=Fs(i);s!==null&&s.tag===5&&s.type==="form"?T1(s):Ma.r(i)}var jl=typeof document>"u"?null:document;function p2(i,s,c){var d=jl;if(d&&typeof s=="string"&&s){var g=vn(s);g='link[rel="'+i+'"][href="'+g+'"]',typeof c=="string"&&(g+='[crossorigin="'+c+'"]'),h2.has(g)||(h2.add(g),i={rel:i,crossOrigin:c,href:s},d.querySelector(g)===null&&(s=d.createElement("link"),wr(s,"link",i),or(s),d.head.appendChild(s)))}}function RT(i){Ma.D(i),p2("dns-prefetch",i,null)}function LT(i,s){Ma.C(i,s),p2("preconnect",i,s)}function zT(i,s,c){Ma.L(i,s,c);var d=jl;if(d&&i&&s){var g='link[rel="preload"][as="'+vn(s)+'"]';s==="image"&&c&&c.imageSrcSet?(g+='[imagesrcset="'+vn(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(g+='[imagesizes="'+vn(c.imageSizes)+'"]')):g+='[href="'+vn(i)+'"]';var y=g;switch(s){case"style":y=wl(i);break;case"script":y=Nl(i)}En.has(y)||(i=x({rel:"preload",href:s==="image"&&c&&c.imageSrcSet?void 0:i,as:s},c),En.set(y,i),d.querySelector(g)!==null||s==="style"&&d.querySelector(Qo(y))||s==="script"&&d.querySelector(Xo(y))||(s=d.createElement("link"),wr(s,"link",i),or(s),d.head.appendChild(s)))}}function BT(i,s){Ma.m(i,s);var c=jl;if(c&&i){var d=s&&typeof s.as=="string"?s.as:"script",g='link[rel="modulepreload"][as="'+vn(d)+'"][href="'+vn(i)+'"]',y=g;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Nl(i)}if(!En.has(y)&&(i=x({rel:"modulepreload",href:i},s),En.set(y,i),c.querySelector(g)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Xo(y)))return}d=c.createElement("link"),wr(d,"link",i),or(d),c.head.appendChild(d)}}}function $T(i,s,c){Ma.S(i,s,c);var d=jl;if(d&&i){var g=Hs(d).hoistableStyles,y=wl(i);s=s||"default";var A=g.get(y);if(!A){var M={loading:0,preload:null};if(A=d.querySelector(Qo(y)))M.loading=5;else{i=x({rel:"stylesheet",href:i,"data-precedence":s},c),(c=En.get(y))&&sp(i,c);var H=A=d.createElement("link");or(H),wr(H,"link",i),H._p=new Promise(function(se,be){H.onload=se,H.onerror=be}),H.addEventListener("load",function(){M.loading|=1}),H.addEventListener("error",function(){M.loading|=2}),M.loading|=4,wd(A,s,d)}A={type:"stylesheet",instance:A,count:1,state:M},g.set(y,A)}}}function IT(i,s){Ma.X(i,s);var c=jl;if(c&&i){var d=Hs(c).hoistableScripts,g=Nl(i),y=d.get(g);y||(y=c.querySelector(Xo(g)),y||(i=x({src:i,async:!0},s),(s=En.get(g))&&lp(i,s),y=c.createElement("script"),or(y),wr(y,"link",i),c.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},d.set(g,y))}}function UT(i,s){Ma.M(i,s);var c=jl;if(c&&i){var d=Hs(c).hoistableScripts,g=Nl(i),y=d.get(g);y||(y=c.querySelector(Xo(g)),y||(i=x({src:i,async:!0,type:"module"},s),(s=En.get(g))&&lp(i,s),y=c.createElement("script"),or(y),wr(y,"link",i),c.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},d.set(g,y))}}function x2(i,s,c,d){var g=(g=Ne.current)?jd(g):null;if(!g)throw Error(a(446));switch(i){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(s=wl(c.href),c=Hs(g).hoistableStyles,d=c.get(s),d||(d={type:"style",instance:null,count:0,state:null},c.set(s,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){i=wl(c.href);var y=Hs(g).hoistableStyles,A=y.get(i);if(A||(g=g.ownerDocument||g,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(i,A),(y=g.querySelector(Qo(i)))&&!y._p&&(A.instance=y,A.state.loading=5),En.has(i)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},En.set(i,c),y||qT(g,i,c,A.state))),s&&d===null)throw Error(a(528,""));return A}if(s&&d!==null)throw Error(a(529,""));return null;case"script":return s=c.async,c=c.src,typeof c=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Nl(c),c=Hs(g).hoistableScripts,d=c.get(s),d||(d={type:"script",instance:null,count:0,state:null},c.set(s,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,i))}}function wl(i){return'href="'+vn(i)+'"'}function Qo(i){return'link[rel="stylesheet"]['+i+"]"}function g2(i){return x({},i,{"data-precedence":i.precedence,precedence:null})}function qT(i,s,c,d){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?d.loading=1:(s=i.createElement("link"),d.preload=s,s.addEventListener("load",function(){return d.loading|=1}),s.addEventListener("error",function(){return d.loading|=2}),wr(s,"link",c),or(s),i.head.appendChild(s))}function Nl(i){return'[src="'+vn(i)+'"]'}function Xo(i){return"script[async]"+i}function v2(i,s,c){if(s.count++,s.instance===null)switch(s.type){case"style":var d=i.querySelector('style[data-href~="'+vn(c.href)+'"]');if(d)return s.instance=d,or(d),d;var g=x({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return d=(i.ownerDocument||i).createElement("style"),or(d),wr(d,"style",g),wd(d,c.precedence,i),s.instance=d;case"stylesheet":g=wl(c.href);var y=i.querySelector(Qo(g));if(y)return s.state.loading|=4,s.instance=y,or(y),y;d=g2(c),(g=En.get(g))&&sp(d,g),y=(i.ownerDocument||i).createElement("link"),or(y);var A=y;return A._p=new Promise(function(M,H){A.onload=M,A.onerror=H}),wr(y,"link",d),s.state.loading|=4,wd(y,c.precedence,i),s.instance=y;case"script":return y=Nl(c.src),(g=i.querySelector(Xo(y)))?(s.instance=g,or(g),g):(d=c,(g=En.get(y))&&(d=x({},c),lp(d,g)),i=i.ownerDocument||i,g=i.createElement("script"),or(g),wr(g,"link",d),i.head.appendChild(g),s.instance=g);case"void":return null;default:throw Error(a(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(d=s.instance,s.state.loading|=4,wd(d,c.precedence,i));return s.instance}function wd(i,s,c){for(var d=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=d.length?d[d.length-1]:null,y=g,A=0;A<d.length;A++){var M=d[A];if(M.dataset.precedence===s)y=M;else if(y!==g)break}y?y.parentNode.insertBefore(i,y.nextSibling):(s=c.nodeType===9?c.head:c,s.insertBefore(i,s.firstChild))}function sp(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function lp(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var Nd=null;function y2(i,s,c){if(Nd===null){var d=new Map,g=Nd=new Map;g.set(c,d)}else g=Nd,d=g.get(c),d||(d=new Map,g.set(c,d));if(d.has(i))return d;for(d.set(i,null),c=c.getElementsByTagName(i),g=0;g<c.length;g++){var y=c[g];if(!(y[mo]||y[vr]||i==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var A=y.getAttribute(s)||"";A=i+A;var M=d.get(A);M?M.push(y):d.set(A,[y])}}return d}function b2(i,s,c){i=i.ownerDocument||i,i.head.insertBefore(c,s==="title"?i.querySelector("head > title"):null)}function FT(i,s,c){if(c===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function j2(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function HT(i,s,c,d){if(c.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var g=wl(d.href),y=s.querySelector(Qo(g));if(y){s=y._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(i.count++,i=Sd.bind(i),s.then(i,i)),c.state.loading|=4,c.instance=y,or(y);return}y=s.ownerDocument||s,d=g2(d),(g=En.get(g))&&sp(d,g),y=y.createElement("link"),or(y);var A=y;A._p=new Promise(function(M,H){A.onload=M,A.onerror=H}),wr(y,"link",d),c.instance=y}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(c,s),(s=c.state.preload)&&(c.state.loading&3)===0&&(i.count++,c=Sd.bind(i),s.addEventListener("load",c),s.addEventListener("error",c))}}var op=0;function VT(i,s){return i.stylesheets&&i.count===0&&Ed(i,i.stylesheets),0<i.count||0<i.imgCount?function(c){var d=setTimeout(function(){if(i.stylesheets&&Ed(i,i.stylesheets),i.unsuspend){var y=i.unsuspend;i.unsuspend=null,y()}},6e4+s);0<i.imgBytes&&op===0&&(op=62500*AT());var g=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Ed(i,i.stylesheets),i.unsuspend)){var y=i.unsuspend;i.unsuspend=null,y()}},(i.imgBytes>op?50:800)+s);return i.unsuspend=c,function(){i.unsuspend=null,clearTimeout(d),clearTimeout(g)}}:null}function Sd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ed(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Ad=null;function Ed(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Ad=new Map,s.forEach(YT,i),Ad=null,Sd.call(i))}function YT(i,s){if(!(s.state.loading&4)){var c=Ad.get(i);if(c)var d=c.get(null);else{c=new Map,Ad.set(i,c);for(var g=i.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<g.length;y++){var A=g[y];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(c.set(A.dataset.precedence,A),d=A)}d&&c.set(null,d)}g=s.instance,A=g.getAttribute("data-precedence"),y=c.get(A)||d,y===d&&c.set(null,g),c.set(A,g),this.count++,d=Sd.bind(this),g.addEventListener("load",d),g.addEventListener("error",d),y?y.parentNode.insertBefore(g,y.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(g,i.firstChild)),s.state.loading|=4}}var Zo={$$typeof:_,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function KT(i,s,c,d,g,y,A,M,H){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=nh(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nh(0),this.hiddenUpdates=nh(null),this.identifierPrefix=d,this.onUncaughtError=g,this.onCaughtError=y,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=H,this.incompleteTransitions=new Map}function w2(i,s,c,d,g,y,A,M,H,se,be,we){return i=new KT(i,s,c,A,H,se,be,we,M),s=1,y===!0&&(s|=24),y=an(3,null,null,s),i.current=y,y.stateNode=i,s=Uh(),s.refCount++,i.pooledCache=s,s.refCount++,y.memoizedState={element:d,isDehydrated:c,cache:s},Vh(y),i}function N2(i){return i?(i=el,i):el}function S2(i,s,c,d,g,y){g=N2(g),d.context===null?d.context=g:d.pendingContext=g,d=hi(s),d.payload={element:c},y=y===void 0?null:y,y!==null&&(d.callback=y),c=pi(i,d,s),c!==null&&(Kr(c,i,s),ko(c,i,s))}function A2(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var c=i.retryLane;i.retryLane=c!==0&&c<s?c:s}}function cp(i,s){A2(i,s),(i=i.alternate)&&A2(i,s)}function E2(i){if(i.tag===13||i.tag===31){var s=Xi(i,67108864);s!==null&&Kr(s,i,67108864),cp(i,67108864)}}function _2(i){if(i.tag===13||i.tag===31){var s=un();s=ah(s);var c=Xi(i,s);c!==null&&Kr(c,i,s),cp(i,s)}}var _d=!0;function GT(i,s,c,d){var g=C.T;C.T=null;var y=V.p;try{V.p=2,up(i,s,c,d)}finally{V.p=y,C.T=g}}function WT(i,s,c,d){var g=C.T;C.T=null;var y=V.p;try{V.p=8,up(i,s,c,d)}finally{V.p=y,C.T=g}}function up(i,s,c,d){if(_d){var g=dp(d);if(g===null)Q0(i,s,d,Od,c),C2(i,d);else if(XT(g,i,s,c,d))d.stopPropagation();else if(C2(i,d),s&4&&-1<QT.indexOf(i)){for(;g!==null;){var y=Fs(g);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var A=Mr(y.pendingLanes);if(A!==0){var M=y;for(M.pendingLanes|=2,M.entangledLanes|=2;A;){var H=1<<31-de(A);M.entanglements[1]|=H,A&=~H}na(y),(at&6)===0&&(ud=_e()+500,Yo(0))}}break;case 31:case 13:M=Xi(y,2),M!==null&&Kr(M,y,2),fd(),cp(y,2)}if(y=dp(d),y===null&&Q0(i,s,d,Od,c),y===g)break;g=y}g!==null&&d.stopPropagation()}else Q0(i,s,d,null,c)}}function dp(i){return i=mh(i),fp(i)}var Od=null;function fp(i){if(Od=null,i=qs(i),i!==null){var s=o(i);if(s===null)i=null;else{var c=s.tag;if(c===13){if(i=u(s),i!==null)return i;i=null}else if(c===31){if(i=f(s),i!==null)return i;i=null}else if(c===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Od=i,null}function O2(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Re()){case Ve:return 2;case vt:return 8;case Ze:case rn:return 32;case Vt:return 268435456;default:return 32}default:return 32}}var mp=!1,Ei=null,_i=null,Oi=null,Jo=new Map,ec=new Map,Ci=[],QT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function C2(i,s){switch(i){case"focusin":case"focusout":Ei=null;break;case"dragenter":case"dragleave":_i=null;break;case"mouseover":case"mouseout":Oi=null;break;case"pointerover":case"pointerout":Jo.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":ec.delete(s.pointerId)}}function tc(i,s,c,d,g,y){return i===null||i.nativeEvent!==y?(i={blockedOn:s,domEventName:c,eventSystemFlags:d,nativeEvent:y,targetContainers:[g]},s!==null&&(s=Fs(s),s!==null&&E2(s)),i):(i.eventSystemFlags|=d,s=i.targetContainers,g!==null&&s.indexOf(g)===-1&&s.push(g),i)}function XT(i,s,c,d,g){switch(s){case"focusin":return Ei=tc(Ei,i,s,c,d,g),!0;case"dragenter":return _i=tc(_i,i,s,c,d,g),!0;case"mouseover":return Oi=tc(Oi,i,s,c,d,g),!0;case"pointerover":var y=g.pointerId;return Jo.set(y,tc(Jo.get(y)||null,i,s,c,d,g)),!0;case"gotpointercapture":return y=g.pointerId,ec.set(y,tc(ec.get(y)||null,i,s,c,d,g)),!0}return!1}function k2(i){var s=qs(i.target);if(s!==null){var c=o(s);if(c!==null){if(s=c.tag,s===13){if(s=u(c),s!==null){i.blockedOn=s,Hb(i.priority,function(){_2(c)});return}}else if(s===31){if(s=f(c),s!==null){i.blockedOn=s,Hb(i.priority,function(){_2(c)});return}}else if(s===3&&c.stateNode.current.memoizedState.isDehydrated){i.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Cd(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var c=dp(i.nativeEvent);if(c===null){c=i.nativeEvent;var d=new c.constructor(c.type,c);fh=d,c.target.dispatchEvent(d),fh=null}else return s=Fs(c),s!==null&&E2(s),i.blockedOn=c,!1;s.shift()}return!0}function T2(i,s,c){Cd(i)&&c.delete(s)}function ZT(){mp=!1,Ei!==null&&Cd(Ei)&&(Ei=null),_i!==null&&Cd(_i)&&(_i=null),Oi!==null&&Cd(Oi)&&(Oi=null),Jo.forEach(T2),ec.forEach(T2)}function kd(i,s){i.blockedOn===s&&(i.blockedOn=null,mp||(mp=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ZT)))}var Td=null;function M2(i){Td!==i&&(Td=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Td===i&&(Td=null);for(var s=0;s<i.length;s+=3){var c=i[s],d=i[s+1],g=i[s+2];if(typeof d!="function"){if(fp(d||c)===null)continue;break}var y=Fs(c);y!==null&&(i.splice(s,3),s-=3,d0(y,{pending:!0,data:g,method:c.method,action:d},d,g))}}))}function Sl(i){function s(H){return kd(H,i)}Ei!==null&&kd(Ei,i),_i!==null&&kd(_i,i),Oi!==null&&kd(Oi,i),Jo.forEach(s),ec.forEach(s);for(var c=0;c<Ci.length;c++){var d=Ci[c];d.blockedOn===i&&(d.blockedOn=null)}for(;0<Ci.length&&(c=Ci[0],c.blockedOn===null);)k2(c),c.blockedOn===null&&Ci.shift();if(c=(i.ownerDocument||i).$$reactFormReplay,c!=null)for(d=0;d<c.length;d+=3){var g=c[d],y=c[d+1],A=g[Ur]||null;if(typeof y=="function")A||M2(c);else if(A){var M=null;if(y&&y.hasAttribute("formAction")){if(g=y,A=y[Ur]||null)M=A.formAction;else if(fp(g)!==null)continue}else M=A.action;typeof M=="function"?c[d+1]=M:(c.splice(d,3),d-=3),M2(c)}}}function P2(){function i(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(A){return g=A})},focusReset:"manual",scroll:"manual"})}function s(){g!==null&&(g(),g=null),d||setTimeout(c,20)}function c(){if(!d&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var d=!1,g=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(c,100),function(){d=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),g!==null&&(g(),g=null)}}}function hp(i){this._internalRoot=i}Md.prototype.render=hp.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(a(409));var c=s.current,d=un();S2(c,d,i,s,null,null)},Md.prototype.unmount=hp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;S2(i.current,2,null,i,null,null),fd(),s[Us]=null}};function Md(i){this._internalRoot=i}Md.prototype.unstable_scheduleHydration=function(i){if(i){var s=Fb();i={blockedOn:null,target:i,priority:s};for(var c=0;c<Ci.length&&s!==0&&s<Ci[c].priority;c++);Ci.splice(c,0,i),c===0&&k2(i)}};var D2=t.version;if(D2!=="19.2.0")throw Error(a(527,D2,"19.2.0"));V.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(a(188)):(i=Object.keys(i).join(","),Error(a(268,i)));return i=h(s),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var JT={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:C,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pd.isDisabled&&Pd.supportsFiber)try{Bn=Pd.inject(JT),gr=Pd}catch{}}return nc.createRoot=function(i,s){if(!l(i))throw Error(a(299));var c=!1,d="",g=U1,y=q1,A=F1;return s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onUncaughtError!==void 0&&(g=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(A=s.onRecoverableError)),s=w2(i,1,!1,null,null,c,d,null,g,y,A,P2),i[Us]=s.current,W0(i),new hp(s)},nc.hydrateRoot=function(i,s,c){if(!l(i))throw Error(a(299));var d=!1,g="",y=U1,A=q1,M=F1,H=null;return c!=null&&(c.unstable_strictMode===!0&&(d=!0),c.identifierPrefix!==void 0&&(g=c.identifierPrefix),c.onUncaughtError!==void 0&&(y=c.onUncaughtError),c.onCaughtError!==void 0&&(A=c.onCaughtError),c.onRecoverableError!==void 0&&(M=c.onRecoverableError),c.formState!==void 0&&(H=c.formState)),s=w2(i,1,!0,s,c??null,d,g,H,y,A,M,P2),s.context=N2(null),c=s.current,d=un(),d=ah(d),g=hi(d),g.callback=null,pi(c,g,d),c=d,s.current.lanes=c,fo(s,c),na(s),i[Us]=s.current,W0(i),new Md(s)},nc.version="19.2.0",nc}var H2;function uM(){if(H2)return gp.exports;H2=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),gp.exports=cM(),gp.exports}var dM=uM();var V2="popstate";function fM(e={}){function t(a,l){let{pathname:o,search:u,hash:f}=a.location;return dg("",{pathname:o,search:u,hash:f},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function r(a,l){return typeof l=="string"?l:wc(l)}return hM(t,r,null,e)}function Ct(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Pn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function mM(){return Math.random().toString(36).substring(2,10)}function Y2(e,t){return{usr:e.state,key:e.key,idx:t}}function dg(e,t,r=null,a){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Wl(t):t,state:r,key:t&&t.key||a||mM()}}function wc({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Wl(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let a=e.indexOf("?");a>=0&&(t.search=e.substring(a),e=e.substring(0,a)),e&&(t.pathname=e)}return t}function hM(e,t,r,a={}){let{window:l=document.defaultView,v5Compat:o=!1}=a,u=l.history,f="POP",m=null,h=p();h==null&&(h=0,u.replaceState({...u.state,idx:h},""));function p(){return(u.state||{idx:null}).idx}function x(){f="POP";let S=p(),E=S==null?null:S-h;h=S,m&&m({action:f,location:N.location,delta:E})}function b(S,E){f="PUSH";let O=dg(N.location,S,E);h=p()+1;let _=Y2(O,h),T=N.createHref(O);try{u.pushState(_,"",T)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;l.location.assign(T)}o&&m&&m({action:f,location:N.location,delta:1})}function j(S,E){f="REPLACE";let O=dg(N.location,S,E);h=p();let _=Y2(O,h),T=N.createHref(O);u.replaceState(_,"",T),o&&m&&m({action:f,location:N.location,delta:0})}function w(S){return pM(S)}let N={get action(){return f},get location(){return e(l,u)},listen(S){if(m)throw new Error("A history only accepts one active listener");return l.addEventListener(V2,x),m=S,()=>{l.removeEventListener(V2,x),m=null}},createHref(S){return t(l,S)},createURL:w,encodeLocation(S){let E=w(S);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:b,replace:j,go(S){return u.go(S)}};return N}function pM(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Ct(r,"No window.location.(origin|href) available to create URL");let a=typeof e=="string"?e:wc(e);return a=a.replace(/ $/,"%20"),!t&&a.startsWith("//")&&(a=r+a),new URL(a,r)}function Z3(e,t,r="/"){return xM(e,t,r,!1)}function xM(e,t,r,a){let l=typeof t=="string"?Wl(t):t,o=qa(l.pathname||"/",r);if(o==null)return null;let u=J3(e);gM(u);let f=null;for(let m=0;f==null&&m<u.length;++m){let h=OM(o);f=EM(u[m],h,a)}return f}function J3(e,t=[],r=[],a="",l=!1){let o=(u,f,m=l,h)=>{let p={relativePath:h===void 0?u.path||"":h,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(a)&&m)return;Ct(p.relativePath.startsWith(a),`Absolute route path "${p.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(a.length)}let x=Ba([a,p.relativePath]),b=r.concat(p);u.children&&u.children.length>0&&(Ct(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),J3(u.children,t,b,x,m)),!(u.path==null&&!u.index)&&t.push({path:x,score:SM(x,u.index),routesMeta:b})};return e.forEach((u,f)=>{if(u.path===""||!u.path?.includes("?"))o(u,f);else for(let m of eA(u.path))o(u,f,!0,m)}),t}function eA(e){let t=e.split("/");if(t.length===0)return[];let[r,...a]=t,l=r.endsWith("?"),o=r.replace(/\?$/,"");if(a.length===0)return l?[o,""]:[o];let u=eA(a.join("/")),f=[];return f.push(...u.map(m=>m===""?o:[o,m].join("/"))),l&&f.push(...u),f.map(m=>e.startsWith("/")&&m===""?"/":m)}function gM(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:AM(t.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}var vM=/^:[\w-]+$/,yM=3,bM=2,jM=1,wM=10,NM=-2,K2=e=>e==="*";function SM(e,t){let r=e.split("/"),a=r.length;return r.some(K2)&&(a+=NM),t&&(a+=bM),r.filter(l=>!K2(l)).reduce((l,o)=>l+(vM.test(o)?yM:o===""?jM:wM),a)}function AM(e,t){return e.length===t.length&&e.slice(0,-1).every((a,l)=>a===t[l])?e[e.length-1]-t[t.length-1]:0}function EM(e,t,r=!1){let{routesMeta:a}=e,l={},o="/",u=[];for(let f=0;f<a.length;++f){let m=a[f],h=f===a.length-1,p=o==="/"?t:t.slice(o.length)||"/",x=uf({path:m.relativePath,caseSensitive:m.caseSensitive,end:h},p),b=m.route;if(!x&&h&&r&&!a[a.length-1].route.index&&(x=uf({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},p)),!x)return null;Object.assign(l,x.params),u.push({params:l,pathname:Ba([o,x.pathname]),pathnameBase:PM(Ba([o,x.pathnameBase])),route:b}),x.pathnameBase!=="/"&&(o=Ba([o,x.pathnameBase]))}return u}function uf(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,a]=_M(e.path,e.caseSensitive,e.end),l=t.match(r);if(!l)return null;let o=l[0],u=o.replace(/(.)\/+$/,"$1"),f=l.slice(1);return{params:a.reduce((h,{paramName:p,isOptional:x},b)=>{if(p==="*"){let w=f[b]||"";u=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const j=f[b];return x&&!j?h[p]=void 0:h[p]=(j||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:u,pattern:e}}function _M(e,t=!1,r=!0){Pn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let a=[],l="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,m)=>(a.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(a.push({paramName:"*"}),l+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?l+="\\/*$":e!==""&&e!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),a]}function OM(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Pn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function qa(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,a=e.charAt(r);return a&&a!=="/"?null:e.slice(r)||"/"}var CM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,kM=e=>CM.test(e);function TM(e,t="/"){let{pathname:r,search:a="",hash:l=""}=typeof e=="string"?Wl(e):e,o;if(r)if(kM(r))o=r;else{if(r.includes("//")){let u=r;r=r.replace(/\/\/+/g,"/"),Pn(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${r}`)}r.startsWith("/")?o=G2(r.substring(1),"/"):o=G2(r,t)}else o=t;return{pathname:o,search:DM(a),hash:RM(l)}}function G2(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(l=>{l===".."?r.length>1&&r.pop():l!=="."&&r.push(l)}),r.length>1?r.join("/"):"/"}function jp(e,t,r,a){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function MM(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Nv(e){let t=MM(e);return t.map((r,a)=>a===t.length-1?r.pathname:r.pathnameBase)}function Sv(e,t,r,a=!1){let l;typeof e=="string"?l=Wl(e):(l={...e},Ct(!l.pathname||!l.pathname.includes("?"),jp("?","pathname","search",l)),Ct(!l.pathname||!l.pathname.includes("#"),jp("#","pathname","hash",l)),Ct(!l.search||!l.search.includes("#"),jp("#","search","hash",l)));let o=e===""||l.pathname==="",u=o?"/":l.pathname,f;if(u==null)f=r;else{let x=t.length-1;if(!a&&u.startsWith("..")){let b=u.split("/");for(;b[0]==="..";)b.shift(),x-=1;l.pathname=b.join("/")}f=x>=0?t[x]:"/"}let m=TM(l,f),h=u&&u!=="/"&&u.endsWith("/"),p=(o||u===".")&&r.endsWith("/");return!m.pathname.endsWith("/")&&(h||p)&&(m.pathname+="/"),m}var Ba=e=>e.join("/").replace(/\/\/+/g,"/"),PM=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),DM=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,RM=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function LM(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var tA=["POST","PUT","PATCH","DELETE"];new Set(tA);var zM=["GET",...tA];new Set(zM);var Ql=v.createContext(null);Ql.displayName="DataRouter";var im=v.createContext(null);im.displayName="DataRouterState";v.createContext(!1);var rA=v.createContext({isTransitioning:!1});rA.displayName="ViewTransition";var BM=v.createContext(new Map);BM.displayName="Fetchers";var $M=v.createContext(null);$M.displayName="Await";var Qn=v.createContext(null);Qn.displayName="Navigation";var $c=v.createContext(null);$c.displayName="Location";var fa=v.createContext({outlet:null,matches:[],isDataRoute:!1});fa.displayName="Route";var Av=v.createContext(null);Av.displayName="RouteError";function IM(e,{relative:t}={}){Ct(Xl(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:a}=v.useContext(Qn),{hash:l,pathname:o,search:u}=Ic(e,{relative:t}),f=o;return r!=="/"&&(f=o==="/"?r:Ba([r,o])),a.createHref({pathname:f,search:u,hash:l})}function Xl(){return v.useContext($c)!=null}function ma(){return Ct(Xl(),"useLocation() may be used only in the context of a <Router> component."),v.useContext($c).location}var nA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function aA(e){v.useContext(Qn).static||v.useLayoutEffect(e)}function iA(){let{isDataRoute:e}=v.useContext(fa);return e?JM():UM()}function UM(){Ct(Xl(),"useNavigate() may be used only in the context of a <Router> component.");let e=v.useContext(Ql),{basename:t,navigator:r}=v.useContext(Qn),{matches:a}=v.useContext(fa),{pathname:l}=ma(),o=JSON.stringify(Nv(a)),u=v.useRef(!1);return aA(()=>{u.current=!0}),v.useCallback((m,h={})=>{if(Pn(u.current,nA),!u.current)return;if(typeof m=="number"){r.go(m);return}let p=Sv(m,JSON.parse(o),l,h.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:Ba([t,p.pathname])),(h.replace?r.replace:r.push)(p,h.state,h)},[t,r,o,l,e])}v.createContext(null);function Ic(e,{relative:t}={}){let{matches:r}=v.useContext(fa),{pathname:a}=ma(),l=JSON.stringify(Nv(r));return v.useMemo(()=>Sv(e,JSON.parse(l),a,t==="path"),[e,l,a,t])}function qM(e,t){return sA(e,t)}function sA(e,t,r,a,l){Ct(Xl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=v.useContext(Qn),{matches:u}=v.useContext(fa),f=u[u.length-1],m=f?f.params:{},h=f?f.pathname:"/",p=f?f.pathnameBase:"/",x=f&&f.route;{let O=x&&x.path||"";lA(h,!x||O.endsWith("*")||O.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${O}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${O}"> to <Route path="${O==="/"?"*":`${O}/*`}">.`)}let b=ma(),j;if(t){let O=typeof t=="string"?Wl(t):t;Ct(p==="/"||O.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${O.pathname}" was given in the \`location\` prop.`),j=O}else j=b;let w=j.pathname||"/",N=w;if(p!=="/"){let O=p.replace(/^\//,"").split("/");N="/"+w.replace(/^\//,"").split("/").slice(O.length).join("/")}let S=Z3(e,{pathname:N});Pn(x||S!=null,`No routes matched location "${j.pathname}${j.search}${j.hash}" `),Pn(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${j.pathname}${j.search}${j.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=KM(S&&S.map(O=>Object.assign({},O,{params:Object.assign({},m,O.params),pathname:Ba([p,o.encodeLocation?o.encodeLocation(O.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?p:Ba([p,o.encodeLocation?o.encodeLocation(O.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:O.pathnameBase])})),u,r,a,l);return t&&E?v.createElement($c.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...j},navigationType:"POP"}},E):E}function FM(){let e=ZM(),t=LM(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:a},o={padding:"2px 4px",backgroundColor:a},u=null;return console.error("Error handled by React Router default ErrorBoundary:",e),u=v.createElement(v.Fragment,null,v.createElement("p",null," Hey developer "),v.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",v.createElement("code",{style:o},"ErrorBoundary")," or"," ",v.createElement("code",{style:o},"errorElement")," prop on your route.")),v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),r?v.createElement("pre",{style:l},r):null,u)}var HM=v.createElement(FM,null),VM=class extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?v.createElement(fa.Provider,{value:this.props.routeContext},v.createElement(Av.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function YM({routeContext:e,match:t,children:r}){let a=v.useContext(Ql);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),v.createElement(fa.Provider,{value:e},r)}function KM(e,t=[],r=null,a=null,l=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,u=r?.errors;if(u!=null){let p=o.findIndex(x=>x.route.id&&u?.[x.route.id]!==void 0);Ct(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,m=-1;if(r)for(let p=0;p<o.length;p++){let x=o[p];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(m=p),x.route.id){let{loaderData:b,errors:j}=r,w=x.route.loader&&!b.hasOwnProperty(x.route.id)&&(!j||j[x.route.id]===void 0);if(x.route.lazy||w){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}let h=r&&a?(p,x)=>{a(p,{location:r.location,params:r.matches?.[0]?.params??{},errorInfo:x})}:void 0;return o.reduceRight((p,x,b)=>{let j,w=!1,N=null,S=null;r&&(j=u&&x.route.id?u[x.route.id]:void 0,N=x.route.errorElement||HM,f&&(m<0&&b===0?(lA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,S=null):m===b&&(w=!0,S=x.route.hydrateFallbackElement||null)));let E=t.concat(o.slice(0,b+1)),O=()=>{let _;return j?_=N:w?_=S:x.route.Component?_=v.createElement(x.route.Component,null):x.route.element?_=x.route.element:_=p,v.createElement(YM,{match:x,routeContext:{outlet:p,matches:E,isDataRoute:r!=null},children:_})};return r&&(x.route.ErrorBoundary||x.route.errorElement||b===0)?v.createElement(VM,{location:r.location,revalidation:r.revalidation,component:N,error:j,children:O(),routeContext:{outlet:null,matches:E,isDataRoute:!0},onError:h}):O()},null)}function Ev(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function GM(e){let t=v.useContext(Ql);return Ct(t,Ev(e)),t}function WM(e){let t=v.useContext(im);return Ct(t,Ev(e)),t}function QM(e){let t=v.useContext(fa);return Ct(t,Ev(e)),t}function _v(e){let t=QM(e),r=t.matches[t.matches.length-1];return Ct(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function XM(){return _v("useRouteId")}function ZM(){let e=v.useContext(Av),t=WM("useRouteError"),r=_v("useRouteError");return e!==void 0?e:t.errors?.[r]}function JM(){let{router:e}=GM("useNavigate"),t=_v("useNavigate"),r=v.useRef(!1);return aA(()=>{r.current=!0}),v.useCallback(async(l,o={})=>{Pn(r.current,nA),r.current&&(typeof l=="number"?e.navigate(l):await e.navigate(l,{fromRouteId:t,...o}))},[e,t])}var W2={};function lA(e,t,r){!t&&!W2[e]&&(W2[e]=!0,Pn(!1,r))}v.memo(eP);function eP({routes:e,future:t,state:r,unstable_onError:a}){return sA(e,void 0,r,a,t)}function Br({to:e,replace:t,state:r,relative:a}){Ct(Xl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=v.useContext(Qn);Pn(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=v.useContext(fa),{pathname:u}=ma(),f=iA(),m=Sv(e,Nv(o),u,a==="path"),h=JSON.stringify(m);return v.useEffect(()=>{f(JSON.parse(h),{replace:t,state:r,relative:a})},[f,h,a,t,r]),null}function Mt(e){Ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function tP({basename:e="/",children:t=null,location:r,navigationType:a="POP",navigator:l,static:o=!1}){Ct(!Xl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=e.replace(/^\/*/,"/"),f=v.useMemo(()=>({basename:u,navigator:l,static:o,future:{}}),[u,l,o]);typeof r=="string"&&(r=Wl(r));let{pathname:m="/",search:h="",hash:p="",state:x=null,key:b="default"}=r,j=v.useMemo(()=>{let w=qa(m,u);return w==null?null:{location:{pathname:w,search:h,hash:p,state:x,key:b},navigationType:a}},[u,m,h,p,x,b,a]);return Pn(j!=null,`<Router basename="${u}"> is not able to match the URL "${m}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:v.createElement(Qn.Provider,{value:f},v.createElement($c.Provider,{children:t,value:j}))}function rP({children:e,location:t}){return qM(fg(e),t)}function fg(e,t=[]){let r=[];return v.Children.forEach(e,(a,l)=>{if(!v.isValidElement(a))return;let o=[...t,l];if(a.type===v.Fragment){r.push.apply(r,fg(a.props.children,o));return}Ct(a.type===Mt,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ct(!a.props.index||!a.props.children,"An index route cannot have child routes.");let u={id:a.props.id||o.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(u.children=fg(a.props.children,o)),r.push(u)}),r}var Jd="get",ef="application/x-www-form-urlencoded";function sm(e){return e!=null&&typeof e.tagName=="string"}function nP(e){return sm(e)&&e.tagName.toLowerCase()==="button"}function aP(e){return sm(e)&&e.tagName.toLowerCase()==="form"}function iP(e){return sm(e)&&e.tagName.toLowerCase()==="input"}function sP(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function lP(e,t){return e.button===0&&(!t||t==="_self")&&!sP(e)}var Dd=null;function oP(){if(Dd===null)try{new FormData(document.createElement("form"),0),Dd=!1}catch{Dd=!0}return Dd}var cP=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function wp(e){return e!=null&&!cP.has(e)?(Pn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ef}"`),null):e}function uP(e,t){let r,a,l,o,u;if(aP(e)){let f=e.getAttribute("action");a=f?qa(f,t):null,r=e.getAttribute("method")||Jd,l=wp(e.getAttribute("enctype"))||ef,o=new FormData(e)}else if(nP(e)||iP(e)&&(e.type==="submit"||e.type==="image")){let f=e.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=e.getAttribute("formaction")||f.getAttribute("action");if(a=m?qa(m,t):null,r=e.getAttribute("formmethod")||f.getAttribute("method")||Jd,l=wp(e.getAttribute("formenctype"))||wp(f.getAttribute("enctype"))||ef,o=new FormData(f,e),!oP()){let{name:h,type:p,value:x}=e;if(p==="image"){let b=h?`${h}.`:"";o.append(`${b}x`,"0"),o.append(`${b}y`,"0")}else h&&o.append(h,x)}}else{if(sm(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Jd,a=null,l=ef,u=e}return o&&l==="text/plain"&&(u=o,o=void 0),{action:a,method:r.toLowerCase(),encType:l,formData:o,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ov(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function dP(e,t,r){let a=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return a.pathname==="/"?a.pathname=`_root.${r}`:t&&qa(a.pathname,t)==="/"?a.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${r}`,a}async function fP(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function mP(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function hP(e,t,r){let a=await Promise.all(e.map(async l=>{let o=t.routes[l.route.id];if(o){let u=await fP(o,r);return u.links?u.links():[]}return[]}));return vP(a.flat(1).filter(mP).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function Q2(e,t,r,a,l,o){let u=(m,h)=>r[h]?m.route.id!==r[h].route.id:!0,f=(m,h)=>r[h].pathname!==m.pathname||r[h].route.path?.endsWith("*")&&r[h].params["*"]!==m.params["*"];return o==="assets"?t.filter((m,h)=>u(m,h)||f(m,h)):o==="data"?t.filter((m,h)=>{let p=a.routes[m.route.id];if(!p||!p.hasLoader)return!1;if(u(m,h)||f(m,h))return!0;if(m.route.shouldRevalidate){let x=m.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function pP(e,t,{includeHydrateFallback:r}={}){return xP(e.map(a=>{let l=t.routes[a.route.id];if(!l)return[];let o=[l.module];return l.clientActionModule&&(o=o.concat(l.clientActionModule)),l.clientLoaderModule&&(o=o.concat(l.clientLoaderModule)),r&&l.hydrateFallbackModule&&(o=o.concat(l.hydrateFallbackModule)),l.imports&&(o=o.concat(l.imports)),o}).flat(1))}function xP(e){return[...new Set(e)]}function gP(e){let t={},r=Object.keys(e).sort();for(let a of r)t[a]=e[a];return t}function vP(e,t){let r=new Set;return new Set(t),e.reduce((a,l)=>{let o=JSON.stringify(gP(l));return r.has(o)||(r.add(o),a.push({key:o,link:l})),a},[])}function oA(){let e=v.useContext(Ql);return Ov(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function yP(){let e=v.useContext(im);return Ov(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Cv=v.createContext(void 0);Cv.displayName="FrameworkContext";function cA(){let e=v.useContext(Cv);return Ov(e,"You must render this element inside a <HydratedRouter> element"),e}function bP(e,t){let r=v.useContext(Cv),[a,l]=v.useState(!1),[o,u]=v.useState(!1),{onFocus:f,onBlur:m,onMouseEnter:h,onMouseLeave:p,onTouchStart:x}=t,b=v.useRef(null);v.useEffect(()=>{if(e==="render"&&u(!0),e==="viewport"){let N=E=>{E.forEach(O=>{u(O.isIntersecting)})},S=new IntersectionObserver(N,{threshold:.5});return b.current&&S.observe(b.current),()=>{S.disconnect()}}},[e]),v.useEffect(()=>{if(a){let N=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(N)}}},[a]);let j=()=>{l(!0)},w=()=>{l(!1),u(!1)};return r?e!=="intent"?[o,b,{}]:[o,b,{onFocus:ac(f,j),onBlur:ac(m,w),onMouseEnter:ac(h,j),onMouseLeave:ac(p,w),onTouchStart:ac(x,j)}]:[!1,b,{}]}function ac(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function jP({page:e,...t}){let{router:r}=oA(),a=v.useMemo(()=>Z3(r.routes,e,r.basename),[r.routes,e,r.basename]);return a?v.createElement(NP,{page:e,matches:a,...t}):null}function wP(e){let{manifest:t,routeModules:r}=cA(),[a,l]=v.useState([]);return v.useEffect(()=>{let o=!1;return hP(e,t,r).then(u=>{o||l(u)}),()=>{o=!0}},[e,t,r]),a}function NP({page:e,matches:t,...r}){let a=ma(),{manifest:l,routeModules:o}=cA(),{basename:u}=oA(),{loaderData:f,matches:m}=yP(),h=v.useMemo(()=>Q2(e,t,m,l,a,"data"),[e,t,m,l,a]),p=v.useMemo(()=>Q2(e,t,m,l,a,"assets"),[e,t,m,l,a]),x=v.useMemo(()=>{if(e===a.pathname+a.search+a.hash)return[];let w=new Set,N=!1;if(t.forEach(E=>{let O=l.routes[E.route.id];!O||!O.hasLoader||(!h.some(_=>_.route.id===E.route.id)&&E.route.id in f&&o[E.route.id]?.shouldRevalidate||O.hasClientLoader?N=!0:w.add(E.route.id))}),w.size===0)return[];let S=dP(e,u,"data");return N&&w.size>0&&S.searchParams.set("_routes",t.filter(E=>w.has(E.route.id)).map(E=>E.route.id).join(",")),[S.pathname+S.search]},[u,f,a,l,h,t,e,o]),b=v.useMemo(()=>pP(p,l),[p,l]),j=wP(p);return v.createElement(v.Fragment,null,x.map(w=>v.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...r})),b.map(w=>v.createElement("link",{key:w,rel:"modulepreload",href:w,...r})),j.map(({key:w,link:N})=>v.createElement("link",{key:w,nonce:r.nonce,...N})))}function SP(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var uA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{uA&&(window.__reactRouterVersion="7.9.6")}catch{}function AP({basename:e,children:t,window:r}){let a=v.useRef();a.current==null&&(a.current=fM({window:r,v5Compat:!0}));let l=a.current,[o,u]=v.useState({action:l.action,location:l.location}),f=v.useCallback(m=>{v.startTransition(()=>u(m))},[u]);return v.useLayoutEffect(()=>l.listen(f),[l,f]),v.createElement(tP,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:l})}var dA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lm=v.forwardRef(function({onClick:t,discover:r="render",prefetch:a="none",relative:l,reloadDocument:o,replace:u,state:f,target:m,to:h,preventScrollReset:p,viewTransition:x,...b},j){let{basename:w}=v.useContext(Qn),N=typeof h=="string"&&dA.test(h),S,E=!1;if(typeof h=="string"&&N&&(S=h,uA))try{let J=new URL(window.location.href),ue=h.startsWith("//")?new URL(J.protocol+h):new URL(h),F=qa(ue.pathname,w);ue.origin===J.origin&&F!=null?h=F+ue.search+ue.hash:E=!0}catch{Pn(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let O=IM(h,{relative:l}),[_,T,k]=bP(a,b),L=CP(h,{replace:u,state:f,target:m,preventScrollReset:p,relative:l,viewTransition:x});function $(J){t&&t(J),J.defaultPrevented||L(J)}let G=v.createElement("a",{...b,...k,href:S||O,onClick:E||o?t:$,ref:SP(j,T),target:m,"data-discover":!N&&r==="render"?"true":void 0});return _&&!N?v.createElement(v.Fragment,null,G,v.createElement(jP,{page:O})):G});lm.displayName="Link";var EP=v.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:a="",end:l=!1,style:o,to:u,viewTransition:f,children:m,...h},p){let x=Ic(u,{relative:h.relative}),b=ma(),j=v.useContext(im),{navigator:w,basename:N}=v.useContext(Qn),S=j!=null&&DP(x)&&f===!0,E=w.encodeLocation?w.encodeLocation(x).pathname:x.pathname,O=b.pathname,_=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;r||(O=O.toLowerCase(),_=_?_.toLowerCase():null,E=E.toLowerCase()),_&&N&&(_=qa(_,N)||_);const T=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let k=O===E||!l&&O.startsWith(E)&&O.charAt(T)==="/",L=_!=null&&(_===E||!l&&_.startsWith(E)&&_.charAt(E.length)==="/"),$={isActive:k,isPending:L,isTransitioning:S},G=k?t:void 0,J;typeof a=="function"?J=a($):J=[a,k?"active":null,L?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let ue=typeof o=="function"?o($):o;return v.createElement(lm,{...h,"aria-current":G,className:J,ref:p,style:ue,to:u,viewTransition:f},typeof m=="function"?m($):m)});EP.displayName="NavLink";var _P=v.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:a,replace:l,state:o,method:u=Jd,action:f,onSubmit:m,relative:h,preventScrollReset:p,viewTransition:x,...b},j)=>{let w=MP(),N=PP(f,{relative:h}),S=u.toLowerCase()==="get"?"get":"post",E=typeof f=="string"&&dA.test(f),O=_=>{if(m&&m(_),_.defaultPrevented)return;_.preventDefault();let T=_.nativeEvent.submitter,k=T?.getAttribute("formmethod")||u;w(T||_.currentTarget,{fetcherKey:t,method:k,navigate:r,replace:l,state:o,relative:h,preventScrollReset:p,viewTransition:x})};return v.createElement("form",{ref:j,method:S,action:N,onSubmit:a?m:O,...b,"data-discover":!E&&e==="render"?"true":void 0})});_P.displayName="Form";function OP(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fA(e){let t=v.useContext(Ql);return Ct(t,OP(e)),t}function CP(e,{target:t,replace:r,state:a,preventScrollReset:l,relative:o,viewTransition:u}={}){let f=iA(),m=ma(),h=Ic(e,{relative:o});return v.useCallback(p=>{if(lP(p,t)){p.preventDefault();let x=r!==void 0?r:wc(m)===wc(h);f(e,{replace:x,state:a,preventScrollReset:l,relative:o,viewTransition:u})}},[m,f,h,r,a,t,e,l,o,u])}var kP=0,TP=()=>`__${String(++kP)}__`;function MP(){let{router:e}=fA("useSubmit"),{basename:t}=v.useContext(Qn),r=XM();return v.useCallback(async(a,l={})=>{let{action:o,method:u,encType:f,formData:m,body:h}=uP(a,t);if(l.navigate===!1){let p=l.fetcherKey||TP();await e.fetch(p,r,l.action||o,{preventScrollReset:l.preventScrollReset,formData:m,body:h,formMethod:l.method||u,formEncType:l.encType||f,flushSync:l.flushSync})}else await e.navigate(l.action||o,{preventScrollReset:l.preventScrollReset,formData:m,body:h,formMethod:l.method||u,formEncType:l.encType||f,replace:l.replace,state:l.state,fromRouteId:r,flushSync:l.flushSync,viewTransition:l.viewTransition})},[e,t,r])}function PP(e,{relative:t}={}){let{basename:r}=v.useContext(Qn),a=v.useContext(fa);Ct(a,"useFormAction must be used inside a RouteContext");let[l]=a.matches.slice(-1),o={...Ic(e||".",{relative:t})},u=ma();if(e==null){o.search=u.search;let f=new URLSearchParams(o.search),m=f.getAll("index");if(m.some(p=>p==="")){f.delete("index"),m.filter(x=>x).forEach(x=>f.append("index",x));let p=f.toString();o.search=p?`?${p}`:""}}return(!e||e===".")&&l.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(o.pathname=o.pathname==="/"?r:Ba([r,o.pathname])),wc(o)}function DP(e,{relative:t}={}){let r=v.useContext(rA);Ct(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=fA("useViewTransitionState"),l=Ic(e,{relative:t});if(!r.isTransitioning)return!1;let o=qa(r.currentLocation.pathname,a)||r.currentLocation.pathname,u=qa(r.nextLocation.pathname,a)||r.nextLocation.pathname;return uf(l.pathname,u)!=null||uf(l.pathname,o)!=null}var kv=X3();function mA(e,t){return function(){return e.apply(t,arguments)}}const{toString:RP}=Object.prototype,{getPrototypeOf:Tv}=Object,{iterator:om,toStringTag:hA}=Symbol,cm=(e=>t=>{const r=RP.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Xn=e=>(e=e.toLowerCase(),t=>cm(t)===e),um=e=>t=>typeof t===e,{isArray:Zl}=Array,zl=um("undefined");function Uc(e){return e!==null&&!zl(e)&&e.constructor!==null&&!zl(e.constructor)&&Xr(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const pA=Xn("ArrayBuffer");function LP(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&pA(e.buffer),t}const zP=um("string"),Xr=um("function"),xA=um("number"),qc=e=>e!==null&&typeof e=="object",BP=e=>e===!0||e===!1,tf=e=>{if(cm(e)!=="object")return!1;const t=Tv(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(hA in e)&&!(om in e)},$P=e=>{if(!qc(e)||Uc(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},IP=Xn("Date"),UP=Xn("File"),qP=Xn("Blob"),FP=Xn("FileList"),HP=e=>qc(e)&&Xr(e.pipe),VP=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Xr(e.append)&&((t=cm(e))==="formdata"||t==="object"&&Xr(e.toString)&&e.toString()==="[object FormData]"))},YP=Xn("URLSearchParams"),[KP,GP,WP,QP]=["ReadableStream","Request","Response","Headers"].map(Xn),XP=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Fc(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let a,l;if(typeof e!="object"&&(e=[e]),Zl(e))for(a=0,l=e.length;a<l;a++)t.call(null,e[a],a,e);else{if(Uc(e))return;const o=r?Object.getOwnPropertyNames(e):Object.keys(e),u=o.length;let f;for(a=0;a<u;a++)f=o[a],t.call(null,e[f],f,e)}}function gA(e,t){if(Uc(e))return null;t=t.toLowerCase();const r=Object.keys(e);let a=r.length,l;for(;a-- >0;)if(l=r[a],t===l.toLowerCase())return l;return null}const bs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,vA=e=>!zl(e)&&e!==bs;function mg(){const{caseless:e,skipUndefined:t}=vA(this)&&this||{},r={},a=(l,o)=>{const u=e&&gA(r,o)||o;tf(r[u])&&tf(l)?r[u]=mg(r[u],l):tf(l)?r[u]=mg({},l):Zl(l)?r[u]=l.slice():(!t||!zl(l))&&(r[u]=l)};for(let l=0,o=arguments.length;l<o;l++)arguments[l]&&Fc(arguments[l],a);return r}const ZP=(e,t,r,{allOwnKeys:a}={})=>(Fc(t,(l,o)=>{r&&Xr(l)?e[o]=mA(l,r):e[o]=l},{allOwnKeys:a}),e),JP=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),eD=(e,t,r,a)=>{e.prototype=Object.create(t.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},tD=(e,t,r,a)=>{let l,o,u;const f={};if(t=t||{},e==null)return t;do{for(l=Object.getOwnPropertyNames(e),o=l.length;o-- >0;)u=l[o],(!a||a(u,e,t))&&!f[u]&&(t[u]=e[u],f[u]=!0);e=r!==!1&&Tv(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},rD=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const a=e.indexOf(t,r);return a!==-1&&a===r},nD=e=>{if(!e)return null;if(Zl(e))return e;let t=e.length;if(!xA(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},aD=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Tv(Uint8Array)),iD=(e,t)=>{const a=(e&&e[om]).call(e);let l;for(;(l=a.next())&&!l.done;){const o=l.value;t.call(e,o[0],o[1])}},sD=(e,t)=>{let r;const a=[];for(;(r=e.exec(t))!==null;)a.push(r);return a},lD=Xn("HTMLFormElement"),oD=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,a,l){return a.toUpperCase()+l}),X2=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),cD=Xn("RegExp"),yA=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),a={};Fc(r,(l,o)=>{let u;(u=t(l,o,e))!==!1&&(a[o]=u||l)}),Object.defineProperties(e,a)},uD=e=>{yA(e,(t,r)=>{if(Xr(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const a=e[r];if(Xr(a)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},dD=(e,t)=>{const r={},a=l=>{l.forEach(o=>{r[o]=!0})};return Zl(e)?a(e):a(String(e).split(t)),r},fD=()=>{},mD=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function hD(e){return!!(e&&Xr(e.append)&&e[hA]==="FormData"&&e[om])}const pD=e=>{const t=new Array(10),r=(a,l)=>{if(qc(a)){if(t.indexOf(a)>=0)return;if(Uc(a))return a;if(!("toJSON"in a)){t[l]=a;const o=Zl(a)?[]:{};return Fc(a,(u,f)=>{const m=r(u,l+1);!zl(m)&&(o[f]=m)}),t[l]=void 0,o}}return a};return r(e,0)},xD=Xn("AsyncFunction"),gD=e=>e&&(qc(e)||Xr(e))&&Xr(e.then)&&Xr(e.catch),bA=((e,t)=>e?setImmediate:t?((r,a)=>(bs.addEventListener("message",({source:l,data:o})=>{l===bs&&o===r&&a.length&&a.shift()()},!1),l=>{a.push(l),bs.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Xr(bs.postMessage)),vD=typeof queueMicrotask<"u"?queueMicrotask.bind(bs):typeof process<"u"&&process.nextTick||bA,yD=e=>e!=null&&Xr(e[om]),pe={isArray:Zl,isArrayBuffer:pA,isBuffer:Uc,isFormData:VP,isArrayBufferView:LP,isString:zP,isNumber:xA,isBoolean:BP,isObject:qc,isPlainObject:tf,isEmptyObject:$P,isReadableStream:KP,isRequest:GP,isResponse:WP,isHeaders:QP,isUndefined:zl,isDate:IP,isFile:UP,isBlob:qP,isRegExp:cD,isFunction:Xr,isStream:HP,isURLSearchParams:YP,isTypedArray:aD,isFileList:FP,forEach:Fc,merge:mg,extend:ZP,trim:XP,stripBOM:JP,inherits:eD,toFlatObject:tD,kindOf:cm,kindOfTest:Xn,endsWith:rD,toArray:nD,forEachEntry:iD,matchAll:sD,isHTMLForm:lD,hasOwnProperty:X2,hasOwnProp:X2,reduceDescriptors:yA,freezeMethods:uD,toObjectSet:dD,toCamelCase:oD,noop:fD,toFiniteNumber:mD,findKey:gA,global:bs,isContextDefined:vA,isSpecCompliantForm:hD,toJSONObject:pD,isAsyncFn:xD,isThenable:gD,setImmediate:bA,asap:vD,isIterable:yD};function qe(e,t,r,a,l){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),a&&(this.request=a),l&&(this.response=l,this.status=l.status?l.status:null)}pe.inherits(qe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:pe.toJSONObject(this.config),code:this.code,status:this.status}}});const jA=qe.prototype,wA={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{wA[e]={value:e}});Object.defineProperties(qe,wA);Object.defineProperty(jA,"isAxiosError",{value:!0});qe.from=(e,t,r,a,l,o)=>{const u=Object.create(jA);pe.toFlatObject(e,u,function(p){return p!==Error.prototype},h=>h!=="isAxiosError");const f=e&&e.message?e.message:"Error",m=t==null&&e?e.code:t;return qe.call(u,f,m,r,a,l),e&&u.cause==null&&Object.defineProperty(u,"cause",{value:e,configurable:!0}),u.name=e&&e.name||"Error",o&&Object.assign(u,o),u};const bD=null;function hg(e){return pe.isPlainObject(e)||pe.isArray(e)}function NA(e){return pe.endsWith(e,"[]")?e.slice(0,-2):e}function Z2(e,t,r){return e?e.concat(t).map(function(l,o){return l=NA(l),!r&&o?"["+l+"]":l}).join(r?".":""):t}function jD(e){return pe.isArray(e)&&!e.some(hg)}const wD=pe.toFlatObject(pe,{},null,function(t){return/^is[A-Z]/.test(t)});function dm(e,t,r){if(!pe.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=pe.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(N,S){return!pe.isUndefined(S[N])});const a=r.metaTokens,l=r.visitor||p,o=r.dots,u=r.indexes,m=(r.Blob||typeof Blob<"u"&&Blob)&&pe.isSpecCompliantForm(t);if(!pe.isFunction(l))throw new TypeError("visitor must be a function");function h(w){if(w===null)return"";if(pe.isDate(w))return w.toISOString();if(pe.isBoolean(w))return w.toString();if(!m&&pe.isBlob(w))throw new qe("Blob is not supported. Use a Buffer instead.");return pe.isArrayBuffer(w)||pe.isTypedArray(w)?m&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function p(w,N,S){let E=w;if(w&&!S&&typeof w=="object"){if(pe.endsWith(N,"{}"))N=a?N:N.slice(0,-2),w=JSON.stringify(w);else if(pe.isArray(w)&&jD(w)||(pe.isFileList(w)||pe.endsWith(N,"[]"))&&(E=pe.toArray(w)))return N=NA(N),E.forEach(function(_,T){!(pe.isUndefined(_)||_===null)&&t.append(u===!0?Z2([N],T,o):u===null?N:N+"[]",h(_))}),!1}return hg(w)?!0:(t.append(Z2(S,N,o),h(w)),!1)}const x=[],b=Object.assign(wD,{defaultVisitor:p,convertValue:h,isVisitable:hg});function j(w,N){if(!pe.isUndefined(w)){if(x.indexOf(w)!==-1)throw Error("Circular reference detected in "+N.join("."));x.push(w),pe.forEach(w,function(E,O){(!(pe.isUndefined(E)||E===null)&&l.call(t,E,pe.isString(O)?O.trim():O,N,b))===!0&&j(E,N?N.concat(O):[O])}),x.pop()}}if(!pe.isObject(e))throw new TypeError("data must be an object");return j(e),t}function J2(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(a){return t[a]})}function Mv(e,t){this._pairs=[],e&&dm(e,this,t)}const SA=Mv.prototype;SA.append=function(t,r){this._pairs.push([t,r])};SA.toString=function(t){const r=t?function(a){return t.call(this,a,J2)}:J2;return this._pairs.map(function(l){return r(l[0])+"="+r(l[1])},"").join("&")};function ND(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function AA(e,t,r){if(!t)return e;const a=r&&r.encode||ND;pe.isFunction(r)&&(r={serialize:r});const l=r&&r.serialize;let o;if(l?o=l(t,r):o=pe.isURLSearchParams(t)?t.toString():new Mv(t,r).toString(a),o){const u=e.indexOf("#");u!==-1&&(e=e.slice(0,u)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class eN{constructor(){this.handlers=[]}use(t,r,a){return this.handlers.push({fulfilled:t,rejected:r,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){pe.forEach(this.handlers,function(a){a!==null&&t(a)})}}const EA={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},SD=typeof URLSearchParams<"u"?URLSearchParams:Mv,AD=typeof FormData<"u"?FormData:null,ED=typeof Blob<"u"?Blob:null,_D={isBrowser:!0,classes:{URLSearchParams:SD,FormData:AD,Blob:ED},protocols:["http","https","file","blob","url","data"]},Pv=typeof window<"u"&&typeof document<"u",pg=typeof navigator=="object"&&navigator||void 0,OD=Pv&&(!pg||["ReactNative","NativeScript","NS"].indexOf(pg.product)<0),CD=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",kD=Pv&&window.location.href||"http://localhost",TD=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Pv,hasStandardBrowserEnv:OD,hasStandardBrowserWebWorkerEnv:CD,navigator:pg,origin:kD},Symbol.toStringTag,{value:"Module"})),Cr={...TD,..._D};function MD(e,t){return dm(e,new Cr.classes.URLSearchParams,{visitor:function(r,a,l,o){return Cr.isNode&&pe.isBuffer(r)?(this.append(a,r.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...t})}function PD(e){return pe.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function DD(e){const t={},r=Object.keys(e);let a;const l=r.length;let o;for(a=0;a<l;a++)o=r[a],t[o]=e[o];return t}function _A(e){function t(r,a,l,o){let u=r[o++];if(u==="__proto__")return!0;const f=Number.isFinite(+u),m=o>=r.length;return u=!u&&pe.isArray(l)?l.length:u,m?(pe.hasOwnProp(l,u)?l[u]=[l[u],a]:l[u]=a,!f):((!l[u]||!pe.isObject(l[u]))&&(l[u]=[]),t(r,a,l[u],o)&&pe.isArray(l[u])&&(l[u]=DD(l[u])),!f)}if(pe.isFormData(e)&&pe.isFunction(e.entries)){const r={};return pe.forEachEntry(e,(a,l)=>{t(PD(a),l,r,0)}),r}return null}function RD(e,t,r){if(pe.isString(e))try{return(t||JSON.parse)(e),pe.trim(e)}catch(a){if(a.name!=="SyntaxError")throw a}return(r||JSON.stringify)(e)}const Hc={transitional:EA,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const a=r.getContentType()||"",l=a.indexOf("application/json")>-1,o=pe.isObject(t);if(o&&pe.isHTMLForm(t)&&(t=new FormData(t)),pe.isFormData(t))return l?JSON.stringify(_A(t)):t;if(pe.isArrayBuffer(t)||pe.isBuffer(t)||pe.isStream(t)||pe.isFile(t)||pe.isBlob(t)||pe.isReadableStream(t))return t;if(pe.isArrayBufferView(t))return t.buffer;if(pe.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let f;if(o){if(a.indexOf("application/x-www-form-urlencoded")>-1)return MD(t,this.formSerializer).toString();if((f=pe.isFileList(t))||a.indexOf("multipart/form-data")>-1){const m=this.env&&this.env.FormData;return dm(f?{"files[]":t}:t,m&&new m,this.formSerializer)}}return o||l?(r.setContentType("application/json",!1),RD(t)):t}],transformResponse:[function(t){const r=this.transitional||Hc.transitional,a=r&&r.forcedJSONParsing,l=this.responseType==="json";if(pe.isResponse(t)||pe.isReadableStream(t))return t;if(t&&pe.isString(t)&&(a&&!this.responseType||l)){const u=!(r&&r.silentJSONParsing)&&l;try{return JSON.parse(t,this.parseReviver)}catch(f){if(u)throw f.name==="SyntaxError"?qe.from(f,qe.ERR_BAD_RESPONSE,this,null,this.response):f}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Cr.classes.FormData,Blob:Cr.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};pe.forEach(["delete","get","head","post","put","patch"],e=>{Hc.headers[e]={}});const LD=pe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),zD=e=>{const t={};let r,a,l;return e&&e.split(`
`).forEach(function(u){l=u.indexOf(":"),r=u.substring(0,l).trim().toLowerCase(),a=u.substring(l+1).trim(),!(!r||t[r]&&LD[r])&&(r==="set-cookie"?t[r]?t[r].push(a):t[r]=[a]:t[r]=t[r]?t[r]+", "+a:a)}),t},tN=Symbol("internals");function ic(e){return e&&String(e).trim().toLowerCase()}function rf(e){return e===!1||e==null?e:pe.isArray(e)?e.map(rf):String(e)}function BD(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=r.exec(e);)t[a[1]]=a[2];return t}const $D=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Np(e,t,r,a,l){if(pe.isFunction(a))return a.call(this,t,r);if(l&&(t=r),!!pe.isString(t)){if(pe.isString(a))return t.indexOf(a)!==-1;if(pe.isRegExp(a))return a.test(t)}}function ID(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,a)=>r.toUpperCase()+a)}function UD(e,t){const r=pe.toCamelCase(" "+t);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+r,{value:function(l,o,u){return this[a].call(this,t,l,o,u)},configurable:!0})})}let Zr=class{constructor(t){t&&this.set(t)}set(t,r,a){const l=this;function o(f,m,h){const p=ic(m);if(!p)throw new Error("header name must be a non-empty string");const x=pe.findKey(l,p);(!x||l[x]===void 0||h===!0||h===void 0&&l[x]!==!1)&&(l[x||m]=rf(f))}const u=(f,m)=>pe.forEach(f,(h,p)=>o(h,p,m));if(pe.isPlainObject(t)||t instanceof this.constructor)u(t,r);else if(pe.isString(t)&&(t=t.trim())&&!$D(t))u(zD(t),r);else if(pe.isObject(t)&&pe.isIterable(t)){let f={},m,h;for(const p of t){if(!pe.isArray(p))throw TypeError("Object iterator must return a key-value pair");f[h=p[0]]=(m=f[h])?pe.isArray(m)?[...m,p[1]]:[m,p[1]]:p[1]}u(f,r)}else t!=null&&o(r,t,a);return this}get(t,r){if(t=ic(t),t){const a=pe.findKey(this,t);if(a){const l=this[a];if(!r)return l;if(r===!0)return BD(l);if(pe.isFunction(r))return r.call(this,l,a);if(pe.isRegExp(r))return r.exec(l);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=ic(t),t){const a=pe.findKey(this,t);return!!(a&&this[a]!==void 0&&(!r||Np(this,this[a],a,r)))}return!1}delete(t,r){const a=this;let l=!1;function o(u){if(u=ic(u),u){const f=pe.findKey(a,u);f&&(!r||Np(a,a[f],f,r))&&(delete a[f],l=!0)}}return pe.isArray(t)?t.forEach(o):o(t),l}clear(t){const r=Object.keys(this);let a=r.length,l=!1;for(;a--;){const o=r[a];(!t||Np(this,this[o],o,t,!0))&&(delete this[o],l=!0)}return l}normalize(t){const r=this,a={};return pe.forEach(this,(l,o)=>{const u=pe.findKey(a,o);if(u){r[u]=rf(l),delete r[o];return}const f=t?ID(o):String(o).trim();f!==o&&delete r[o],r[f]=rf(l),a[f]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return pe.forEach(this,(a,l)=>{a!=null&&a!==!1&&(r[l]=t&&pe.isArray(a)?a.join(", "):a)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const a=new this(t);return r.forEach(l=>a.set(l)),a}static accessor(t){const a=(this[tN]=this[tN]={accessors:{}}).accessors,l=this.prototype;function o(u){const f=ic(u);a[f]||(UD(l,u),a[f]=!0)}return pe.isArray(t)?t.forEach(o):o(t),this}};Zr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);pe.reduceDescriptors(Zr.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(a){this[r]=a}}});pe.freezeMethods(Zr);function Sp(e,t){const r=this||Hc,a=t||r,l=Zr.from(a.headers);let o=a.data;return pe.forEach(e,function(f){o=f.call(r,o,l.normalize(),t?t.status:void 0)}),l.normalize(),o}function OA(e){return!!(e&&e.__CANCEL__)}function Jl(e,t,r){qe.call(this,e??"canceled",qe.ERR_CANCELED,t,r),this.name="CanceledError"}pe.inherits(Jl,qe,{__CANCEL__:!0});function CA(e,t,r){const a=r.config.validateStatus;!r.status||!a||a(r.status)?e(r):t(new qe("Request failed with status code "+r.status,[qe.ERR_BAD_REQUEST,qe.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function qD(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function FD(e,t){e=e||10;const r=new Array(e),a=new Array(e);let l=0,o=0,u;return t=t!==void 0?t:1e3,function(m){const h=Date.now(),p=a[o];u||(u=h),r[l]=m,a[l]=h;let x=o,b=0;for(;x!==l;)b+=r[x++],x=x%e;if(l=(l+1)%e,l===o&&(o=(o+1)%e),h-u<t)return;const j=p&&h-p;return j?Math.round(b*1e3/j):void 0}}function HD(e,t){let r=0,a=1e3/t,l,o;const u=(h,p=Date.now())=>{r=p,l=null,o&&(clearTimeout(o),o=null),e(...h)};return[(...h)=>{const p=Date.now(),x=p-r;x>=a?u(h,p):(l=h,o||(o=setTimeout(()=>{o=null,u(l)},a-x)))},()=>l&&u(l)]}const df=(e,t,r=3)=>{let a=0;const l=FD(50,250);return HD(o=>{const u=o.loaded,f=o.lengthComputable?o.total:void 0,m=u-a,h=l(m),p=u<=f;a=u;const x={loaded:u,total:f,progress:f?u/f:void 0,bytes:m,rate:h||void 0,estimated:h&&f&&p?(f-u)/h:void 0,event:o,lengthComputable:f!=null,[t?"download":"upload"]:!0};e(x)},r)},rN=(e,t)=>{const r=e!=null;return[a=>t[0]({lengthComputable:r,total:e,loaded:a}),t[1]]},nN=e=>(...t)=>pe.asap(()=>e(...t)),VD=Cr.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Cr.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Cr.origin),Cr.navigator&&/(msie|trident)/i.test(Cr.navigator.userAgent)):()=>!0,YD=Cr.hasStandardBrowserEnv?{write(e,t,r,a,l,o,u){if(typeof document>"u")return;const f=[`${e}=${encodeURIComponent(t)}`];pe.isNumber(r)&&f.push(`expires=${new Date(r).toUTCString()}`),pe.isString(a)&&f.push(`path=${a}`),pe.isString(l)&&f.push(`domain=${l}`),o===!0&&f.push("secure"),pe.isString(u)&&f.push(`SameSite=${u}`),document.cookie=f.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function KD(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function GD(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function kA(e,t,r){let a=!KD(t);return e&&(a||r==!1)?GD(e,t):t}const aN=e=>e instanceof Zr?{...e}:e;function Cs(e,t){t=t||{};const r={};function a(h,p,x,b){return pe.isPlainObject(h)&&pe.isPlainObject(p)?pe.merge.call({caseless:b},h,p):pe.isPlainObject(p)?pe.merge({},p):pe.isArray(p)?p.slice():p}function l(h,p,x,b){if(pe.isUndefined(p)){if(!pe.isUndefined(h))return a(void 0,h,x,b)}else return a(h,p,x,b)}function o(h,p){if(!pe.isUndefined(p))return a(void 0,p)}function u(h,p){if(pe.isUndefined(p)){if(!pe.isUndefined(h))return a(void 0,h)}else return a(void 0,p)}function f(h,p,x){if(x in t)return a(h,p);if(x in e)return a(void 0,h)}const m={url:o,method:o,data:o,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,withXSRFToken:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:f,headers:(h,p,x)=>l(aN(h),aN(p),x,!0)};return pe.forEach(Object.keys({...e,...t}),function(p){const x=m[p]||l,b=x(e[p],t[p],p);pe.isUndefined(b)&&x!==f||(r[p]=b)}),r}const TA=e=>{const t=Cs({},e);let{data:r,withXSRFToken:a,xsrfHeaderName:l,xsrfCookieName:o,headers:u,auth:f}=t;if(t.headers=u=Zr.from(u),t.url=AA(kA(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),f&&u.set("Authorization","Basic "+btoa((f.username||"")+":"+(f.password?unescape(encodeURIComponent(f.password)):""))),pe.isFormData(r)){if(Cr.hasStandardBrowserEnv||Cr.hasStandardBrowserWebWorkerEnv)u.setContentType(void 0);else if(pe.isFunction(r.getHeaders)){const m=r.getHeaders(),h=["content-type","content-length"];Object.entries(m).forEach(([p,x])=>{h.includes(p.toLowerCase())&&u.set(p,x)})}}if(Cr.hasStandardBrowserEnv&&(a&&pe.isFunction(a)&&(a=a(t)),a||a!==!1&&VD(t.url))){const m=l&&o&&YD.read(o);m&&u.set(l,m)}return t},WD=typeof XMLHttpRequest<"u",QD=WD&&function(e){return new Promise(function(r,a){const l=TA(e);let o=l.data;const u=Zr.from(l.headers).normalize();let{responseType:f,onUploadProgress:m,onDownloadProgress:h}=l,p,x,b,j,w;function N(){j&&j(),w&&w(),l.cancelToken&&l.cancelToken.unsubscribe(p),l.signal&&l.signal.removeEventListener("abort",p)}let S=new XMLHttpRequest;S.open(l.method.toUpperCase(),l.url,!0),S.timeout=l.timeout;function E(){if(!S)return;const _=Zr.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),k={data:!f||f==="text"||f==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:_,config:e,request:S};CA(function($){r($),N()},function($){a($),N()},k),S=null}"onloadend"in S?S.onloadend=E:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(E)},S.onabort=function(){S&&(a(new qe("Request aborted",qe.ECONNABORTED,e,S)),S=null)},S.onerror=function(T){const k=T&&T.message?T.message:"Network Error",L=new qe(k,qe.ERR_NETWORK,e,S);L.event=T||null,a(L),S=null},S.ontimeout=function(){let T=l.timeout?"timeout of "+l.timeout+"ms exceeded":"timeout exceeded";const k=l.transitional||EA;l.timeoutErrorMessage&&(T=l.timeoutErrorMessage),a(new qe(T,k.clarifyTimeoutError?qe.ETIMEDOUT:qe.ECONNABORTED,e,S)),S=null},o===void 0&&u.setContentType(null),"setRequestHeader"in S&&pe.forEach(u.toJSON(),function(T,k){S.setRequestHeader(k,T)}),pe.isUndefined(l.withCredentials)||(S.withCredentials=!!l.withCredentials),f&&f!=="json"&&(S.responseType=l.responseType),h&&([b,w]=df(h,!0),S.addEventListener("progress",b)),m&&S.upload&&([x,j]=df(m),S.upload.addEventListener("progress",x),S.upload.addEventListener("loadend",j)),(l.cancelToken||l.signal)&&(p=_=>{S&&(a(!_||_.type?new Jl(null,e,S):_),S.abort(),S=null)},l.cancelToken&&l.cancelToken.subscribe(p),l.signal&&(l.signal.aborted?p():l.signal.addEventListener("abort",p)));const O=qD(l.url);if(O&&Cr.protocols.indexOf(O)===-1){a(new qe("Unsupported protocol "+O+":",qe.ERR_BAD_REQUEST,e));return}S.send(o||null)})},XD=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let a=new AbortController,l;const o=function(h){if(!l){l=!0,f();const p=h instanceof Error?h:this.reason;a.abort(p instanceof qe?p:new Jl(p instanceof Error?p.message:p))}};let u=t&&setTimeout(()=>{u=null,o(new qe(`timeout ${t} of ms exceeded`,qe.ETIMEDOUT))},t);const f=()=>{e&&(u&&clearTimeout(u),u=null,e.forEach(h=>{h.unsubscribe?h.unsubscribe(o):h.removeEventListener("abort",o)}),e=null)};e.forEach(h=>h.addEventListener("abort",o));const{signal:m}=a;return m.unsubscribe=()=>pe.asap(f),m}},ZD=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let a=0,l;for(;a<r;)l=a+t,yield e.slice(a,l),a=l},JD=async function*(e,t){for await(const r of e8(e))yield*ZD(r,t)},e8=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:a}=await t.read();if(r)break;yield a}}finally{await t.cancel()}},iN=(e,t,r,a)=>{const l=JD(e,t);let o=0,u,f=m=>{u||(u=!0,a&&a(m))};return new ReadableStream({async pull(m){try{const{done:h,value:p}=await l.next();if(h){f(),m.close();return}let x=p.byteLength;if(r){let b=o+=x;r(b)}m.enqueue(new Uint8Array(p))}catch(h){throw f(h),h}},cancel(m){return f(m),l.return()}},{highWaterMark:2})},sN=64*1024,{isFunction:Rd}=pe,t8=(({Request:e,Response:t})=>({Request:e,Response:t}))(pe.global),{ReadableStream:lN,TextEncoder:oN}=pe.global,cN=(e,...t)=>{try{return!!e(...t)}catch{return!1}},r8=e=>{e=pe.merge.call({skipUndefined:!0},t8,e);const{fetch:t,Request:r,Response:a}=e,l=t?Rd(t):typeof fetch=="function",o=Rd(r),u=Rd(a);if(!l)return!1;const f=l&&Rd(lN),m=l&&(typeof oN=="function"?(w=>N=>w.encode(N))(new oN):async w=>new Uint8Array(await new r(w).arrayBuffer())),h=o&&f&&cN(()=>{let w=!1;const N=new r(Cr.origin,{body:new lN,method:"POST",get duplex(){return w=!0,"half"}}).headers.has("Content-Type");return w&&!N}),p=u&&f&&cN(()=>pe.isReadableStream(new a("").body)),x={stream:p&&(w=>w.body)};l&&["text","arrayBuffer","blob","formData","stream"].forEach(w=>{!x[w]&&(x[w]=(N,S)=>{let E=N&&N[w];if(E)return E.call(N);throw new qe(`Response type '${w}' is not supported`,qe.ERR_NOT_SUPPORT,S)})});const b=async w=>{if(w==null)return 0;if(pe.isBlob(w))return w.size;if(pe.isSpecCompliantForm(w))return(await new r(Cr.origin,{method:"POST",body:w}).arrayBuffer()).byteLength;if(pe.isArrayBufferView(w)||pe.isArrayBuffer(w))return w.byteLength;if(pe.isURLSearchParams(w)&&(w=w+""),pe.isString(w))return(await m(w)).byteLength},j=async(w,N)=>{const S=pe.toFiniteNumber(w.getContentLength());return S??b(N)};return async w=>{let{url:N,method:S,data:E,signal:O,cancelToken:_,timeout:T,onDownloadProgress:k,onUploadProgress:L,responseType:$,headers:G,withCredentials:J="same-origin",fetchOptions:ue}=TA(w),F=t||fetch;$=$?($+"").toLowerCase():"text";let q=XD([O,_&&_.toAbortSignal()],T),fe=null;const z=q&&q.unsubscribe&&(()=>{q.unsubscribe()});let Y;try{if(L&&h&&S!=="get"&&S!=="head"&&(Y=await j(G,E))!==0){let R=new r(N,{method:"POST",body:E,duplex:"half"}),K;if(pe.isFormData(E)&&(K=R.headers.get("content-type"))&&G.setContentType(K),R.body){const[re,W]=rN(Y,df(nN(L)));E=iN(R.body,sN,re,W)}}pe.isString(J)||(J=J?"include":"omit");const C=o&&"credentials"in r.prototype,V={...ue,signal:q,method:S.toUpperCase(),headers:G.normalize().toJSON(),body:E,duplex:"half",credentials:C?J:void 0};fe=o&&new r(N,V);let ae=await(o?F(fe,ue):F(N,V));const ve=p&&($==="stream"||$==="response");if(p&&(k||ve&&z)){const R={};["status","statusText","headers"].forEach(le=>{R[le]=ae[le]});const K=pe.toFiniteNumber(ae.headers.get("content-length")),[re,W]=k&&rN(K,df(nN(k),!0))||[];ae=new a(iN(ae.body,sN,re,()=>{W&&W(),z&&z()}),R)}$=$||"text";let ce=await x[pe.findKey(x,$)||"text"](ae,w);return!ve&&z&&z(),await new Promise((R,K)=>{CA(R,K,{data:ce,headers:Zr.from(ae.headers),status:ae.status,statusText:ae.statusText,config:w,request:fe})})}catch(C){throw z&&z(),C&&C.name==="TypeError"&&/Load failed|fetch/i.test(C.message)?Object.assign(new qe("Network Error",qe.ERR_NETWORK,w,fe),{cause:C.cause||C}):qe.from(C,C&&C.code,w,fe)}}},n8=new Map,MA=e=>{let t=e&&e.env||{};const{fetch:r,Request:a,Response:l}=t,o=[a,l,r];let u=o.length,f=u,m,h,p=n8;for(;f--;)m=o[f],h=p.get(m),h===void 0&&p.set(m,h=f?new Map:r8(t)),p=h;return h};MA();const Dv={http:bD,xhr:QD,fetch:{get:MA}};pe.forEach(Dv,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const uN=e=>`- ${e}`,a8=e=>pe.isFunction(e)||e===null||e===!1;function i8(e,t){e=pe.isArray(e)?e:[e];const{length:r}=e;let a,l;const o={};for(let u=0;u<r;u++){a=e[u];let f;if(l=a,!a8(a)&&(l=Dv[(f=String(a)).toLowerCase()],l===void 0))throw new qe(`Unknown adapter '${f}'`);if(l&&(pe.isFunction(l)||(l=l.get(t))))break;o[f||"#"+u]=l}if(!l){const u=Object.entries(o).map(([m,h])=>`adapter ${m} `+(h===!1?"is not supported by the environment":"is not available in the build"));let f=r?u.length>1?`since :
`+u.map(uN).join(`
`):" "+uN(u[0]):"as no adapter specified";throw new qe("There is no suitable adapter to dispatch the request "+f,"ERR_NOT_SUPPORT")}return l}const PA={getAdapter:i8,adapters:Dv};function Ap(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Jl(null,e)}function dN(e){return Ap(e),e.headers=Zr.from(e.headers),e.data=Sp.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),PA.getAdapter(e.adapter||Hc.adapter,e)(e).then(function(a){return Ap(e),a.data=Sp.call(e,e.transformResponse,a),a.headers=Zr.from(a.headers),a},function(a){return OA(a)||(Ap(e),a&&a.response&&(a.response.data=Sp.call(e,e.transformResponse,a.response),a.response.headers=Zr.from(a.response.headers))),Promise.reject(a)})}const DA="1.13.2",fm={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{fm[e]=function(a){return typeof a===e||"a"+(t<1?"n ":" ")+e}});const fN={};fm.transitional=function(t,r,a){function l(o,u){return"[Axios v"+DA+"] Transitional option '"+o+"'"+u+(a?". "+a:"")}return(o,u,f)=>{if(t===!1)throw new qe(l(u," has been removed"+(r?" in "+r:"")),qe.ERR_DEPRECATED);return r&&!fN[u]&&(fN[u]=!0,console.warn(l(u," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(o,u,f):!0}};fm.spelling=function(t){return(r,a)=>(console.warn(`${a} is likely a misspelling of ${t}`),!0)};function s8(e,t,r){if(typeof e!="object")throw new qe("options must be an object",qe.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let l=a.length;for(;l-- >0;){const o=a[l],u=t[o];if(u){const f=e[o],m=f===void 0||u(f,o,e);if(m!==!0)throw new qe("option "+o+" must be "+m,qe.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new qe("Unknown option "+o,qe.ERR_BAD_OPTION)}}const nf={assertOptions:s8,validators:fm},aa=nf.validators;let Ss=class{constructor(t){this.defaults=t||{},this.interceptors={request:new eN,response:new eN}}async request(t,r){try{return await this._request(t,r)}catch(a){if(a instanceof Error){let l={};Error.captureStackTrace?Error.captureStackTrace(l):l=new Error;const o=l.stack?l.stack.replace(/^.+\n/,""):"";try{a.stack?o&&!String(a.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+o):a.stack=o}catch{}}throw a}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Cs(this.defaults,r);const{transitional:a,paramsSerializer:l,headers:o}=r;a!==void 0&&nf.assertOptions(a,{silentJSONParsing:aa.transitional(aa.boolean),forcedJSONParsing:aa.transitional(aa.boolean),clarifyTimeoutError:aa.transitional(aa.boolean)},!1),l!=null&&(pe.isFunction(l)?r.paramsSerializer={serialize:l}:nf.assertOptions(l,{encode:aa.function,serialize:aa.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),nf.assertOptions(r,{baseUrl:aa.spelling("baseURL"),withXsrfToken:aa.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let u=o&&pe.merge(o.common,o[r.method]);o&&pe.forEach(["delete","get","head","post","put","patch","common"],w=>{delete o[w]}),r.headers=Zr.concat(u,o);const f=[];let m=!0;this.interceptors.request.forEach(function(N){typeof N.runWhen=="function"&&N.runWhen(r)===!1||(m=m&&N.synchronous,f.unshift(N.fulfilled,N.rejected))});const h=[];this.interceptors.response.forEach(function(N){h.push(N.fulfilled,N.rejected)});let p,x=0,b;if(!m){const w=[dN.bind(this),void 0];for(w.unshift(...f),w.push(...h),b=w.length,p=Promise.resolve(r);x<b;)p=p.then(w[x++],w[x++]);return p}b=f.length;let j=r;for(;x<b;){const w=f[x++],N=f[x++];try{j=w(j)}catch(S){N.call(this,S);break}}try{p=dN.call(this,j)}catch(w){return Promise.reject(w)}for(x=0,b=h.length;x<b;)p=p.then(h[x++],h[x++]);return p}getUri(t){t=Cs(this.defaults,t);const r=kA(t.baseURL,t.url,t.allowAbsoluteUrls);return AA(r,t.params,t.paramsSerializer)}};pe.forEach(["delete","get","head","options"],function(t){Ss.prototype[t]=function(r,a){return this.request(Cs(a||{},{method:t,url:r,data:(a||{}).data}))}});pe.forEach(["post","put","patch"],function(t){function r(a){return function(o,u,f){return this.request(Cs(f||{},{method:t,headers:a?{"Content-Type":"multipart/form-data"}:{},url:o,data:u}))}}Ss.prototype[t]=r(),Ss.prototype[t+"Form"]=r(!0)});let l8=class RA{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(o){r=o});const a=this;this.promise.then(l=>{if(!a._listeners)return;let o=a._listeners.length;for(;o-- >0;)a._listeners[o](l);a._listeners=null}),this.promise.then=l=>{let o;const u=new Promise(f=>{a.subscribe(f),o=f}).then(l);return u.cancel=function(){a.unsubscribe(o)},u},t(function(o,u,f){a.reason||(a.reason=new Jl(o,u,f),r(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=a=>{t.abort(a)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new RA(function(l){t=l}),cancel:t}}};function o8(e){return function(r){return e.apply(null,r)}}function c8(e){return pe.isObject(e)&&e.isAxiosError===!0}const xg={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(xg).forEach(([e,t])=>{xg[t]=e});function LA(e){const t=new Ss(e),r=mA(Ss.prototype.request,t);return pe.extend(r,Ss.prototype,t,{allOwnKeys:!0}),pe.extend(r,t,null,{allOwnKeys:!0}),r.create=function(l){return LA(Cs(e,l))},r}const Ft=LA(Hc);Ft.Axios=Ss;Ft.CanceledError=Jl;Ft.CancelToken=l8;Ft.isCancel=OA;Ft.VERSION=DA;Ft.toFormData=dm;Ft.AxiosError=qe;Ft.Cancel=Ft.CanceledError;Ft.all=function(t){return Promise.all(t)};Ft.spread=o8;Ft.isAxiosError=c8;Ft.mergeConfig=Cs;Ft.AxiosHeaders=Zr;Ft.formToJSON=e=>_A(pe.isHTMLForm(e)?new FormData(e):e);Ft.getAdapter=PA.getAdapter;Ft.HttpStatusCode=xg;Ft.default=Ft;const{Axios:uJ,AxiosError:dJ,CanceledError:fJ,isCancel:mJ,CancelToken:hJ,VERSION:pJ,all:xJ,Cancel:gJ,isAxiosError:vJ,spread:yJ,toFormData:bJ,AxiosHeaders:jJ,HttpStatusCode:wJ,formToJSON:NJ,getAdapter:SJ,mergeConfig:AJ}=Ft;function u8(e){if(!e)return;if(typeof e=="string")return e;const t=e.detail||e.message||e.error;if(t)return t;if(Array.isArray(e.non_field_errors)){const r=e.non_field_errors.filter(a=>typeof a=="string");if(r.length)return r.join(", ")}if(typeof e=="object"){const r=[];for(const a of Object.keys(e)){if(a==="non_field_errors")continue;const l=e[a];if(typeof l=="string"&&l.trim())r.push(`${a}: ${l}`);else if(Array.isArray(l)){const o=l.filter(u=>typeof u=="string"&&u.trim());o.length&&r.push(`${a}: ${o.join(", ")}`)}}if(r.length)return r.join("; ")}}function zA(e,t="Something went wrong. Please try again."){const r=e;if(r?.isAxiosError&&!r.response)return{userMessage:"Network error. Check your connection and try again.",code:"NETWORK_ERROR",raw:e};const a=r?.response?.status,l=r?.response?.data,o=u8(l),f=a?{400:o||"Please check your input and try again.",401:"Your session has expired. Please sign in again.",403:"You do not have permission to perform this action.",404:"The requested resource was not found.",409:o||"This action conflicts with existing data.",422:o||"Some fields are invalid. Please review and try again.",429:"Too many requests. Please wait a moment and try again.",500:"The server encountered an error. Please try again later.",502:"Bad gateway. Please try again shortly.",503:"Service unavailable. Please try again later.",504:"Server took too long to respond. Please try again."}[a]:void 0;return{userMessage:o||f||t,status:a,code:r?.code,raw:e}}function la(e,t){return zA(e,t).userMessage}const Se=Ft.create({baseURL:"http://196.188.248.104:8000"});Se.interceptors.request.use(e=>{const t=localStorage.getItem("auth_token");return t&&(e.headers=e.headers||{},e.headers.Authorization=`Token ${t}`),e});Se.interceptors.response.use(e=>e,e=>{try{const t=zA(e);e.userMessage=t.userMessage}catch{}return Promise.reject(e)});const BA=v.createContext(void 0),d8=({children:e})=>{const[t,r]=v.useState(()=>localStorage.getItem("auth_token")),[a,l]=v.useState(null);v.useEffect(()=>{t?(localStorage.setItem("auth_token",t),(async()=>{try{const m=await Se.get("/api/me/");l({username:m.data?.username,email:m.data?.email,role:m.data?.role,sector:m.data?.sector??null,department:m.data?.department??null,is_superuser:m.data?.is_superuser??!1}),localStorage.setItem("auth_username",m.data?.username??"")}catch{l(null)}})()):(localStorage.removeItem("auth_token"),l(null))},[t]);const o=async(m,h)=>{try{const x=(await Se.post("/api/auth/token/",{username:m,password:h})).data?.token;r(x),localStorage.setItem("auth_username",m)}catch(p){throw p}},u=()=>{r(null),localStorage.removeItem("auth_username")},f=v.useMemo(()=>({user:a,token:t,login:o,logout:u}),[a,t]);return n.jsx(BA.Provider,{value:f,children:e})},St=()=>{const e=v.useContext(BA);if(!e)throw new Error("useAuth must be used within AuthProvider");return e},gg="/assets/moa%20planinig%20logo-CJ3Li4v5.png";function f8(){const{login:e}=St(),[t,r]=v.useState(""),[a,l]=v.useState(""),[o,u]=v.useState(null),[f,m]=v.useState(!1),[h,p]=v.useState(!1),[x,b]=v.useState(!1),j=async N=>{N.preventDefault(),u(null),m(!0);try{await e(t,a),window.location.href="/"}catch(S){const E=S?.userMessage||la(S,"Login failed");u(E)}finally{m(!1)}},w=N=>{const E={admin:{username:"lead_executive",password:"demo123"},user:{username:"department_head",password:"demo123"},viewer:{username:"advisor",password:"demo123"}}[N];r(E.username),l(E.password)};return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 via-white to-teal-50 flex items-center justify-center px-4 py-8",children:[n.jsxs("div",{className:"max-w-6xl w-full grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12 items-center",children:[n.jsxs("div",{className:"flex flex-col items-start space-y-6 lg:space-y-8",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:gg,alt:"MoA Logo",className:"w-20 h-20 lg:w-24 lg:h-24 object-cover rounded-2xl border-4 border-white shadow-2xl ring-4 ring-emerald-100"}),n.jsx("div",{className:"absolute -bottom-2 -right-2 w-8 h-8 bg-emerald-500 rounded-full flex items-center justify-center",children:n.jsx("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-xl lg:text-2xl font-bold text-gray-800",children:"Ministry of Agriculture"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Digital Transformation Initiative"})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("h2",{className:"text-3xl lg:text-4xl font-bold text-gray-900 leading-tight",children:["Planning & Performance",n.jsx("span",{className:"block text-transparent bg-clip-text bg-gradient-to-r from-emerald-600 to-teal-600",children:"Management System"})]}),n.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 bg-emerald-100 text-emerald-800 rounded-full text-sm font-medium",children:[n.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Beyond Production!",n.jsx("span",{className:"font-semibold text-emerald-900",children:" !"})]})]}),n.jsxs("div",{className:"space-y-4 max-w-xl",children:[n.jsx("p",{className:"text-gray-700 text-lg leading-relaxed",children:"A comprehensive digital platform designed to transform agricultural planning, enhance coordination, and drive performance excellence across all levels of the Ministry of Agriculture."}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-full"}),n.jsx("span",{className:"text-sm text-gray-600",children:"Real-time Monitoring"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-full"}),n.jsx("span",{className:"text-sm text-gray-600",children:"Data-driven Decisions"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-full"}),n.jsx("span",{className:"text-sm text-gray-600",children:"Secure & Compliant"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-full"}),n.jsx("span",{className:"text-sm text-gray-600",children:"Multi-level Coordination"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4 pt-4 border-t border-gray-200",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-emerald-600",children:"24/7"}),n.jsx("div",{className:"text-xs text-gray-500",children:"Accessibility"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-emerald-600",children:"100%"}),n.jsx("div",{className:"text-xs text-gray-500",children:"Transparency"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-emerald-600",children:"Gov"}),n.jsx("div",{className:"text-xs text-gray-500",children:"Approved"})]})]})]}),n.jsxs("div",{className:"w-full",children:[n.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl overflow-hidden border border-gray-100",children:[n.jsxs("div",{className:"bg-gradient-to-r from-emerald-600 to-teal-600 px-8 py-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-white text-center",children:"Welcome Back"}),n.jsx("p",{className:"text-emerald-100 text-center text-sm mt-1",children:"Sign in to continue to your dashboard"})]}),n.jsx("div",{className:"px-8 pt-6",children:n.jsxs("div",{className:"mb-4",children:[n.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Quick test (demo credentials):"}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx("button",{type:"button",onClick:()=>w("admin"),className:"px-3 py-1.5 text-xs bg-emerald-100 text-emerald-700 rounded-lg hover:bg-emerald-200 transition-colors",children:"Lead Executive"}),n.jsx("button",{type:"button",onClick:()=>w("user"),className:"px-3 py-1.5 text-xs bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors",children:"Department Head"}),n.jsx("button",{type:"button",onClick:()=>w("viewer"),className:"px-3 py-1.5 text-xs bg-purple-100 text-purple-700 rounded-lg hover:bg-purple-200 transition-colors",children:"Advisor"})]})]})}),n.jsxs("div",{className:"px-8 py-6",children:[o&&n.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-xl",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("svg",{className:"w-4 h-4 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsx("span",{className:"text-sm text-red-700",children:o})]})}),n.jsxs("form",{onSubmit:j,className:"space-y-5",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Username"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),n.jsx("input",{type:"text",value:t,onChange:N=>r(N.target.value),className:`w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl shadow-sm \r
                                focus:outline-none focus:ring-2 focus:ring-emerald-500 \r
                                focus:border-transparent transition-all`,placeholder:"Enter your username",required:!0})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Password"}),n.jsx("button",{type:"button",onClick:()=>p(!h),className:"text-xs text-emerald-600 hover:text-emerald-800",children:h?"Hide":"Show"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),n.jsx("input",{type:h?"text":"password",value:a,onChange:N=>l(N.target.value),className:`w-full pl-10 pr-12 py-3 border border-gray-300 rounded-xl shadow-sm \r
                                focus:outline-none focus:ring-2 focus:ring-emerald-500 \r
                                focus:border-transparent transition-all`,placeholder:"Enter your password",required:!0})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:x,onChange:N=>b(N.target.checked),className:"w-4 h-4 text-emerald-600 rounded focus:ring-emerald-500"}),n.jsx("span",{className:"text-sm text-gray-600",children:"Remember me"})]}),n.jsx("button",{type:"button",className:"text-sm text-emerald-600 hover:text-emerald-800",onClick:()=>{},children:"Forgot password?"})]}),n.jsx("button",{type:"submit",disabled:f,className:`w-full bg-gradient-to-r from-emerald-600 to-teal-600 text-white \r
                           font-semibold rounded-xl py-3.5 hover:from-emerald-700 hover:to-teal-700 \r
                           transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed\r
                           shadow-lg hover:shadow-xl`,children:f?n.jsxs("div",{className:"flex items-center justify-center gap-2",children:[n.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):n.jsxs("div",{className:"flex items-center justify-center gap-2",children:["Sign in to Dashboard",n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-0 flex items-center",children:n.jsx("div",{className:"w-full border-t border-gray-300"})}),n.jsx("div",{className:"relative flex justify-center text-sm",children:n.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Need help?"})})]}),n.jsxs("div",{className:"text-center",children:[n.jsxs("p",{className:"text-sm text-gray-600",children:["Contact system administrator at"," ",n.jsx("a",{href:"mailto:support@moa.gov.et",className:"text-emerald-600 hover:text-emerald-800",children:"support@moa.gov.et"})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Version 2.0.1  Last updated: December 2024"})]})]})]}),n.jsx("div",{className:"px-8 py-4 bg-gray-50 border-t border-gray-200",children:n.jsx("div",{className:"text-center",children:n.jsxs("p",{className:"text-xs text-gray-600",children:["By signing in, you agree to our"," ",n.jsx("a",{href:"#",className:"text-emerald-600 hover:text-emerald-800",children:"Terms of Service"})," ","and"," ",n.jsx("a",{href:"#",className:"text-emerald-600 hover:text-emerald-800",children:"Privacy Policy"})]})})})]}),n.jsxs("div",{className:"mt-6 flex flex-wrap justify-center gap-4",children:[n.jsx("a",{href:"#",className:"text-xs text-gray-500 hover:text-emerald-600",children:"User Guide"}),n.jsx("span",{className:"text-gray-300",children:""}),n.jsx("a",{href:"#",className:"text-xs text-gray-500 hover:text-emerald-600",children:"System Requirements"}),n.jsx("span",{className:"text-gray-300",children:""}),n.jsx("a",{href:"#",className:"text-xs text-gray-500 hover:text-emerald-600",children:"Training Materials"}),n.jsx("span",{className:"text-gray-300",children:""}),n.jsx("a",{href:"#",className:"text-xs text-gray-500 hover:text-emerald-600",children:"Report Issue"})]})]})]}),n.jsxs("div",{className:"fixed inset-0 -z-10 overflow-hidden",children:[n.jsx("div",{className:"absolute top-1/4 left-1/4 w-64 h-64 bg-emerald-200 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-pulse"}),n.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-teal-200 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-pulse delay-1000"}),n.jsx("div",{className:"absolute top-1/3 right-1/3 w-48 h-48 bg-green-200 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-pulse delay-500"})]})]})}const Al=({children:e})=>{const{token:t}=St();return t?n.jsx(n.Fragment,{children:e}):n.jsx(Br,{to:"/login",replace:!0})},us=({children:e})=>{const{token:t,user:r}=St();return t?r?.is_superuser?n.jsx(n.Fragment,{children:e}):n.jsx(Br,{to:"/",replace:!0}):n.jsx(Br,{to:"/login",replace:!0})};function mN({children:e}){const{user:t,token:r}=St(),a=(t?.role||"").toUpperCase();return r?a!=="STATE_MINISTER"?n.jsx(Br,{to:"/",replace:!0}):n.jsx(n.Fragment,{children:e}):n.jsx(Br,{to:"/login",replace:!0})}function hN({children:e}){const{user:t,token:r}=St(),a=(t?.role||"").toUpperCase();return r?a!=="STRATEGIC_STAFF"?n.jsx(Br,{to:"/",replace:!0}):n.jsx(n.Fragment,{children:e}):n.jsx(Br,{to:"/login",replace:!0})}function pN({children:e}){const{user:t,token:r}=St(),a=(t?.role||"").toUpperCase();return r?a!=="EXECUTIVE"?n.jsx(Br,{to:"/",replace:!0}):n.jsx(n.Fragment,{children:e}):n.jsx(Br,{to:"/login",replace:!0})}function m8({children:e}){const{user:t}=St(),r=(t?.role||"").toUpperCase();return t?r!=="MINISTER_VIEW"?n.jsx(Br,{to:"/",replace:!0}):n.jsx(n.Fragment,{children:e}):n.jsx(Br,{to:"/login",replace:!0})}function h8({children:e}){const{user:t,token:r}=St(),a=(t?.role||"").toUpperCase(),l=!!t?.is_superuser;return r?!l&&a!=="STRATEGIC_STAFF"&&a!=="EXECUTIVE"?n.jsx(Br,{to:"/",replace:!0}):n.jsx(n.Fragment,{children:e}):n.jsx(Br,{to:"/login",replace:!0})}const $A=({name:e,active:t})=>{const r=t?"text-green-700":"text-white/90";switch(e){case"Home":return n.jsx("svg",{className:`w-5 h-5 ${r}`,fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M12 3 2 12h3v8h6v-5h2v5h6v-8h3L12 3Z"})});case"Users":return n.jsx("svg",{className:`w-5 h-5 ${r}`,fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M16 11a4 4 0 1 0-8 0 4 4 0 0 0 8 0Zm-4 6c-4.418 0-8 2.239-8 5v1h16v-1c0-2.761-3.582-5-8-5Z"})});case"Sectors":return n.jsx("svg",{className:`w-5 h-5 ${r}`,fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M3 10h8V3H3v7Zm10 11h8v-7h-8v7ZM3 21h8v-7H3v7Zm10-11h8V3h-8v7Z"})});case"Departments":return n.jsx("svg",{className:`w-5 h-5 ${r}`,fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M3 3h18v4H3V3Zm0 6h18v4H3V9Zm0 6h18v4H3v-4Z"})});case"Indicators":return n.jsx("svg",{className:`w-5 h-5 ${r}`,fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M3 13h4v8H3v-8Zm7-6h4v14h-4V7Zm7 3h4v11h-4V10Z"})});case"Annual Plans":return n.jsx("svg",{className:`w-5 h-5 ${r}`,fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M6 2h9l5 5v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2Zm8 1.5V8h4.5L14 3.5Z"})});case"Entry Periods":return n.jsx("svg",{className:`w-5 h-5 ${r}`,fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M7 2h10a2 2 0 0 1 2 2v3H5V4a2 2 0 0 1 2-2Zm-2 7h14v11a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V9Zm3 3v2h8v-2H8Z"})});case"Quarterly Breakdown":return n.jsx("svg",{className:`w-5 h-5 ${r}`,fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M3 5h18v2H3V5Zm0 6h10v2H3v-2Zm0 6h14v2H3v-2Z"})});case"Quarterly Performance":return n.jsx("svg",{className:`w-5 h-5 ${r}`,fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M4 19h16v2H4v-2Zm2-8h3v6H6v-6Zm5-4h3v10h-3V7Zm5 2h3v8h-3V9Z"})});case"State Minister Dashboard":return n.jsx("svg",{className:`w-5 h-5 ${r}`,fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M3 13h8V3H3v10Zm0 8h8v-6H3v6Zm10-8h8V3h-8v10Zm0 8h8v-6h-8v6Z"})});case"Reviews & Approvals":return n.jsx("svg",{className:`w-5 h-5 ${r}`,fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M3 3h18v14H7l-4 4V3Zm4 6h10V7H7v2Zm0 4h6v-2H7v2Z"})});case"Validations":return n.jsx("svg",{className:`w-5 h-5 ${r}`,fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M9 16.2 4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2Z"})});case"Activity Log":return n.jsx("svg",{className:`w-5 h-5 ${r}`,fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M5 4h14v2H5V4Zm0 5h9v2H5V9Zm0 5h14v2H5v-2Z"})});case"Profile":return n.jsx("svg",{className:`w-5 h-5 ${r}`,fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})});case"Minister View":return n.jsx("svg",{className:`w-5 h-5 ${r}`,fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})});default:return n.jsx("svg",{className:`w-5 h-5 ${r}`,fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("circle",{cx:"12",cy:"12",r:"9"})})}},p8=({menus:e,isOpen:t,onClose:r})=>{const a=ma();return t?n.jsxs("div",{className:"fixed inset-0 z-50 md:hidden",children:[n.jsx("div",{className:"fixed inset-0 bg-black/50",onClick:r}),n.jsxs("div",{className:"fixed left-0 top-0 h-full w-64 bg-green-900 text-white shadow-xl",children:[n.jsxs("div",{className:"h-16 px-6 flex items-center justify-between border-b border-white/10",children:[n.jsx("h2",{className:"text-lg font-semibold",children:"Menu"}),n.jsx("button",{onClick:r,className:"p-2 hover:bg-white/10 rounded-lg transition",children:n.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})]}),n.jsx("nav",{className:"p-4 space-y-1",children:e.map(l=>{const o=a.pathname===l.to;return n.jsxs(lm,{to:l.to,onClick:r,className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${o?"bg-white text-green-700 font-medium":"text-white/90 hover:bg-white/10"}`,children:[n.jsx($A,{name:l.label,active:o}),n.jsx("span",{children:l.label})]},l.to)})})]})]}):null};function Ut({children:e}){const{user:t,logout:r}=St(),a=(t?.role||"").toUpperCase(),l=!!t?.is_superuser,o=ma(),[u,f]=v.useState(!1),[m,h]=v.useState(!1),p=v.useMemo(()=>{const x=[{label:"Home",to:"/"},{label:"Profile",to:"/profile"}],b=[{label:"Users",to:"/users"},{label:"Sectors",to:"/sectors"},{label:"Departments",to:"/departments"},{label:"Indicators",to:"/indicators"},{label:"Indicator Groups",to:"/indicator-groups"},{label:"Annual Plans",to:"/annual-plans"},{label:"Entry Periods",to:"/entry-periods"}],j=[{label:"Quarterly Breakdown",to:"/quarterly-breakdowns"},{label:"Quarterly Performance",to:"/performances"},{label:"Advisor Overall Comment",to:"/advisor-comment"}],w=[{label:"Quarterly Breakdown",to:"/quarterly-breakdowns"},{label:"Quarterly Performance",to:"/performances"},{label:"Advisor Comments",to:"/advisor-comments"}],N=[{label:"State Minister Dashboard",to:"/state-minister-dashboard"},{label:"Reviews & Approvals",to:"/reviews"},{label:"Advisor Comments",to:"/advisor-comments"}],S=[{label:"Validations",to:"/validations"},{label:"Minister View",to:"/strategic-minister-view"}],E=[{label:"Final Approvals",to:"/final-approvals"},{label:"Minister View",to:"/executive-minister-view"}],O=[{label:"Final Approved",to:"/minister-view"}],_=[...x];return l&&_.push(...b),a==="ADVISOR"&&_.push(...j),a==="LEAD_EXECUTIVE_BODY"&&_.push(...w),a==="STATE_MINISTER"&&_.push(...N),a==="STRATEGIC_STAFF"&&_.push(...S),a==="EXECUTIVE"&&_.push(...E),a==="MINISTER_VIEW"&&_.push(...O),(l||a==="STRATEGIC_STAFF"||a==="EXECUTIVE")&&_.push({label:"Activity Log",to:"/activity-logs"}),_},[a,l]);return n.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-gray-50 to-gray-100",children:[n.jsx(p8,{menus:p,isOpen:m,onClose:()=>h(!1)}),n.jsxs("aside",{className:`${u?"w-20":"w-64"} hidden md:flex flex-col bg-[#1d8d51] text-white shadow-lg transition-all duration-300 ease-in-out`,children:[n.jsx("div",{className:"h-20 px-4 flex items-center justify-center border-b border-white/10",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("img",{src:gg,alt:"Logo",className:"h-10 w-10 object-contain rounded-lg bg-white p-1"}),!u&&n.jsxs("div",{className:"flex flex-col",children:[n.jsx("h2",{className:"font-bold text-lg tracking-tight",children:"Dashboard"}),n.jsx("span",{className:"text-xs text-white/60",children:"Ministry of Agriculture"})]})]})}),n.jsx("nav",{className:"flex-1 px-3 py-4 space-y-1 overflow-y-auto",children:p.map(x=>{const b=o.pathname===x.to;return n.jsxs(lm,{to:x.to,className:`flex items-center gap-3 px-3 py-3 rounded-xl transition-all duration-200 ${b?"bg-white text-green-700 shadow-lg transform translate-x-1":"text-white/80 hover:bg-white/10 hover:text-white hover:translate-x-1"} ${u?"justify-center":""}`,title:u?x.label:"",children:[n.jsx($A,{name:x.label,active:b}),!u&&n.jsx("span",{className:"font-medium truncate",children:x.label})]},x.to)})}),n.jsxs("div",{className:"p-4 border-t border-white/10",children:[!u&&n.jsxs("div",{className:"mb-4 p-3 bg-white/5 rounded-lg",children:[n.jsx("p",{className:"text-sm font-medium truncate",children:t?.username}),n.jsxs("div",{className:"flex items-center justify-between mt-1",children:[n.jsx("span",{className:"text-xs text-white/60",children:a}),l&&n.jsx("span",{className:"px-2 py-0.5 text-xs bg-yellow-500/20 text-yellow-200 rounded-full",children:"Superuser"})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>f(x=>!x),className:`flex items-center justify-center p-2 rounded-lg bg-white/10 hover:bg-white/20 transition ${u?"w-full":"flex-1"}`,title:u?"Expand sidebar":"Collapse sidebar",children:u?n.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M15.41 16.59 10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"})}):n.jsxs(n.Fragment,{children:[n.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})}),n.jsx("span",{className:"ml-2 text-sm",children:"Collapse"})]})}),!u&&n.jsxs("button",{onClick:r,className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 rounded-lg bg-white/10 hover:bg-red-500/20 hover:text-red-200 transition",children:[n.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M17 7l-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z"})}),n.jsx("span",{className:"text-sm",children:"Logout"})]})]})]})]}),n.jsxs("div",{className:"flex-1 flex flex-col min-h-screen",children:[n.jsx("header",{className:"sticky top-0 z-40 bg-white/90 backdrop-blur-lg border-b border-gray-200 shadow-sm",children:n.jsxs("div",{className:"h-16 px-4 md:px-6 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("button",{onClick:()=>h(!0),className:"md:hidden p-2 rounded-lg hover:bg-gray-100 transition",children:n.jsx("svg",{className:"w-6 h-6 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("img",{src:gg,alt:"Logo",className:"h-10 w-10 object-contain rounded-lg border border-gray-200 p-1"}),n.jsxs("div",{className:"hidden md:block",children:[n.jsxs("h1",{className:"text-lg font-bold text-gray-900",children:["Beyond Production! ",n.jsx("span",{className:"text-blue-600",children:" !"})]}),n.jsx("p",{className:"text-xs text-gray-500",children:"Ministry of Agriculture Planning System"})]})]})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"hidden md:flex items-center gap-3",children:[n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:t?.username}),n.jsx("p",{className:"text-xs text-gray-500",children:a})]}),n.jsx("div",{className:"h-8 w-8 rounded-full bg-gradient-to-r from-green-500 to-emerald-500 flex items-center justify-center text-white text-sm font-semibold",children:t?.username?.charAt(0).toUpperCase()})]}),n.jsx("button",{onClick:r,className:"md:hidden p-2 rounded-lg hover:bg-gray-100 transition",title:"Logout",children:n.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M17 7l-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z"})})})]})]})}),n.jsx("main",{className:"flex-1 p-4 md:p-6 lg:p-8 overflow-auto",children:n.jsx("div",{className:"max-w-7xl mx-auto",children:e})}),n.jsx("footer",{className:"bg-blue border-t border-gray-200 py-4 px-6",children:n.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between text-sm text-gray-500",children:[n.jsxs("p",{children:[" ",new Date().getFullYear()," Ministry of Agriculture. All rights reserved."]}),n.jsxs("div",{className:"flex items-center gap-4 mt-2 md:mt-0",children:[n.jsx("span",{className:"hidden md:inline",children:"|"}),n.jsx("span",{children:"Version 1.0.0"}),n.jsx("span",{className:"hidden md:inline",children:"|"}),n.jsx("span",{children:"Planning & Monitoring System"})]})]})})]})]})}const x8="/assets/home_pic-B7J5cwSn.jpg";const g8=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),v8=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,a)=>a?a.toUpperCase():r.toLowerCase()),xN=e=>{const t=v8(e);return t.charAt(0).toUpperCase()+t.slice(1)},IA=(...e)=>e.filter((t,r,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===r).join(" ").trim(),y8=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var b8={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const j8=v.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:l="",children:o,iconNode:u,...f},m)=>v.createElement("svg",{ref:m,...b8,width:t,height:t,stroke:e,strokeWidth:a?Number(r)*24/Number(t):r,className:IA("lucide",l),...!o&&!y8(f)&&{"aria-hidden":"true"},...f},[...u.map(([h,p])=>v.createElement(h,p)),...Array.isArray(o)?o:[o]]));const $e=(e,t)=>{const r=v.forwardRef(({className:a,...l},o)=>v.createElement(j8,{ref:o,iconNode:t,className:IA(`lucide-${g8(xN(e))}`,`lucide-${e}`,a),...l}));return r.displayName=xN(e),r};const w8=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],vg=$e("activity",w8);const N8=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],S8=$e("arrow-right",N8);const A8=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],E8=$e("arrow-up",A8);const _8=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],UA=$e("award",_8);const O8=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],C8=$e("briefcase",O8);const k8=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],Ep=$e("building-2",k8);const T8=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],ct=$e("building",T8);const M8=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],P8=$e("calendar-days",M8);const D8=[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M17 14h-6",key:"bkmgh3"}],["path",{d:"M13 18H7",key:"bb0bb7"}],["path",{d:"M7 14h.01",key:"1qa3f1"}],["path",{d:"M17 18h.01",key:"1bdyru"}]],R8=$e("calendar-range",D8);const L8=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],_r=$e("calendar",L8);const z8=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],yg=$e("chart-column",z8);const B8=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],gN=$e("chart-pie",B8);const $8=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Wr=$e("chevron-down",$8);const I8=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Rv=$e("chevron-left",I8);const U8=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],nr=$e("chevron-right",U8);const q8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Jr=$e("circle-alert",q8);const F8=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],mr=$e("circle-check-big",F8);const H8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],zi=$e("circle-x",H8);const V8=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Pl=$e("clock",V8);const Y8=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Bl=$e("download",Y8);const K8=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],yc=$e("eye",K8);const G8=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],_p=$e("file-check",G8);const W8=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Dl=$e("file-text",W8);const Q8=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Xa=$e("funnel",Q8);const X8=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],bg=$e("hash",X8);const Z8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],J8=$e("info",Z8);const eR=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],pt=$e("layers",eR);const tR=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Fn=$e("loader-circle",tR);const rR=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],nR=$e("lock-open",rR);const aR=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],iR=$e("lock",aR);const sR=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],lR=$e("mail",sR);const oR=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Lr=$e("pen",oR);const cR=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],uR=$e("phone",cR);const dR=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Sr=$e("plus",dR);const fR=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Vc=$e("refresh-cw",fR);const mR=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Yc=$e("save",mR);const hR=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],zr=$e("search",hR);const pR=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],ff=$e("shield",pR);const xR=[["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M12 21v-9",key:"17s77i"}],["path",{d:"M12 8V3",key:"13r4qs"}],["path",{d:"M17 16h4",key:"h1uq16"}],["path",{d:"M19 12V3",key:"o1uvq1"}],["path",{d:"M19 21v-5",key:"qua636"}],["path",{d:"M3 14h4",key:"bcjad9"}],["path",{d:"M5 10V3",key:"cb8scm"}],["path",{d:"M5 21v-7",key:"1w1uti"}]],gR=$e("sliders-vertical",xR);const vR=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],vN=$e("square-check-big",vR);const yR=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Op=$e("square-pen",yR);const bR=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],jR=$e("tag",bR);const wR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],$a=$e("target",wR);const NR=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Dn=$e("trash-2",NR);const SR=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Ri=$e("trending-up",SR);const AR=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ER=$e("user",AR);const _R=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],qA=$e("users",_R);const OR=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Xe=$e("x",OR);function CR(){const{user:e,logout:t}=St(),[r,a]=v.useState(0),[l,o]=v.useState(!1),u=[{icon:n.jsx($a,{className:"w-6 h-6"}),title:"Target Setting",description:"Define and track annual performance targets across all departments",color:"from-blue-500 to-cyan-500"},{icon:n.jsx(Ri,{className:"w-6 h-6"}),title:"Performance Tracking",description:"Monitor real-time progress against strategic objectives",color:"from-emerald-500 to-green-500"},{icon:n.jsx(qA,{className:"w-6 h-6"}),title:"Collaboration",description:"Seamless coordination between departments and leadership",color:"from-purple-500 to-pink-500"},{icon:n.jsx(UA,{className:"w-6 h-6"}),title:"Recognition",description:"Identify and celebrate high-performing teams and individuals",color:"from-amber-500 to-orange-500"}];v.useEffect(()=>{const m=setTimeout(()=>o(!0),300);return()=>clearTimeout(m)},[]);const f=m=>{const h=document.getElementById(m);h&&h.scrollIntoView({behavior:"smooth",block:"start"})};return v.useEffect(()=>{const m=setInterval(()=>{a(h=>(h+1)%u.length)},4e3);return()=>clearInterval(m)},[u.length]),n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-emerald-50",children:[n.jsx("header",{className:"sticky top-0 z-50 w-full bg-white/80 backdrop-blur-md border-b border-gray-100 shadow-sm",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"bg-gradient-to-r from-emerald-600 to-green-600 w-10 h-10 rounded-xl flex items-center justify-center",children:n.jsx(yg,{className:"w-6 h-6 text-white"})}),n.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-emerald-700 to-green-700 bg-clip-text text-transparent",children:"AgriPerformance"})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"hidden md:flex items-center gap-6",children:[n.jsx("button",{onClick:()=>f("features"),className:"text-sm font-medium text-gray-600 hover:text-emerald-600 transition-colors",children:"Features"}),n.jsx("button",{onClick:()=>f("about"),className:"text-sm font-medium text-gray-600 hover:text-emerald-600 transition-colors",children:"About"}),n.jsx("button",{onClick:()=>f("contact"),className:"text-sm font-medium text-gray-600 hover:text-emerald-600 transition-colors",children:"Contact"})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:e?.username}),n.jsx("p",{className:"text-xs text-gray-500",children:e?.role?.replace(/_/g," ")||"User"})]}),n.jsx("button",{onClick:t,className:"px-4 py-2 bg-gradient-to-r from-gray-900 to-gray-800 text-white text-sm font-medium rounded-xl hover:shadow-lg hover:-translate-y-0.5 transform transition-all duration-200",children:"Logout"})]})]})]})}),n.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n.jsxs("section",{className:"relative mb-16 overflow-hidden rounded-3xl",children:[n.jsxs("div",{className:`absolute inset-0 transition-all duration-1000 transform ${l?"scale-110":"scale-100"}`,children:[n.jsx("img",{src:x8,alt:"Agriculture landscape",className:"w-full h-[500px] object-cover",onLoad:()=>o(!0)}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-emerald-900/90 via-emerald-800/70 to-transparent"})]}),n.jsx("div",{className:"relative z-10 p-8 md:p-12 lg:p-16 h-[500px] flex flex-col justify-center",children:n.jsxs("div",{className:`transform transition-all duration-700 delay-300 ${l?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,children:[n.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full bg-white/20 backdrop-blur-sm text-emerald-100 text-xs font-medium mb-6",children:[n.jsx(vg,{className:"w-3 h-3 mr-2"}),"PLANNING & PERFORMANCE MANAGEMENT SYSTEM"]}),n.jsxs("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-white mb-4 leading-tight",children:["Transforming Agriculture",n.jsx("br",{}),n.jsx("span",{className:"text-emerald-200",children:"Through Data-Driven Excellence"})]}),n.jsx("p",{className:"text-lg text-emerald-50/90 mb-8 max-w-2xl",children:"Empowering sustainable agricultural growth through intelligent planning, real-time performance tracking, and transparent accountability across all levels."}),n.jsxs("div",{className:"flex flex-wrap gap-4",children:[n.jsxs("button",{onClick:()=>f("features"),className:"group px-6 py-3 bg-white text-emerald-900 rounded-xl font-semibold hover:shadow-2xl hover:-translate-y-1 transform transition-all duration-300 flex items-center",children:["Explore Features",n.jsx(S8,{className:"w-4 h-4 ml-2 group-hover:translate-x-1 transition-transform"})]}),n.jsx("button",{onClick:()=>f("contact"),className:"px-6 py-3 border-2 border-white/40 text-white rounded-xl font-semibold hover:bg-white/10 hover:border-white/60 transition-all duration-300",children:"Get Started"})]})]})})]}),n.jsxs("section",{id:"features",className:"mb-16",children:[n.jsxs("div",{className:"text-center mb-12",children:[n.jsxs("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:["Everything You Need for ",n.jsx("span",{className:"text-emerald-600",children:"Effective Planning"})]}),n.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Our platform provides comprehensive tools to streamline agricultural planning, monitoring, and evaluation processes"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:u.map((m,h)=>n.jsxs("div",{className:`relative p-6 rounded-2xl border transition-all duration-500 cursor-pointer ${r===h?"bg-gradient-to-br "+m.color+" text-white shadow-2xl transform -translate-y-2":"bg-white hover:shadow-lg"}`,onMouseEnter:()=>a(h),children:[n.jsx("div",{className:`mb-4 p-3 rounded-xl w-fit ${r===h?"bg-white/20":"bg-emerald-50"}`,children:m.icon}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:m.title}),n.jsx("p",{className:`text-sm ${r===h?"text-white/90":"text-gray-600"}`,children:m.description}),n.jsx(nr,{className:`absolute right-6 bottom-6 w-5 h-5 ${r===h?"opacity-100":"opacity-0"} transition-opacity`})]},h))}),n.jsx("div",{className:"bg-gradient-to-r bg-[#453D36] rounded-3xl p-8 text-white",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 items-center",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-2xl font-bold mb-4",children:u[r].title}),n.jsx("p",{className:"text-emerald-100/90 mb-6",children:u[r].description}),n.jsxs("div",{className:"flex gap-4 mb-6",children:[n.jsxs("div",{className:"flex-1 bg-white/10 rounded-xl p-4",children:[n.jsx("div",{className:"text-2xl font-bold",children:"98%"}),n.jsx("div",{className:"text-sm text-emerald-200/80",children:"Accuracy Rate"})]}),n.jsxs("div",{className:"flex-1 bg-white/10 rounded-xl p-4",children:[n.jsx("div",{className:"text-2xl font-bold",children:"24/7"}),n.jsx("div",{className:"text-sm text-emerald-200/80",children:"Real-time Monitoring"})]})]}),n.jsx("button",{className:"px-6 py-3 bg-white text-emerald-900 rounded-xl font-semibold hover:shadow-lg transition-shadow",children:"Learn More"})]}),n.jsx("div",{className:"relative",children:n.jsxs("div",{className:"bg-white/5 backdrop-blur-sm rounded-2xl p-6 border border-white/10",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-emerald-200/80",children:"Current Feature"}),n.jsx("div",{className:"text-xl font-bold",children:u[r].title})]}),n.jsx("div",{className:"flex space-x-2",children:u.map((m,h)=>n.jsx("button",{onClick:()=>a(h),className:`w-2 h-2 rounded-full ${r===h?"bg-white":"bg-white/30"}`},h))})]}),n.jsx("div",{className:"space-y-4",children:[1,2,3].map(m=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-lg",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(mr,{className:"w-4 h-4 text-emerald-400 mr-3"}),n.jsxs("span",{children:["Feature Benefit ",m]})]}),n.jsxs("div",{className:"text-emerald-300",children:["+",m*25,"%"]})]},m))})]})})]})})]}),n.jsx("section",{id:"about",className:"mb-16 bg-white rounded-3xl shadow-xl border border-emerald-100 overflow-hidden",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2",children:[n.jsxs("div",{className:"p-10",children:[n.jsx("h3",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Transforming Agricultural Planning"}),n.jsxs("div",{className:"space-y-4 text-gray-600 mb-8",children:[n.jsx("p",{children:"Our platform serves as the central nervous system for the Ministry of Agriculture's strategic planning and performance management. We bridge the gap between policy objectives and on-ground implementation through data-driven insights."}),n.jsx("p",{children:"By consolidating sector plans, annual targets, and performance reports, we create a single source of truth that empowers stakeholders at every levelfrom field officers to ministers."})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[n.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 to-green-50 rounded-2xl p-5 border border-emerald-100",children:[n.jsx("div",{className:"text-2xl font-bold text-emerald-700 mb-2",children:"360"}),n.jsx("div",{className:"text-sm font-semibold text-emerald-800 mb-1",children:"Transparency"}),n.jsx("p",{className:"text-xs text-gray-600",children:"Complete visibility across all departments and projects"})]}),n.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-cyan-50 rounded-2xl p-5 border border-blue-100",children:[n.jsx("div",{className:"text-2xl font-bold text-blue-700 mb-2",children:"100%"}),n.jsx("div",{className:"text-sm font-semibold text-blue-800 mb-1",children:"Alignment"}),n.jsx("p",{className:"text-xs text-gray-600",children:"Direct linkage with national agricultural priorities"})]}),n.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 rounded-2xl p-5 border border-purple-100",children:[n.jsx("div",{className:"text-2xl font-bold text-purple-700 mb-2",children:"24/7"}),n.jsx("div",{className:"text-sm font-semibold text-purple-800 mb-1",children:"Accountability"}),n.jsx("p",{className:"text-xs text-gray-600",children:"Continuous monitoring and follow-up capabilities"})]})]})]}),n.jsxs("div",{className:"relative min-h-[400px] bg-gradient-to-br from-emerald-600 to-green-700",children:[n.jsx("div",{className:"absolute inset-0 bg-grid-pattern opacity-10"}),n.jsx("div",{className:"relative h-full p-10 flex flex-col justify-center text-emerald-50",children:n.jsxs("div",{className:"mb-8",children:[n.jsx("h4",{className:"text-xl font-bold mb-4",children:"Core Capabilities"}),n.jsxs("ul",{className:"space-y-4",children:[n.jsxs("li",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"mt-1 w-6 h-6 rounded-full bg-emerald-500 flex items-center justify-center",children:n.jsx(mr,{className:"w-3 h-3"})}),n.jsx("span",{children:"Multi-year strategic planning with dynamic forecasting"})]}),n.jsxs("li",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"mt-1 w-6 h-6 rounded-full bg-emerald-500 flex items-center justify-center",children:n.jsx(mr,{className:"w-3 h-3"})}),n.jsx("span",{children:"Real-time performance dashboards with drill-down capabilities"})]}),n.jsxs("li",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"mt-1 w-6 h-6 rounded-full bg-emerald-500 flex items-center justify-center",children:n.jsx(mr,{className:"w-3 h-3"})}),n.jsx("span",{children:"Automated reporting and compliance monitoring"})]}),n.jsxs("li",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"mt-1 w-6 h-6 rounded-full bg-emerald-500 flex items-center justify-center",children:n.jsx(mr,{className:"w-3 h-3"})}),n.jsx("span",{children:"Predictive analytics for risk assessment and opportunity identification"})]})]})]})})]})]})}),n.jsx("section",{id:"contact",className:"mb-8 rounded-3xl bg-gradient-to-r from-emerald-600 via-emerald-700 to-emerald-800 overflow-hidden shadow-2xl",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2",children:[n.jsxs("div",{className:"p-10 lg:p-12",children:[n.jsx("h3",{className:"text-3xl font-bold text-white mb-6",children:"Get in Touch"}),n.jsx("p",{className:"text-emerald-50/90 mb-8 text-lg",children:"Our dedicated support team is here to help you maximize the platform's potential for your agricultural planning needs."}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"p-3 bg-white/10 rounded-xl",children:n.jsx(lR,{className:"w-6 h-6 text-emerald-200"})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-semibold text-emerald-200 mb-1",children:"Email"}),n.jsx("div",{className:"text-white",children:"planning.performance@moa.gov"})]})]}),n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"p-3 bg-white/10 rounded-xl",children:n.jsx(uR,{className:"w-6 h-6 text-emerald-200"})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-semibold text-emerald-200 mb-1",children:"Phone"}),n.jsx("div",{className:"text-white",children:"+251-000-000-000"})]})]}),n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"p-3 bg-white/10 rounded-xl",children:n.jsx(Pl,{className:"w-6 h-6 text-emerald-200"})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-semibold text-emerald-200 mb-1",children:"Working Hours"}),n.jsx("div",{className:"text-white",children:"Monday  Friday, 8:30 am  5:30 pm"})]})]})]}),n.jsx("button",{className:"mt-8 px-8 py-3 bg-white text-emerald-900 rounded-xl font-semibold hover:shadow-2xl hover:-translate-y-1 transform transition-all duration-300",children:"Contact Support"})]}),n.jsx("div",{className:"bg-gradient-to-br from-emerald-700/20 to-emerald-900/20 p-10 lg:p-12 border-l border-emerald-500/20",children:n.jsxs("div",{className:"bg-white/5 backdrop-blur-sm rounded-2xl border border-emerald-500/20 p-8",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[n.jsx(ff,{className:"w-6 h-6 text-emerald-300"}),n.jsx("h4",{className:"text-xl font-semibold text-white",children:"Important Notice"})]}),n.jsxs("div",{className:"space-y-4 text-emerald-50/90",children:[n.jsx("p",{children:"This is a secure internal system for Ministry of Agriculture personnel only. All data is encrypted and access is strictly controlled."}),n.jsxs("div",{className:"bg-white/5 rounded-xl p-4",children:[n.jsx("p",{className:"text-sm font-medium text-emerald-200 mb-2",children:"Security Guidelines:"}),n.jsxs("ul",{className:"text-sm space-y-2",children:[n.jsxs("li",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-emerald-400"}),"Never share your login credentials"]}),n.jsxs("li",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-emerald-400"}),"Log out after each session"]}),n.jsxs("li",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-emerald-400"}),"Report suspicious activity immediately"]})]})]}),n.jsx("p",{className:"text-sm text-emerald-200/80 pt-4 border-t border-emerald-500/20",children:"For urgent technical support, please include your username and a detailed description of the issue in your communication."})]})]})})]})})]}),n.jsx("footer",{className:"bg-gray-900 text-gray-400 py-8",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-4 md:mb-0",children:[n.jsx("div",{className:"bg-emerald-600 w-8 h-8 rounded-lg flex items-center justify-center",children:n.jsx(yg,{className:"w-5 h-5 text-white"})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-white font-bold",children:"AgriPerformance"}),n.jsx("div",{className:"text-xs",children:"Ministry of Agriculture"})]})]}),n.jsxs("div",{className:"text-sm",children:[" ",new Date().getFullYear()," Planning & Performance Platform. All rights reserved."]}),n.jsxs("div",{className:"flex space-x-6 mt-4 md:mt-0",children:[n.jsx("button",{className:"text-sm hover:text-white transition-colors",children:"Privacy Policy"}),n.jsx("button",{className:"text-sm hover:text-white transition-colors",children:"Terms of Use"}),n.jsx("button",{className:"text-sm hover:text-white transition-colors",children:"Accessibility"})]})]})})}),n.jsx("style",{children:`
        .bg-grid-pattern {
          background-image: 
            linear-gradient(to right, rgba(255,255,255,0.1) 1px, transparent 1px),
            linear-gradient(to bottom, rgba(255,255,255,0.1) 1px, transparent 1px);
          background-size: 20px 20px;
        }
      `})]})}function kR(){const{user:e}=St(),t=!!e?.is_superuser,[r,a]=v.useState([]),[l,o]=v.useState([]),[u,f]=v.useState(""),[m,h]=v.useState(!1),[p,x]=v.useState(null),[b,j]=v.useState(null),[w,N]=v.useState(null),[S,E]=v.useState(""),[O,_]=v.useState(!1),[T,k]=v.useState("id"),[L,$]=v.useState("asc"),G=async()=>{try{h(!0),x(null);const z=await Se.get("/api/sectors/");a(z.data),o(z.data)}catch(z){x(z?.response?.data?.detail||"Failed to load sectors")}finally{h(!1)}};v.useEffect(()=>{G()},[]),v.useEffect(()=>{let z=[...r];if(S.trim()){const Y=S.toLowerCase();z=z.filter(C=>C.name.toLowerCase().includes(Y)||C.id.toString().includes(Y))}z.sort((Y,C)=>{let V,ae;return T==="id"?(V=Y.id,ae=C.id):(V=Y.name.toLowerCase(),ae=C.name.toLowerCase()),L==="asc"?V<ae?-1:V>ae?1:0:V>ae?-1:V<ae?1:0}),o(z)},[r,S,T,L]);const J=async z=>{z.preventDefault(),x(null),j(null),_(!0);try{w?(await Se.put(`/api/sectors/${w.id}/`,{name:u}),j(`Sector "${u}" updated successfully!`)):(await Se.post("/api/sectors/",{name:u}),j(`Sector "${u}" created successfully!`)),f(""),N(null),G(),setTimeout(()=>j(null),3e3)}catch(Y){x(Y?.response?.data?.detail||"Save failed")}finally{_(!1)}},ue=z=>{N(z),f(z.name),document.getElementById("sector-form")?.scrollIntoView({behavior:"smooth"})},F=async z=>{if(window.confirm(`Are you sure you want to delete "${z.name}"? This action cannot be undone.`))try{await Se.delete(`/api/sectors/${z.id}/`),j(`Sector "${z.name}" deleted successfully!`),G(),setTimeout(()=>j(null),3e3)}catch(Y){x(Y?.response?.data?.detail||"Delete failed")}},q=()=>{N(null),f("")},fe=z=>{T===z?$(L==="asc"?"desc":"asc"):(k(z),$("asc"))};return n.jsx("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-white p-4 md:p-6 lg:p-8",children:n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsxs("div",{className:"mb-8",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 mb-8",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"p-3 bg-gradient-to-br from-emerald-500 to-green-600 rounded-xl shadow-lg",children:n.jsx(Ep,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"State Minister Sectors"}),n.jsx("p",{className:"text-gray-600 mt-2",children:"Manage agricultural sectors organized under state ministers"})]})]}),t&&n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsxs("div",{className:"px-3 py-1 bg-emerald-100 text-emerald-800 rounded-full font-medium",children:[r.length," ",r.length===1?"Sector":"Sectors"]}),r.length>0&&n.jsxs("div",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full font-medium",children:[new Date().getFullYear()," Active"]})]})]}),n.jsx("div",{className:"mb-8",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(zr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search sectors by name or ID...",value:S,onChange:z=>E(z.target.value),className:"w-full pl-10 pr-4 py-3 bg-white border border-gray-200 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 shadow-sm transition-all duration-200"}),S&&n.jsx("button",{onClick:()=>E(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:n.jsx(Xe,{className:"w-4 h-4"})})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{onClick:()=>fe("id"),className:`flex items-center gap-2 px-4 py-3 rounded-xl font-medium transition-all duration-200 ${T==="id"?"bg-blue-100 text-blue-700 border border-blue-300":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["Sort by ID",T==="id"&&n.jsx("span",{className:"text-xs",children:L==="asc"?"":""})]}),n.jsxs("button",{onClick:()=>fe("name"),className:`flex items-center gap-2 px-4 py-3 rounded-xl font-medium transition-all duration-200 ${T==="name"?"bg-blue-100 text-blue-700 border border-blue-300":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["Sort by Name",T==="name"&&n.jsx("span",{className:"text-xs",children:L==="asc"?"":""})]})]})]})})]}),t&&n.jsx("div",{id:"sector-form",className:"mb-8",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6 md:p-8",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[n.jsx("div",{className:`p-2 rounded-lg ${w?"bg-amber-100":"bg-emerald-100"}`,children:w?n.jsx(Lr,{className:"w-5 h-5 text-amber-600"}):n.jsx(Sr,{className:"w-5 h-5 text-emerald-600"})}),n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:w?"Edit Sector":"Create New Sector"})]}),n.jsxs("form",{onSubmit:J,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Sector Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{value:u,onChange:z=>f(z.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 shadow-sm transition-all duration-200",placeholder:"e.g., Agriculture and Horticulture Development Sector",required:!0,disabled:O}),n.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Enter the complete name of the state minister sector"})]}),n.jsxs("div",{className:"flex flex-wrap gap-3 pt-4",children:[n.jsx("button",{type:"submit",disabled:O||!u.trim(),className:`flex items-center gap-2 px-6 py-3 rounded-xl font-medium text-white transition-all duration-200 ${O||!u.trim()?"bg-gray-400 cursor-not-allowed":w?"bg-amber-600 hover:bg-amber-700 hover:shadow-lg":"bg-gradient-to-r from-emerald-600 to-green-600 hover:from-emerald-700 hover:to-green-700 hover:shadow-lg"}`,children:O?n.jsxs(n.Fragment,{children:[n.jsx(Fn,{className:"w-4 h-4 animate-spin"}),"Processing..."]}):w?n.jsxs(n.Fragment,{children:[n.jsx(Yc,{className:"w-4 h-4"}),"Update Sector"]}):n.jsxs(n.Fragment,{children:[n.jsx(Sr,{className:"w-4 h-4"}),"Create Sector"]})}),w&&n.jsxs("button",{type:"button",onClick:q,disabled:O,className:"flex items-center gap-2 px-6 py-3 border border-gray-300 text-gray-700 rounded-xl font-medium hover:bg-gray-50 transition-all duration-200",children:[n.jsx(Xe,{className:"w-4 h-4"}),"Cancel Edit"]})]})]})]})}),n.jsxs("div",{className:"space-y-4 mb-8",children:[p&&n.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 flex items-start gap-3 animate-fade-in",children:[n.jsx(Jr,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),n.jsx("div",{className:"text-sm text-red-700",children:p}),n.jsx("button",{onClick:()=>x(null),className:"ml-auto text-red-400 hover:text-red-600",children:n.jsx(Xe,{className:"w-4 h-4"})})]}),b&&n.jsxs("div",{className:"bg-emerald-50 border border-emerald-200 rounded-xl p-4 flex items-start gap-3 animate-fade-in",children:[n.jsx(mr,{className:"w-5 h-5 text-emerald-500 flex-shrink-0 mt-0.5"}),n.jsx("div",{className:"text-sm text-emerald-700",children:b}),n.jsx("button",{onClick:()=>j(null),className:"ml-auto text-emerald-400 hover:text-emerald-600",children:n.jsx(Xe,{className:"w-4 h-4"})})]})]}),n.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden",children:[n.jsx("div",{className:"hidden lg:block overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-gradient-to-r from-gray-50 to-gray-100 border-b",children:[n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:n.jsxs("button",{onClick:()=>fe("id"),className:"flex items-center gap-2 hover:text-gray-900 transition-colors",children:["ID",T==="id"&&n.jsx("span",{className:"text-xs",children:L==="asc"?"":""})]})}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:n.jsxs("button",{onClick:()=>fe("name"),className:"flex items-center gap-2 hover:text-gray-900 transition-colors",children:["Sector Name",T==="name"&&n.jsx("span",{className:"text-xs",children:L==="asc"?"":""})]})}),t&&n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider w-48",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-100",children:m?n.jsx("tr",{children:n.jsx("td",{colSpan:t?3:2,className:"px-6 py-12 text-center",children:n.jsxs("div",{className:"flex flex-col items-center justify-center",children:[n.jsx(Fn,{className:"w-8 h-8 text-emerald-600 animate-spin mb-3"}),n.jsx("p",{className:"text-gray-600",children:"Loading sectors..."})]})})}):l.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:t?3:2,className:"px-6 py-12 text-center",children:n.jsxs("div",{className:"flex flex-col items-center justify-center",children:[n.jsx(Ep,{className:"w-12 h-12 text-gray-300 mb-3"}),n.jsx("p",{className:"text-gray-500 font-medium mb-1",children:S?"No matching sectors found":"No sectors available"}),n.jsx("p",{className:"text-gray-400 text-sm",children:S?"Try a different search term":t?"Create your first sector using the form above":"No sectors have been created yet"})]})})}):l.map(z=>n.jsxs("tr",{className:"group hover:bg-gray-50 transition-all duration-200",children:[n.jsx("td",{className:"px-6 py-4",children:n.jsx("span",{className:"inline-flex items-center justify-center w-10 h-10 bg-emerald-100 text-emerald-800 rounded-xl font-bold text-lg shadow-sm",children:z.id})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-full"}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-900 font-medium",children:z.name}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"State Minister Sector"})]})]})}),t&&n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:[n.jsxs("button",{onClick:()=>ue(z),className:"flex items-center gap-2 px-3 py-2 bg-blue-50 text-blue-700 rounded-lg hover:bg-blue-100 transition-colors duration-200",children:[n.jsx(Lr,{className:"w-3.5 h-3.5"}),n.jsx("span",{className:"text-sm font-medium",children:"Edit"})]}),n.jsxs("button",{onClick:()=>F(z),className:"flex items-center gap-2 px-3 py-2 bg-red-50 text-red-700 rounded-lg hover:bg-red-100 transition-colors duration-200",children:[n.jsx(Dn,{className:"w-3.5 h-3.5"}),n.jsx("span",{className:"text-sm font-medium",children:"Delete"})]})]})})]},z.id))})]})}),n.jsx("div",{className:"lg:hidden",children:m?n.jsxs("div",{className:"p-8 text-center",children:[n.jsx(Fn,{className:"w-8 h-8 text-emerald-600 animate-spin mx-auto mb-3"}),n.jsx("p",{className:"text-gray-600",children:"Loading sectors..."})]}):l.length===0?n.jsxs("div",{className:"p-8 text-center",children:[n.jsx(Ep,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),n.jsx("p",{className:"text-gray-500 font-medium mb-1",children:S?"No matching sectors found":"No sectors available"}),n.jsx("p",{className:"text-gray-400 text-sm",children:S?"Try a different search term":t?"Create your first sector using the form above":"No sectors have been created yet"})]}):n.jsx("div",{className:"p-4 space-y-4",children:l.map(z=>n.jsxs("div",{className:"bg-gray-50 rounded-xl p-5 border border-gray-200 hover:border-emerald-300 transition-all duration-200",children:[n.jsxs("div",{className:"flex items-start justify-between mb-3",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-3 h-3 bg-emerald-500 rounded-full"}),n.jsx("span",{className:"inline-flex items-center justify-center w-10 h-10 bg-white text-emerald-800 rounded-xl font-bold shadow-sm border",children:z.id})]}),t&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:()=>ue(z),className:"p-2 bg-blue-50 text-blue-700 rounded-lg hover:bg-blue-100 transition-colors",title:"Edit",children:n.jsx(Lr,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>F(z),className:"p-2 bg-red-50 text-red-700 rounded-lg hover:bg-red-100 transition-colors",title:"Delete",children:n.jsx(Dn,{className:"w-4 h-4"})})]})]}),n.jsx("h3",{className:"text-gray-900 font-medium text-sm mb-2",children:"Sector Name"}),n.jsx("p",{className:"text-gray-700 font-semibold text-base leading-relaxed mb-3",children:z.name}),n.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[n.jsx(qA,{className:"w-3 h-3"}),n.jsx("span",{children:"State Minister Sector"})]})]},z.id))})}),!m&&l.length>0&&n.jsx("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-100",children:n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[n.jsxs("p",{className:"text-sm text-gray-600",children:["Showing ",n.jsx("span",{className:"font-semibold",children:l.length})," of"," ",n.jsx("span",{className:"font-semibold",children:r.length})," sectors"]}),S&&n.jsxs("button",{onClick:()=>E(""),className:"text-sm text-emerald-600 hover:text-emerald-700 font-medium flex items-center gap-1",children:[n.jsx(Xe,{className:"w-3 h-3"}),"Clear search"]})]})})]}),n.jsx("div",{className:"mt-8 bg-gradient-to-r from-blue-50 to-cyan-50 rounded-2xl p-6 border border-blue-100",children:n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"p-3 bg-blue-100 rounded-xl",children:n.jsx(ff,{className:"w-6 h-6 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"About State Minister Sectors"}),n.jsx("p",{className:"text-gray-600 text-sm mb-3",children:"State Minister Sectors represent the main organizational units under the Ministry of Agriculture. Each sector focuses on specific agricultural domains and is managed by designated state ministers. These sectors form the foundation for planning, monitoring, and reporting agricultural activities."}),n.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-full"}),n.jsx("span",{children:"Organizational Units"})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(_r,{className:"w-3 h-3"}),n.jsx("span",{children:"Annual Planning Basis"})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Xa,{className:"w-3 h-3"}),n.jsx("span",{children:"Performance Tracking"})]})]})]})]})})]})})}function TR(){const{user:e}=St(),t=!!e?.is_superuser,[r,a]=v.useState([]),[l,o]=v.useState([]),[u,f]=v.useState(""),[m,h]=v.useState(""),[p,x]=v.useState(!1),[b,j]=v.useState(null),[w,N]=v.useState(null),[S,E]=v.useState(""),[O,_]=v.useState(!1),[T,k]=v.useState(""),L=async()=>{try{x(!0);const[Y,C]=await Promise.all([Se.get("/api/departments/"),Se.get("/api/sectors/")]);a(Y.data),o(C.data)}catch(Y){const C=Y?.userMessage||la(Y,"Failed to load data");j(C)}finally{x(!1)}};v.useEffect(()=>{L()},[]);const $=async Y=>{if(Y.preventDefault(),j(null),!m){j("Please select a sector");return}try{const C={name:u,sector_id:m};w?await Se.put(`/api/departments/${w.id}/`,C):await Se.post("/api/departments/",C),f(""),h(""),N(null),L()}catch(C){const V=C?.userMessage||la(C,"Save failed");j(V)}},G=Y=>{N(Y),f(Y.name),h(Y.sector.id)},J=async Y=>{if(confirm(`Delete department "${Y.name}"? This action cannot be undone.`))try{await Se.delete(`/api/departments/${Y.id}/`),L()}catch(C){const V=C?.userMessage||la(C,"Delete failed");j(V)}},ue=()=>{N(null),f(""),h(""),j(null)},F=()=>{E(""),k("")},q=r.filter(Y=>{const C=S===""||Y.name.toLowerCase().includes(S.toLowerCase())||Y.sector?.name.toLowerCase().includes(S.toLowerCase()),V=T===""||Y.sector?.id===T;return C&&V}),fe=S!==""||T!=="",z=l.reduce((Y,C)=>(Y[C.id]=r.filter(V=>V.sector?.id===C.id).length,Y),{});return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 p-4 md:p-6",children:n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsxs("div",{className:"mb-8",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 mb-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Departments"}),n.jsx("p",{className:"text-gray-600 mt-2",children:"Manage departments across different sectors and organizations"})]}),t&&n.jsxs("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"inline-flex items-center gap-2 px-4 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-xl hover:from-blue-700 hover:to-indigo-700 transition-all duration-200 shadow-lg hover:shadow-xl",children:[n.jsx(Sr,{className:"w-5 h-5"}),"Add New Department"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[n.jsx("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 shadow-sm",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Departments"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-2",children:r.length})]}),n.jsx("div",{className:"p-3 bg-blue-100 rounded-xl",children:n.jsx(ct,{className:"w-6 h-6 text-blue-600"})})]})}),n.jsx("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 shadow-sm",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Sectors"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-2",children:l.length})]}),n.jsx("div",{className:"p-3 bg-emerald-100 rounded-xl",children:n.jsx(pt,{className:"w-6 h-6 text-emerald-600"})})]})}),n.jsx("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 shadow-sm",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Filters"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-2",children:fe?1:0}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:fe?"Filters applied":"No filters"})]}),n.jsx("div",{className:"p-3 bg-amber-100 rounded-xl",children:n.jsx(Xa,{className:"w-6 h-6 text-amber-600"})})]})})]}),n.jsxs("div",{className:"space-y-4 mb-6",children:[n.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(zr,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),n.jsx("input",{type:"text",placeholder:"Search departments by name or sector...",value:S,onChange:Y=>E(Y.target.value),className:"w-full pl-12 pr-4 py-3 bg-white border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 shadow-sm"})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-64",children:n.jsxs("div",{className:"relative",children:[n.jsxs("select",{value:T,onChange:Y=>k(Y.target.value?Number(Y.target.value):""),className:"w-full pl-12 pr-4 py-3 bg-white border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 shadow-sm appearance-none",children:[n.jsx("option",{value:"",children:"All Sectors"}),l.map(Y=>n.jsxs("option",{value:Y.id,children:[Y.name," (",z[Y.id]||0,")"]},Y.id))]}),n.jsx("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2",children:n.jsx(pt,{className:"w-5 h-5 text-gray-400"})}),n.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:n.jsx(Wr,{className:"w-4 h-4 text-gray-400"})})]})}),fe&&n.jsxs("button",{onClick:F,className:"inline-flex items-center gap-2 px-4 py-3 text-gray-700 bg-gray-100 rounded-xl hover:bg-gray-200 transition-colors duration-200",children:[n.jsx(Xe,{className:"w-4 h-4"}),"Clear All"]})]})]}),fe&&n.jsxs("div",{className:"flex flex-wrap gap-2",children:[S&&n.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1.5 bg-blue-100 text-blue-800 text-sm rounded-full",children:[n.jsx(zr,{className:"w-3 h-3"}),'Search: "',S,'"',n.jsx("button",{onClick:()=>E(""),className:"text-blue-600 hover:text-blue-800 ml-1",children:n.jsx(Xe,{className:"w-3 h-3"})})]}),T!==""&&n.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1.5 bg-emerald-100 text-emerald-800 text-sm rounded-full",children:[n.jsx(pt,{className:"w-3 h-3"}),"Sector: ",l.find(Y=>Y.id===T)?.name,n.jsx("button",{onClick:()=>k(""),className:"text-emerald-600 hover:text-emerald-800 ml-1",children:n.jsx(Xe,{className:"w-3 h-3"})})]})]})]})]}),t&&n.jsxs("div",{className:"mb-8 bg-white rounded-2xl border border-gray-200 shadow-lg p-6 transition-all duration-300 hover:shadow-xl",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[n.jsx("div",{className:`p-2 rounded-lg ${w?"bg-yellow-100":"bg-blue-100"}`,children:w?n.jsx(Lr,{className:"w-5 h-5 text-yellow-600"}):n.jsx(Sr,{className:"w-5 h-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-lg text-gray-900",children:w?`Editing "${w.name}"`:"Create New Department"}),n.jsx("p",{className:"text-sm text-gray-600",children:w?"Update the department details below":"Fill in the details to create a new department"})]})]}),n.jsxs("form",{onSubmit:$,className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(C8,{className:"inline w-4 h-4 mr-1"}),"Department Name"]}),n.jsx("input",{value:u,onChange:Y=>f(Y.target.value),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"e.g., Livestock Department",required:!0})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(pt,{className:"inline w-4 h-4 mr-1"}),"Sector *"]}),n.jsxs("div",{className:"relative",children:[n.jsxs("select",{value:m,onChange:Y=>h(Y.target.value?Number(Y.target.value):""),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 appearance-none bg-white",required:!0,children:[n.jsx("option",{value:"",children:"Select sector"}),l.map(Y=>n.jsx("option",{value:Y.id,children:Y.name},Y.id))]}),n.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:n.jsx(Wr,{className:"w-4 h-4 text-gray-400"})})]})]})]}),b&&n.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Jr,{className:"w-5 h-5 text-red-500"}),n.jsx("p",{className:"text-sm text-red-600",children:b})]})}),n.jsxs("div",{className:"flex gap-3 pt-4",children:[n.jsxs("button",{type:"submit",className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-xl hover:from-blue-700 hover:to-indigo-700 transition-all duration-200 shadow-lg hover:shadow-xl",children:[n.jsx(Yc,{className:"w-5 h-5"}),w?"Update Department":"Create Department"]}),w&&n.jsx("button",{type:"button",onClick:ue,className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors duration-200",children:"Cancel"})]})]})]}),n.jsx("div",{className:"mb-6",children:n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Departments (",q.length,")"]}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Showing ",q.length," of ",r.length," departments",fe&&" (filtered)"]})]}),n.jsxs("div",{className:"text-sm text-gray-600",children:["Sorted by name  ",l.length," sectors available"]})]})}),n.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-lg overflow-hidden",children:[n.jsx("div",{className:"hidden md:block overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gradient-to-r from-gray-50 to-gray-100 border-b border-gray-200",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"ID"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Department"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Sector"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200",children:p?n.jsx("tr",{children:n.jsx("td",{colSpan:4,className:"px-6 py-12 text-center",children:n.jsxs("div",{className:"flex flex-col items-center gap-3",children:[n.jsx("div",{className:"w-8 h-8 border-3 border-gray-300 border-t-blue-600 rounded-full animate-spin"}),n.jsx("p",{className:"text-gray-600",children:"Loading departments..."})]})})}):q.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:4,className:"px-6 py-12 text-center",children:n.jsxs("div",{className:"flex flex-col items-center gap-3",children:[n.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center",children:n.jsx(ct,{className:"w-6 h-6 text-gray-400"})}),n.jsx("p",{className:"text-gray-600 font-medium",children:r.length===0?"No departments created yet":"No departments match your filters"}),n.jsx("p",{className:"text-gray-500 text-sm",children:r.length===0?"Start by creating your first department":"Try adjusting your search or filters"})]})})}):q.map(Y=>n.jsxs("tr",{className:"hover:bg-blue-50/50 transition-colors duration-150 group",children:[n.jsx("td",{className:"px-6 py-4",children:n.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:["#",Y.id]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:n.jsx(ct,{className:"w-5 h-5 text-blue-600"})}),n.jsx("div",{children:n.jsx("p",{className:"font-medium text-gray-900",children:Y.name})})]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"p-1.5 bg-emerald-100 rounded-md",children:n.jsx(pt,{className:"w-4 h-4 text-emerald-600"})}),n.jsx("span",{className:"text-gray-700",children:Y.sector?.name})]})}),n.jsx("td",{className:"px-6 py-4",children:t&&n.jsxs("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:[n.jsx("button",{onClick:()=>G(Y),className:"inline-flex items-center gap-1 px-3 py-1.5 text-sm text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors duration-200",title:"Edit department",children:n.jsx(Lr,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>J(Y),className:"inline-flex items-center gap-1 px-3 py-1.5 text-sm text-white bg-red-500 rounded-lg hover:bg-red-600 transition-colors duration-200",title:"Delete department",children:n.jsx(Dn,{className:"w-4 h-4"})})]})})]},Y.id))})]})}),n.jsx("div",{className:"md:hidden",children:p?n.jsxs("div",{className:"p-8 text-center",children:[n.jsx("div",{className:"w-8 h-8 border-3 border-gray-300 border-t-blue-600 rounded-full animate-spin mx-auto mb-3"}),n.jsx("p",{className:"text-gray-600",children:"Loading departments..."})]}):q.length===0?n.jsxs("div",{className:"p-8 text-center",children:[n.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-3",children:n.jsx(ct,{className:"w-6 h-6 text-gray-400"})}),n.jsx("p",{className:"text-gray-600 font-medium",children:r.length===0?"No departments created yet":"No departments match your filters"}),n.jsx("p",{className:"text-gray-500 text-sm mt-1",children:r.length===0?"Start by creating your first department":"Try adjusting your search or filters"})]}):n.jsx("div",{className:"divide-y divide-gray-200",children:q.map(Y=>n.jsxs("div",{className:"p-4 hover:bg-gray-50 transition-colors duration-150",children:[n.jsx("div",{className:"flex items-start justify-between mb-3",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:n.jsx(ct,{className:"w-5 h-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:Y.name}),n.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[n.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:["ID: ",Y.id]}),n.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-emerald-100 text-emerald-800",children:Y.sector?.name})]})]})]})}),t&&n.jsxs("div",{className:"flex gap-2 mt-4 pt-3 border-t border-gray-200",children:[n.jsxs("button",{onClick:()=>G(Y),className:"flex-1 inline-flex items-center justify-center gap-1 px-3 py-2 text-sm text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors duration-200",children:[n.jsx(Lr,{className:"w-4 h-4"}),"Edit"]}),n.jsxs("button",{onClick:()=>J(Y),className:"flex-1 inline-flex items-center justify-center gap-1 px-3 py-2 text-sm text-white bg-red-500 rounded-lg hover:bg-red-600 transition-colors duration-200",children:[n.jsx(Dn,{className:"w-4 h-4"}),"Delete"]})]})]},Y.id))})})]}),r.length>0&&n.jsxs("div",{className:"mt-8 bg-white rounded-2xl border border-gray-200 shadow-lg p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Department Distribution by Sector"}),n.jsx("div",{className:"space-y-4",children:l.map(Y=>{const C=z[Y.id]||0,V=r.length>0?C/r.length*100:0;return n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(pt,{className:"w-4 h-4 text-gray-400"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:Y.name})]}),n.jsxs("div",{className:"text-sm text-gray-600",children:[C," department",C!==1?"s":""," (",V.toFixed(1),"%)"]})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-500",style:{width:`${V}%`}})})]},Y.id)})})]})]})})}function MR(){const{user:e}=St(),t=!!e?.is_superuser,[r,a]=v.useState([]),[l,o]=v.useState([]),[u,f]=v.useState([]),[m,h]=v.useState(""),[p,x]=v.useState(""),[b,j]=v.useState(""),[w,N]=v.useState(""),[S,E]=v.useState(""),[O,_]=v.useState([]),[T,k]=v.useState([]),[L,$]=v.useState(!1),[G,J]=v.useState(null),[ue,F]=v.useState(null),[q,fe]=v.useState(null),[z,Y]=v.useState(null),[C,V]=v.useState(1),[ae,ve]=v.useState(""),[ce,R]=v.useState(!1),[K,re]=v.useState({sector:"",department:"",hasGroup:""}),[W,le]=v.useState(!1),[Ne,Ae]=v.useState(!1),Ce=15,U=async()=>{try{$(!0),F(null);const[P,X,ne]=await Promise.all([Se.get("/api/indicators/"),Se.get("/api/departments/"),Se.get("/api/sectors/")]);a(P.data),o(X.data),f(ne.data)}catch(P){const X=P?.userMessage||la(P,"Failed to load data");F(X)}finally{$(!1)}};v.useEffect(()=>{U()},[]),v.useEffect(()=>{V(1)},[r.length]);const ge=v.useMemo(()=>r.filter(P=>{const X=ae===""||P.name.toLowerCase().includes(ae.toLowerCase())||P.description?.toLowerCase().includes(ae.toLowerCase())||P.department.name.toLowerCase().includes(ae.toLowerCase()),ne=K.sector===""||P.department.sector?.id.toString()===K.sector,_e=K.department===""||P.department.id.toString()===K.department,Re=K.hasGroup===""||(K.hasGroup==="yes"?P.groups&&P.groups.length>0:K.hasGroup==="no"?!P.groups||P.groups.length===0:!0);return X&&ne&&_e&&Re}),[r,ae,K]),Ee=v.useMemo(()=>Math.max(1,Math.ceil(ge.length/Ce)),[ge.length,Ce]),ye=v.useMemo(()=>ge.slice((C-1)*Ce,(C-1)*Ce+Ce),[ge,C,Ce]);v.useEffect(()=>{(async()=>{if(!S){_([]),k([]);return}try{const X=await Se.get("/api/indicator-groups",{params:{department:S}});_(X.data)}catch{_([])}})()},[S]);const ke=v.useMemo(()=>w?l.filter(P=>(P.sector?.id??null)===w):l,[l,w]),Oe=()=>{Y(null),h(""),x(""),j(""),N(""),E(""),k([]),J(null),le(!0)},te=()=>{Oe(),setTimeout(()=>{document.getElementById("indicator-form")?.scrollIntoView({behavior:"smooth",block:"start"})},100)},B=async P=>{if(P.preventDefault(),J(null),fe(null),!S){J("Please select a department");return}if(!m.trim()){J("Indicator name is required");return}Ae(!0);try{const X={name:m.trim(),unit:p.trim()||void 0,description:b.trim()||void 0,department_id:S,group_ids:T};z?(await Se.put(`/api/indicators/${z.id}/`,X),fe(`Indicator "${m}" updated successfully!`)):(await Se.post("/api/indicators/",X),fe(`Indicator "${m}" created successfully!`),Oe()),U(),setTimeout(()=>{fe(null)},4e3)}catch(X){const ne=X?.userMessage||la(X,"Save failed");J(ne)}finally{Ae(!1)}},he=P=>{Y(P),h(P.name),x(P.unit||""),j(P.description||"");const X=P.department?.sector?.id?Number(P.department.sector.id):"";N(X),E(P.department.id),k((P.groups||[]).map(ne=>ne.id)),le(!0),setTimeout(()=>{document.getElementById("indicator-form")?.scrollIntoView({behavior:"smooth",block:"start"})},100)},I=async P=>{if(confirm(`Are you sure you want to delete indicator "${P.name}"? This action cannot be undone.`))try{await Se.delete(`/api/indicators/${P.id}/`),fe(`Indicator "${P.name}" deleted successfully!`),U(),setTimeout(()=>{fe(null)},4e3)}catch(X){const ne=X?.userMessage||la(X,"Delete failed");F(ne)}},Z=()=>{ve(""),re({sector:"",department:"",hasGroup:""})},D=ae||K.sector||K.department||K.hasGroup;return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 p-4 md:p-6",children:[n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsxs("div",{className:"mb-8",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Indicators"}),n.jsx("p",{className:"text-gray-600 mt-2",children:"Manage and track performance indicators across departments"})]}),t&&n.jsxs("button",{onClick:te,className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-xl hover:from-blue-700 hover:to-indigo-700 transition-all duration-200 shadow-lg hover:shadow-xl font-medium",children:[n.jsx(Sr,{className:"w-5 h-5"}),"Add New Indicator"]})]}),q&&n.jsx("div",{className:"mb-6 animate-fade-in",children:n.jsxs("div",{className:"bg-emerald-50 border border-emerald-200 rounded-xl p-4 flex items-start gap-3",children:[n.jsx(mr,{className:"w-5 h-5 text-emerald-500 flex-shrink-0 mt-0.5"}),n.jsx("div",{className:"flex-1",children:n.jsx("p",{className:"text-sm font-medium text-emerald-800",children:q})}),n.jsx("button",{onClick:()=>fe(null),className:"text-emerald-500 hover:text-emerald-700",children:n.jsx(Xe,{className:"w-4 h-4"})})]})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(zr,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),n.jsx("input",{type:"text",placeholder:"Search indicators by name, description, or department...",value:ae,onChange:P=>ve(P.target.value),className:"w-full pl-12 pr-4 py-3 bg-white border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 shadow-sm"})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[n.jsxs("button",{onClick:()=>R(!ce),className:"inline-flex items-center gap-2 px-4 py-2.5 bg-white border border-gray-300 rounded-xl hover:bg-gray-50 transition-colors duration-200 shadow-sm",children:[n.jsx(Xa,{className:"w-4 h-4"}),"Filters",(K.sector||K.department||K.hasGroup)&&n.jsx("span",{className:"w-2 h-2 bg-blue-600 rounded-full"})]}),D&&n.jsxs("button",{onClick:Z,className:"inline-flex items-center gap-2 px-4 py-2.5 text-gray-700 bg-gray-100 rounded-xl hover:bg-gray-200 transition-colors duration-200",children:[n.jsx(Xe,{className:"w-4 h-4"}),"Clear All"]})]}),ce&&n.jsx("div",{className:"bg-white p-6 rounded-2xl border border-gray-200 shadow-lg",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sector"}),n.jsxs("select",{value:K.sector,onChange:P=>re({...K,sector:P.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",children:[n.jsx("option",{value:"",children:"All Sectors"}),u.map(P=>n.jsx("option",{value:P.id,children:P.name},P.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Department"}),n.jsxs("select",{value:K.department,onChange:P=>re({...K,department:P.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",children:[n.jsx("option",{value:"",children:"All Departments"}),l.map(P=>n.jsx("option",{value:P.id,children:P.name},P.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Has Groups"}),n.jsxs("select",{value:K.hasGroup,onChange:P=>re({...K,hasGroup:P.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",children:[n.jsx("option",{value:"",children:"All"}),n.jsx("option",{value:"yes",children:"With Groups"}),n.jsx("option",{value:"no",children:"Without Groups"})]})]})]})})]})]}),t&&n.jsxs("div",{id:"indicator-form",className:`mb-8 bg-white rounded-2xl border border-gray-200 shadow-lg p-6 transition-all duration-300 ${W?"block":"hidden"}`,children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`p-2 rounded-lg ${z?"bg-yellow-100":"bg-blue-100"}`,children:z?n.jsx(Lr,{className:"w-5 h-5 text-yellow-600"}):n.jsx(Sr,{className:"w-5 h-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-lg text-gray-900",children:z?`Editing "${z.name}"`:"Create New Indicator"}),n.jsx("p",{className:"text-sm text-gray-600",children:z?"Update the indicator details below":"Fill in the details to create a new indicator"})]})]}),n.jsx("button",{onClick:()=>le(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:n.jsx(Xe,{className:"w-5 h-5 text-gray-500"})})]}),n.jsxs("form",{onSubmit:B,className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(bg,{className:"inline w-4 h-4 mr-1"}),"Indicator Name *"]}),n.jsx("input",{value:m,onChange:P=>h(P.target.value),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"e.g., Fishery per square area",required:!0,disabled:Ne})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(jR,{className:"inline w-4 h-4 mr-1"}),"Unit"]}),n.jsx("input",{value:p,onChange:P=>x(P.target.value),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"e.g., tons, %, km",disabled:Ne})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(ct,{className:"inline w-4 h-4 mr-1"}),"Sector"]}),n.jsxs("select",{value:w,onChange:P=>{const X=P.target.value?Number(P.target.value):"";N(X),E(""),k([])},className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",disabled:Ne,children:[n.jsx("option",{value:"",children:"All sectors"}),u.map(P=>n.jsx("option",{value:P.id,children:P.name},P.id))]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(ct,{className:"inline w-4 h-4 mr-1"}),"Department *"]}),n.jsxs("select",{value:S,onChange:P=>E(P.target.value?Number(P.target.value):""),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",required:!0,disabled:Ne,children:[n.jsx("option",{value:"",children:"Select department"}),ke.map(P=>n.jsx("option",{value:P.id,children:P.name},P.id))]})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(pt,{className:"inline w-4 h-4 mr-1"}),"Groups (optional)"]}),n.jsx("select",{multiple:!0,value:T.map(String),onChange:P=>{const X=Array.from(P.target.selectedOptions).map(ne=>Number(ne.value));k(X)},className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 min-h-[120px]",disabled:!S||Ne,title:S?void 0:"Select a department first",children:O.map(P=>n.jsx("option",{value:P.id,children:P.name},P.id))}),T.length>0&&n.jsxs("div",{className:"mt-3 p-3 bg-blue-50 rounded-lg border border-blue-100",children:[n.jsxs("p",{className:"text-sm font-medium text-blue-800 mb-2",children:["Selected Groups (",T.length,")"]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:O.filter(P=>T.includes(P.id)).map(P=>n.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1.5 bg-blue-100 text-blue-700 rounded-full text-sm",children:[P.name,n.jsx("button",{type:"button",onClick:()=>k(X=>X.filter(ne=>ne!==P.id)),className:"ml-1 text-blue-500 hover:text-blue-700",disabled:Ne,children:n.jsx(Xe,{className:"w-3 h-3"})})]},P.id))})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),n.jsx("textarea",{value:b,onChange:P=>j(P.target.value),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",rows:3,placeholder:"Enter a detailed description for this indicator...",disabled:Ne})]}),G&&n.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg flex items-start gap-3",children:[n.jsx(Jr,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),n.jsx("p",{className:"text-sm text-red-600",children:G}),n.jsx("button",{onClick:()=>J(null),className:"ml-auto text-red-500 hover:text-red-700",children:n.jsx(Xe,{className:"w-4 h-4"})})]}),n.jsxs("div",{className:"flex gap-3 pt-4",children:[n.jsx("button",{type:"submit",disabled:Ne,className:`inline-flex items-center gap-2 px-6 py-3 text-white rounded-xl transition-all duration-200 shadow-lg hover:shadow-xl ${Ne?"bg-gray-400 cursor-not-allowed":z?"bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-600 hover:to-orange-600":"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700"}`,children:Ne?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),z?"Updating...":"Creating..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Yc,{className:"w-5 h-5"}),z?"Update Indicator":"Create Indicator"]})}),z&&n.jsxs("button",{type:"button",onClick:te,disabled:Ne,className:"inline-flex items-center gap-2 px-6 py-3 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors duration-200",children:[n.jsx(Sr,{className:"w-5 h-5"}),"Create New Instead"]}),n.jsx("button",{type:"button",onClick:()=>le(!1),disabled:Ne,className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors duration-200",children:"Cancel"})]})]})]}),t&&!W&&n.jsx("div",{className:"mb-8",children:n.jsxs("button",{onClick:te,className:"w-full inline-flex items-center justify-center gap-2 px-6 py-4 bg-gradient-to-r from-blue-50 to-indigo-50 border-2 border-dashed border-blue-200 text-blue-700 rounded-2xl hover:from-blue-100 hover:to-indigo-100 hover:border-blue-300 hover:shadow-lg transition-all duration-200 font-medium",children:[n.jsx(Sr,{className:"w-5 h-5"}),"Click to Add New Indicator",n.jsx(E8,{className:"w-4 h-4 ml-auto"})]})}),n.jsx("div",{className:"mb-6",children:n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Indicators (",ge.length,")"]}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Showing ",ye.length," of ",ge.length," indicators"]})]}),n.jsx("div",{className:"flex items-center gap-4",children:n.jsxs("div",{className:"text-sm text-gray-600",children:["Page ",C," of ",Ee]})})]})}),ue&&n.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-xl flex items-start gap-3",children:[n.jsx(Jr,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),n.jsx("p",{className:"text-sm text-red-600",children:ue}),n.jsx("button",{onClick:()=>F(null),className:"ml-auto text-red-500 hover:text-red-700",children:n.jsx(Xe,{className:"w-4 h-4"})})]}),n.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-lg overflow-hidden",children:[n.jsx("div",{className:"hidden md:block overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gradient-to-r from-gray-50 to-gray-100 border-b border-gray-200",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"ID"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Indicator"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Unit"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Department"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Sector"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Groups"}),t&&n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200",children:L?n.jsx("tr",{children:n.jsx("td",{colSpan:t?7:6,className:"px-6 py-12 text-center",children:n.jsxs("div",{className:"flex flex-col items-center gap-3",children:[n.jsx("div",{className:"w-8 h-8 border-3 border-gray-300 border-t-blue-600 rounded-full animate-spin"}),n.jsx("p",{className:"text-gray-600",children:"Loading indicators..."})]})})}):ye.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:t?7:6,className:"px-6 py-12 text-center",children:n.jsxs("div",{className:"flex flex-col items-center gap-3",children:[n.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center",children:n.jsx(zr,{className:"w-6 h-6 text-gray-400"})}),n.jsx("p",{className:"text-gray-600 font-medium",children:"No indicators found"}),n.jsx("p",{className:"text-gray-500 text-sm",children:"Try adjusting your search or filters"}),t&&n.jsxs("button",{onClick:te,className:"mt-3 inline-flex items-center gap-2 px-4 py-2 bg-blue-50 text-blue-700 rounded-lg hover:bg-blue-100 transition-colors duration-200",children:[n.jsx(Sr,{className:"w-4 h-4"}),"Add New Indicator"]})]})})}):ye.map(P=>n.jsxs("tr",{className:"hover:bg-blue-50/50 transition-colors duration-150 group",children:[n.jsx("td",{className:"px-6 py-4",children:n.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:["#",P.id]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:P.name}),P.description&&n.jsx("p",{className:"text-sm text-gray-600 mt-1 line-clamp-1",children:P.description})]})}),n.jsx("td",{className:"px-6 py-4",children:P.unit?n.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:P.unit}):n.jsx("span",{className:"text-gray-400",children:""})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ct,{className:"w-4 h-4 text-gray-400"}),n.jsx("span",{className:"text-gray-700",children:P.department?.name})]})}),n.jsx("td",{className:"px-6 py-4",children:P.department?.sector?.name?n.jsx("span",{className:"text-gray-700",children:P.department.sector.name}):n.jsx("span",{className:"text-gray-400",children:""})}),n.jsx("td",{className:"px-6 py-4",children:P.groups&&P.groups.length>0?n.jsxs("div",{className:"flex flex-wrap gap-1 max-w-xs",children:[P.groups.slice(0,3).map(X=>n.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",title:X.name,children:X.name.length>20?X.name.substring(0,20)+"...":X.name},X.id)),P.groups.length>3&&n.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-600",children:["+",P.groups.length-3," more"]})]}):n.jsx("span",{className:"text-gray-400",children:""})}),t&&n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:[n.jsx("button",{onClick:()=>he(P),className:"inline-flex items-center gap-1 px-3 py-1.5 text-sm text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors duration-200",title:"Edit indicator",children:n.jsx(Lr,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>I(P),className:"inline-flex items-center gap-1 px-3 py-1.5 text-sm text-white bg-red-500 rounded-lg hover:bg-red-600 transition-colors duration-200",title:"Delete indicator",children:n.jsx(Dn,{className:"w-4 h-4"})})]})})]},P.id))})]})}),n.jsx("div",{className:"md:hidden",children:L?n.jsxs("div",{className:"p-8 text-center",children:[n.jsx("div",{className:"w-8 h-8 border-3 border-gray-300 border-t-blue-600 rounded-full animate-spin mx-auto mb-3"}),n.jsx("p",{className:"text-gray-600",children:"Loading indicators..."})]}):ye.length===0?n.jsxs("div",{className:"p-8 text-center",children:[n.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-3",children:n.jsx(zr,{className:"w-6 h-6 text-gray-400"})}),n.jsx("p",{className:"text-gray-600 font-medium",children:"No indicators found"}),n.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Try adjusting your search or filters"}),t&&n.jsxs("button",{onClick:te,className:"mt-4 inline-flex items-center gap-2 px-4 py-2 bg-blue-50 text-blue-700 rounded-lg hover:bg-blue-100 transition-colors duration-200",children:[n.jsx(Sr,{className:"w-4 h-4"}),"Add New Indicator"]})]}):n.jsx("div",{className:"divide-y divide-gray-200",children:ye.map(P=>n.jsxs("div",{className:"p-4 hover:bg-gray-50 transition-colors duration-150",children:[n.jsxs("div",{className:"flex justify-between items-start mb-3",children:[n.jsxs("div",{children:[n.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800 mb-2",children:["#",P.id]}),n.jsx("h4",{className:"font-medium text-gray-900",children:P.name}),P.description&&n.jsx("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:P.description})]}),P.unit&&n.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:P.unit})]}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ct,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),n.jsx("span",{className:"text-gray-700",children:P.department?.name})]}),P.department?.sector?.name&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-gray-600",children:"Sector:"}),n.jsx("span",{className:"text-gray-700",children:P.department.sector.name})]}),P.groups&&P.groups.length>0&&n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600 mr-2",children:"Groups:"}),n.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:P.groups.map(X=>n.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs bg-green-100 text-green-800",children:X.name},X.id))})]})]}),t&&n.jsxs("div",{className:"flex gap-2 mt-4 pt-3 border-t border-gray-200",children:[n.jsxs("button",{onClick:()=>he(P),className:"flex-1 inline-flex items-center justify-center gap-1 px-3 py-2 text-sm text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors duration-200",children:[n.jsx(Lr,{className:"w-4 h-4"}),"Edit"]}),n.jsxs("button",{onClick:()=>I(P),className:"flex-1 inline-flex items-center justify-center gap-1 px-3 py-2 text-sm text-white bg-red-500 rounded-lg hover:bg-red-600 transition-colors duration-200",children:[n.jsx(Dn,{className:"w-4 h-4"}),"Delete"]})]})]},P.id))})})]}),ge.length>0&&Ee>1&&n.jsxs("div",{className:"mt-8 flex flex-col sm:flex-row items-center justify-between gap-4",children:[n.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",(C-1)*Ce+1," to ",Math.min(C*Ce,ge.length)," of"," ",ge.length," indicators"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("button",{onClick:()=>V(P=>Math.max(1,P-1)),disabled:C===1,className:`inline-flex items-center gap-2 px-4 py-2 rounded-lg border transition-all duration-200 ${C===1?"bg-gray-100 text-gray-400 border-gray-300 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 hover:border-gray-400"}`,children:[n.jsx(Rv,{className:"w-4 h-4"}),"Previous"]}),n.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,Ee)},(P,X)=>{let ne;return Ee<=5||C<=3?ne=X+1:C>=Ee-2?ne=Ee-4+X:ne=C-2+X,n.jsx("button",{onClick:()=>V(ne),className:`w-10 h-10 rounded-lg transition-all duration-200 ${C===ne?"bg-blue-600 text-white shadow-md":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}`,children:ne},ne)})}),n.jsxs("button",{onClick:()=>V(P=>Math.min(Ee,P+1)),disabled:C===Ee,className:`inline-flex items-center gap-2 px-4 py-2 rounded-lg border transition-all duration-200 ${C===Ee?"bg-gray-100 text-gray-400 border-gray-300 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 hover:border-gray-400"}`,children:["Next",n.jsx(nr,{className:"w-4 h-4"})]})]})]})]}),n.jsx("style",{children:`
        @keyframes fade-in {
          from { opacity: 0; transform: translateY(-10px); }
          to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in {
          animation: fade-in 0.3s ease-out;
        }
      `})]})}function PR(){const{user:e}=St(),t=!!e?.is_superuser,[r,a]=v.useState([]),[l,o]=v.useState([]),[u,f]=v.useState(""),[m,h]=v.useState(""),[p,x]=v.useState(""),[b,j]=v.useState(null),[w,N]=v.useState(null),[S,E]=v.useState(!1),[O,_]=v.useState(null),[T,k]=v.useState(""),[L,$]=v.useState(!1),G=async()=>{try{const C=await Se.get("/api/departments/");a(C.data)}catch(C){_(C?.response?.data?.detail||"Failed to load departments")}},J=async()=>{try{E(!0);const C=await Se.get("/api/indicator-groups",{params:u?{department:u}:void 0});o(C.data)}catch(C){_(C?.response?.data?.detail||"Failed to load groups")}finally{E(!1)}};v.useEffect(()=>{G(),J()},[]),v.useEffect(()=>{J()},[u]);const ue=async C=>{if(C.preventDefault(),_(null),!u){_("Please select a department");return}try{const V={name:m,department_id:u,unit:p||void 0,parent_id:b||null};w?await Se.put(`/api/indicator-groups/${w.id}/`,V):await Se.post("/api/indicator-groups/",V),h(""),x(""),j(null),f(""),N(null),$(!1),J()}catch(V){_(V?.response?.data?.detail||"Save failed")}},F=C=>{N(C),h(C.name),f(C.department.id),x(C.unit||""),j(C.parent_id||null),$(!0)},q=async C=>{if(confirm(`Delete group "${C.name}"? This action cannot be undone.`))try{await Se.delete(`/api/indicator-groups/${C.id}/`),J()}catch(V){_(V?.response?.data?.detail||"Delete failed")}},fe=()=>{N(null),h(""),x(""),j(null),f(""),$(!1),_(null)},z=l.filter(C=>{const V=T===""||C.name.toLowerCase().includes(T.toLowerCase())||C.department?.name.toLowerCase().includes(T.toLowerCase()),ae=u===""||C.department?.id===u;return V&&ae}),Y=r.reduce((C,V)=>(C[V.id]=l.filter(ae=>ae.department?.id===V.id).length,C),{});return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 p-4 md:p-6",children:n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsxs("div",{className:"mb-8",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 mb-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Indicator Groups"}),n.jsx("p",{className:"text-gray-600 mt-2",children:"Organize indicators into meaningful groups by department"})]}),t&&n.jsxs("button",{onClick:()=>$(!L),className:"inline-flex items-center gap-2 px-4 py-3 bg-gradient-to-r from-purple-600 to-indigo-600 text-white rounded-xl hover:from-purple-700 hover:to-indigo-700 transition-all duration-200 shadow-lg hover:shadow-xl",children:[n.jsx(Sr,{className:"w-5 h-5"}),"Add New Group"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[n.jsx("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 shadow-sm",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Groups"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-2",children:l.length})]}),n.jsx("div",{className:"p-3 bg-purple-100 rounded-xl",children:n.jsx(pt,{className:"w-6 h-6 text-purple-600"})})]})}),n.jsx("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 shadow-sm",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Departments"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-2",children:r.length})]}),n.jsx("div",{className:"p-3 bg-blue-100 rounded-xl",children:n.jsx(ct,{className:"w-6 h-6 text-blue-600"})})]})}),n.jsx("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 shadow-sm",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Filter"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-2",children:u?1:0}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:u?"Filter applied":"No filter"})]}),n.jsx("div",{className:"p-3 bg-amber-100 rounded-xl",children:n.jsx(Xa,{className:"w-6 h-6 text-amber-600"})})]})})]}),n.jsxs("div",{className:"space-y-4 mb-6",children:[n.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(zr,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),n.jsx("input",{type:"text",placeholder:"Search groups by name or department...",value:T,onChange:C=>k(C.target.value),className:"w-full pl-12 pr-4 py-3 bg-white border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200 shadow-sm"})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-64",children:n.jsxs("div",{className:"relative",children:[n.jsxs("select",{value:u,onChange:C=>f(C.target.value?Number(C.target.value):""),className:"w-full pl-12 pr-4 py-3 bg-white border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200 shadow-sm appearance-none",children:[n.jsx("option",{value:"",children:"All Departments"}),r.map(C=>n.jsxs("option",{value:C.id,children:[C.name," (",Y[C.id]||0,")"]},C.id))]}),n.jsx("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2",children:n.jsx(ct,{className:"w-5 h-5 text-gray-400"})}),n.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:n.jsx(Wr,{className:"w-4 h-4 text-gray-400"})})]})}),n.jsxs("button",{onClick:J,className:"inline-flex items-center gap-2 px-4 py-3 bg-white border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors duration-200 shadow-sm",children:[n.jsx(Vc,{className:"w-4 h-4"}),"Refresh"]})]})]}),(T||u)&&n.jsxs("div",{className:"flex flex-wrap gap-2",children:[T&&n.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1.5 bg-purple-100 text-purple-800 text-sm rounded-full",children:[n.jsx(zr,{className:"w-3 h-3"}),'Search: "',T,'"',n.jsx("button",{onClick:()=>k(""),className:"text-purple-600 hover:text-purple-800 ml-1",children:n.jsx(Xe,{className:"w-3 h-3"})})]}),u!==""&&n.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1.5 bg-purple-100 text-purple-800 text-sm rounded-full",children:[n.jsx(ct,{className:"w-3 h-3"}),"Department: ",r.find(C=>C.id===u)?.name,n.jsx("button",{onClick:()=>f(""),className:"text-purple-600 hover:text-purple-800 ml-1",children:n.jsx(Xe,{className:"w-3 h-3"})})]})]})]})]}),L&&t&&n.jsxs("div",{className:"mb-8 bg-white rounded-2xl border border-gray-200 shadow-lg p-6 transition-all duration-300 hover:shadow-xl",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`p-2 rounded-lg ${w?"bg-yellow-100":"bg-purple-100"}`,children:w?n.jsx(Lr,{className:"w-5 h-5 text-yellow-600"}):n.jsx(Sr,{className:"w-5 h-5 text-purple-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-lg text-gray-900",children:w?`Editing "${w.name}"`:"Create New Indicator Group"}),n.jsx("p",{className:"text-sm text-gray-600",children:w?"Update the group details below":"Organize indicators into meaningful groups"})]})]}),n.jsx("button",{onClick:fe,className:"text-gray-400 hover:text-gray-600",children:n.jsx(Xe,{className:"w-5 h-5"})})]}),n.jsxs("form",{onSubmit:ue,className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(pt,{className:"inline w-4 h-4 mr-1"}),"Group Name"]}),n.jsx("input",{value:m,onChange:C=>h(C.target.value),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200",placeholder:"e.g., Productivity KPIs, Quality Metrics",required:!0})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(ct,{className:"inline w-4 h-4 mr-1"}),"Department *"]}),n.jsxs("div",{className:"relative",children:[n.jsxs("select",{value:u,onChange:C=>f(C.target.value?Number(C.target.value):""),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200 appearance-none bg-white",required:!0,children:[n.jsx("option",{value:"",children:"Select department"}),r.map(C=>n.jsx("option",{value:C.id,children:C.name},C.id))]}),n.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:n.jsx(Wr,{className:"w-4 h-4 text-gray-400"})})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"All groups must be associated with a department"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(bg,{className:"inline w-4 h-4 mr-1"}),"Unit of Measurement"]}),n.jsx("input",{value:p,onChange:C=>x(C.target.value),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200",placeholder:"e.g., Tons, Number, Percentage"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Unit for this group and its indicators (optional)"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(pt,{className:"inline w-4 h-4 mr-1"}),"Parent Group"]}),n.jsxs("div",{className:"relative",children:[n.jsxs("select",{value:b||"",onChange:C=>j(C.target.value?Number(C.target.value):null),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200 appearance-none bg-white",children:[n.jsx("option",{value:"",children:"No Parent (Root Level)"}),l.filter(C=>(!u||C.department?.id===u)&&C.id!==w?.id).map(C=>n.jsx("option",{value:C.id,children:C.hierarchy_path},C.id))]}),n.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:n.jsx(Wr,{className:"w-4 h-4 text-gray-400"})})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:u?"Select a parent group to create hierarchy (optional)":"Select a department first to see available parent groups"})]})]}),O&&n.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Jr,{className:"w-5 h-5 text-red-500"}),n.jsx("p",{className:"text-sm text-red-600",children:O})]})}),n.jsxs("div",{className:"flex gap-3 pt-4",children:[n.jsxs("button",{type:"submit",className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-purple-600 to-indigo-600 text-white rounded-xl hover:from-purple-700 hover:to-indigo-700 transition-all duration-200 shadow-lg hover:shadow-xl",children:[n.jsx(Yc,{className:"w-5 h-5"}),w?"Update Group":"Create Group"]}),w&&n.jsx("button",{type:"button",onClick:fe,className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors duration-200",children:"Cancel"})]})]})]}),n.jsx("div",{className:"mb-6",children:n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Indicator Groups (",z.length,")"]}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Showing ",z.length," of ",l.length," groups",(T||u)&&" (filtered)"]})]}),n.jsxs("div",{className:"text-sm text-gray-600",children:["Sorted by department  ",r.length," departments"]})]})}),n.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-lg overflow-hidden",children:[n.jsx("div",{className:"hidden md:block overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gradient-to-r from-gray-50 to-gray-100 border-b border-gray-200",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"ID"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Group"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Department"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Sector"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200",children:S?n.jsx("tr",{children:n.jsx("td",{colSpan:5,className:"px-6 py-12 text-center",children:n.jsxs("div",{className:"flex flex-col items-center gap-3",children:[n.jsx("div",{className:"w-8 h-8 border-3 border-gray-300 border-t-purple-600 rounded-full animate-spin"}),n.jsx("p",{className:"text-gray-600",children:"Loading indicator groups..."})]})})}):z.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:5,className:"px-6 py-12 text-center",children:n.jsxs("div",{className:"flex flex-col items-center gap-3",children:[n.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center",children:n.jsx(pt,{className:"w-6 h-6 text-gray-400"})}),n.jsx("p",{className:"text-gray-600 font-medium",children:l.length===0?"No indicator groups created yet":"No groups match your filters"}),n.jsx("p",{className:"text-gray-500 text-sm",children:l.length===0?"Start by creating your first indicator group":"Try adjusting your search or filters"})]})})}):z.map(C=>n.jsxs("tr",{className:"hover:bg-purple-50/50 transition-colors duration-150 group",children:[n.jsx("td",{className:"px-6 py-4",children:n.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:["#",C.id]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:n.jsx(pt,{className:"w-5 h-5 text-purple-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:C.name}),C.unit&&n.jsxs("p",{className:"text-xs text-gray-500",children:["Unit: ",C.unit]}),C.parent&&n.jsxs("p",{className:"text-xs text-gray-500",children:["Parent: ",C.parent.name]})]})]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"p-1.5 bg-blue-100 rounded-md",children:n.jsx(ct,{className:"w-4 h-4 text-blue-600"})}),n.jsx("span",{className:"text-gray-700",children:C.department?.name})]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"p-1.5 bg-emerald-100 rounded-md",children:n.jsx(gN,{className:"w-4 h-4 text-emerald-600"})}),n.jsx("span",{className:"text-gray-700",children:C.department?.sector?.name||"No sector"})]})}),n.jsx("td",{className:"px-6 py-4",children:t&&n.jsxs("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:[n.jsx("button",{onClick:()=>F(C),className:"inline-flex items-center gap-1 px-3 py-1.5 text-sm text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors duration-200",title:"Edit group",children:n.jsx(Lr,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>q(C),className:"inline-flex items-center gap-1 px-3 py-1.5 text-sm text-white bg-red-500 rounded-lg hover:bg-red-600 transition-colors duration-200",title:"Delete group",children:n.jsx(Dn,{className:"w-4 h-4"})})]})})]},C.id))})]})}),n.jsx("div",{className:"md:hidden",children:S?n.jsxs("div",{className:"p-8 text-center",children:[n.jsx("div",{className:"w-8 h-8 border-3 border-gray-300 border-t-purple-600 rounded-full animate-spin mx-auto mb-3"}),n.jsx("p",{className:"text-gray-600",children:"Loading indicator groups..."})]}):z.length===0?n.jsxs("div",{className:"p-8 text-center",children:[n.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-3",children:n.jsx(pt,{className:"w-6 h-6 text-gray-400"})}),n.jsx("p",{className:"text-gray-600 font-medium",children:l.length===0?"No indicator groups created yet":"No groups match your filters"}),n.jsx("p",{className:"text-gray-500 text-sm mt-1",children:l.length===0?"Start by creating your first indicator group":"Try adjusting your search or filters"})]}):n.jsx("div",{className:"divide-y divide-gray-200",children:z.map(C=>n.jsxs("div",{className:"p-4 hover:bg-gray-50 transition-colors duration-150",children:[n.jsxs("div",{className:"flex items-start justify-between mb-3",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:n.jsx(pt,{className:"w-5 h-5 text-purple-600"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:C.name}),n.jsx("div",{className:"flex items-center gap-1 mt-1",children:n.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:["ID: ",C.id]})})]})]}),t&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:()=>F(C),className:"inline-flex items-center gap-1 px-3 py-1.5 text-sm text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors duration-200",title:"Edit group",children:n.jsx(Lr,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>q(C),className:"inline-flex items-center gap-1 px-3 py-1.5 text-sm text-white bg-red-500 rounded-lg hover:bg-red-600 transition-colors duration-200",title:"Delete group",children:n.jsx(Dn,{className:"w-4 h-4"})})]})]}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ct,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),n.jsx("span",{className:"text-gray-700",children:C.department?.name})]}),C.department?.sector?.name&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(gN,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),n.jsxs("span",{className:"text-gray-700",children:["Sector: ",C.department.sector.name]})]}),C.unit&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(bg,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),n.jsxs("span",{className:"text-gray-700",children:["Unit: ",C.unit]})]}),C.parent&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(pt,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),n.jsxs("span",{className:"text-gray-700",children:["Parent: ",C.parent.name]})]})]})]},C.id))})})]})]})})}var sc={},yN;function DR(){if(yN)return sc;yN=1,Object.defineProperty(sc,"__esModule",{value:!0});var e=(function(){function a(l,o){var u=[],f=!0,m=!1,h=void 0;try{for(var p=l[Symbol.iterator](),x;!(f=(x=p.next()).done)&&(u.push(x.value),!(o&&u.length===o));f=!0);}catch(b){m=!0,h=b}finally{try{!f&&p.return&&p.return()}finally{if(m)throw h}}return u}return function(l,o){if(Array.isArray(l))return l;if(Symbol.iterator in Object(l))return a(l,o);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),t=function(l){this.message=l,this.name="Exception"},r=function(l){var o=Math.floor(l/100)-Math.floor(l/400)-4;return(l-1)%4===3?o+1:o};return sc.toGregorian=function(l){var o=l.constructor===Array?l:[].slice.call(arguments);if(o.indexOf(0)!==-1||o.indexOf(null)!==-1||o.indexOf(void 0)!==-1||o.length!==3)throw new t("Malformed input can't be converted.");var u=e(o,3),f=u[0],m=u[1],h=u[2],p=r(f),x=f+7,b=[0,30,31,30,31,31,28,31,30,31,30,31,31,30],j=x+1;(j%4===0&&j%100!==0||j%400===0)&&(b[6]=29);var w=(m-1)*30+h;w<=37&&f<=1575?(w+=28,b[0]=31):w+=p-1,f-1%4===3&&(w+=1);for(var N=0,S=void 0,E=0;E<b.length;E++)if(w<=b[E]){N=E,S=w;break}else N=E,w-=b[E];N>4&&(x+=1);var O=[8,9,10,11,12,1,2,3,4,5,6,7,8,9];return b=O[N],[x,b,S]},sc.toEthiopian=function(l){var o=l.constructor===Array?l:[].slice.call(arguments);if(o.indexOf(0)!==-1||o.indexOf(null)!==-1||o.indexOf(void 0)!==-1||o.length!==3)throw new t("Malformed input can't be converted.");var u=e(o,3),f=u[0],m=u[1],h=u[2];if(m===10&&h>=5&&h<=14&&f===1582)throw new t("Invalid Date between 5-14 May 1582.");var p=[0,31,28,31,30,31,30,31,31,30,31,30,31],x=[0,30,30,30,30,30,30,30,30,30,5,30,30,30,30];(f%4===0&&f%100!==0||f%400===0)&&(p[2]=29);var b=f-8;b%4===3&&(x[10]=6);for(var j=r(f-8),w=0,N=1;N<m;N++)w+=p[N];w+=h;var S=b%4===0?26:25;f<1582||w<=277&&f===1582?(x[1]=0,x[2]=S):(S=j-3,x[1]=S);var E=void 0,O=void 0;for(E=1;E<x.length;E++)if(w<=x[E]){O=E===1||x[E]===0?w+(30-S):w;break}else w-=x[E];E>10&&(b+=1);var _=[0,4,5,6,7,8,9,10,11,12,13,1,2,3,4],T=_[E];return[b,T,O]},sc}var RR=DR();function zs(){const e=new Date;return RR.toEthiopian(e.getFullYear(),e.getMonth()+1,e.getDate())}function FA(e=new Date){const t=e.getFullYear(),a=t%4===0&&t%100!==0||t%400===0?12:11,l=e.getMonth(),o=e.getDate();return l>8?t-7:l<8?t-8:o>=a?t-7:t-8}function Di(e){return e+7}function bN(e){return e-7}function LR(){const{user:e}=St(),t=!!e?.is_superuser,r=zs()[0],a=de=>de+7,l=de=>de-7,o=de=>{if(de.hierarchy_context){const Fe=de.hierarchy_context;return`${de.name} (${Fe.hierarchy_path})`}if(de.groups&&de.groups.length>0){const Fe=de.groups[0],it=Fe.hierarchy_path||Fe.name;return`${de.name} (${it})`}return de.name},[u,f]=v.useState([]),[m,h]=v.useState([]),[p,x]=v.useState([]),[b,j]=v.useState([]),[w,N]=v.useState(""),[S,E]=v.useState(new Set),[O,_]=v.useState(!1),[T,k]=v.useState(!1),[L,$]=v.useState(""),[G,J]=v.useState(""),[ue,F]=v.useState(""),[q,fe]=v.useState(""),[z,Y]=v.useState(r),[C,V]=v.useState(""),[ae,ve]=v.useState(""),[ce,R]=v.useState(""),[K,re]=v.useState(""),[W,le]=v.useState(!1),[Ne,Ae]=v.useState(null),[Ce,U]=v.useState(!1),[ge,Ee]=v.useState(null),[ye,ke]=v.useState(r),[Oe,te]=v.useState(""),B=v.useMemo(()=>{const de=(e?.role||"").toUpperCase();return de==="ADVISOR"||de==="STATE_MINISTER"},[e?.role]),he=async()=>{const de=await Se.get("/api/annual-plans/");f(de.data)},I=async()=>{const de=await Se.get("/api/sectors/");h(de.data)},Z=async de=>{const Fe=await Se.get("/api/departments/",{params:{sector:de}});x(Fe.data)},D=async de=>{const Fe=await Se.get("/api/indicators/",{params:{department:de}});j(Fe.data)};v.useEffect(()=>{(async()=>{try{le(!0),await he(),await I(),e?.sector&&(V(e.sector),await Z(Number(e.sector))),e?.department&&(ve(e.department),await D(Number(e.department)))}catch(de){Ae(de?.response?.data?.detail||"Failed to load data")}finally{le(!1)}})()},[e?.sector,e?.department]),v.useEffect(()=>{(async()=>C&&(ve(""),R(""),j([]),await Z(Number(C))))()},[C]),v.useEffect(()=>{(async()=>ae&&(R(""),await D(Number(ae))))()},[ae]);const P=async de=>{de.preventDefault(),Ae(null);try{if(!ce)return Ae("Please select an indicator");const Fe={year:a(z),indicator:ce,target:K||"0"};await Se.post("/api/annual-plans/",Fe),R(""),re(""),k(!1),await he()}catch(Fe){Ae(Fe?.response?.data?.detail||"Save failed")}},X=async de=>{if(confirm(`Delete plan for ${de.indicator_name} (${de.year})?`))try{await Se.delete(`/api/annual-plans/${de.id}/`),await he()}catch(Fe){Ae(Fe?.response?.data?.detail||"Delete failed")}},ne=de=>{Ee(de),ke(l(de.year)),te(String(de.target??"")),U(!0)},_e=async()=>{if(ge)try{await Se.put(`/api/annual-plans/${ge.id}/`,{year:a(ye),indicator:ge.indicator,target:Oe||"0"}),U(!1),Ee(null),await he()}catch(de){Ae(de?.response?.data?.detail||"Update failed")}},Re=v.useMemo(()=>u.filter(de=>{const Fe=l(de.year);if(L!==""&&Fe!==L||G!==""&&de.sector_id!==G||ue!==""&&de.department_id!==ue||q==="yes"&&!de.indicator_group_name||q==="no"&&de.indicator_group_name)return!1;if(w){const it=w.toLowerCase();return de.indicator_name.toLowerCase().includes(it)||de.sector_name?.toLowerCase().includes(it)||de.department_name?.toLowerCase().includes(it)||de.indicator_unit?.toLowerCase().includes(it)}return!0}),[u,L,G,ue,q,w]),Ve=v.useMemo(()=>{const de={};for(const Fe of Re){const it=String(Fe.sector_id??"unknown"),$n=String(Fe.department_id??"unknown");de[it]||(de[it]={name:Fe.sector_name||"Unassigned Sector",departments:{}}),de[it].departments[$n]||(de[it].departments[$n]={name:Fe.department_name||"Unassigned Department",items:[]}),de[it].departments[$n].items.push(Fe)}return de},[Re]),vt=de=>{E(Fe=>{const it=new Set(Fe);return it.has(de)?it.delete(de):it.add(de),it})},Ze=(de,Fe)=>{const it=`${de}-${Fe}`;vt(it)},rn=v.useMemo(()=>Re.reduce((de,Fe)=>de+(parseFloat(Fe.target)||0),0),[Re]),Vt=v.useMemo(()=>Re.length>0?rn/Re.length:0,[Re,rn]),Is=()=>{k(!1),V(""),ve(""),R(""),re(""),Ae(null)},uo=()=>{$(""),J(""),F(""),fe(""),N("")},Bn=L!==""||G!==""||ue!==""||q!==""||w!=="",gr=[L!=="",G!=="",ue!=="",q!=="",w!==""].filter(Boolean).length,Jn=v.useMemo(()=>Array.from(new Set(u.map(Fe=>l(Fe.year)))).sort((Fe,it)=>it-Fe),[u]);return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 p-4 md:p-6",children:[n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsxs("div",{className:"mb-8",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 mb-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Annual Plans"}),n.jsx("p",{className:"text-gray-600 mt-2",children:"Manage annual performance targets across departments and sectors"})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[t&&n.jsxs("button",{onClick:()=>k(!T),className:"inline-flex items-center gap-2 px-4 py-3 bg-gradient-to-r from-emerald-600 to-green-600 text-white rounded-xl hover:from-emerald-700 hover:to-green-700 transition-all duration-200 shadow-lg hover:shadow-xl",children:[n.jsx(Sr,{className:"w-5 h-5"}),"New Plan"]}),n.jsxs("button",{className:"inline-flex items-center gap-2 px-4 py-3 bg-white border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors duration-200 shadow-sm",children:[n.jsx(Bl,{className:"w-5 h-5"}),"Export"]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[n.jsx("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 shadow-sm",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Plans"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-2",children:Re.length}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:u.length!==Re.length?`${u.length} total`:""})]}),n.jsx("div",{className:"p-3 bg-blue-100 rounded-xl",children:n.jsx(_r,{className:"w-6 h-6 text-blue-600"})})]})}),n.jsx("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 shadow-sm",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Target"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-2",children:rn.toLocaleString()})]}),n.jsx("div",{className:"p-3 bg-emerald-100 rounded-xl",children:n.jsx($a,{className:"w-6 h-6 text-emerald-600"})})]})}),n.jsx("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 shadow-sm",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Average Target"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-2",children:Vt.toFixed(2)})]}),n.jsx("div",{className:"p-3 bg-purple-100 rounded-xl",children:n.jsx(yg,{className:"w-6 h-6 text-purple-600"})})]})}),n.jsx("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 shadow-sm",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Filters"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-2",children:gr}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:Bn?"Filters applied":"No filters"})]}),n.jsx("div",{className:"p-3 bg-amber-100 rounded-xl",children:n.jsx(gR,{className:"w-6 h-6 text-amber-600"})})]})})]}),n.jsxs("div",{className:"space-y-4 mb-6",children:[n.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(zr,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),n.jsx("input",{type:"text",placeholder:"Search plans by indicator, department, or sector...",value:w,onChange:de=>N(de.target.value),className:"w-full pl-12 pr-4 py-3 bg-white border border-gray-300 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all duration-200 shadow-sm"})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("button",{onClick:()=>_(!O),className:"inline-flex items-center gap-2 px-4 py-3 bg-white border border-gray-300 rounded-xl hover:bg-gray-50 transition-colors duration-200 shadow-sm",children:[n.jsx(Xa,{className:"w-4 h-4"}),"Filters",gr>0&&n.jsx("span",{className:"inline-flex items-center justify-center w-6 h-6 text-xs font-semibold text-white bg-emerald-600 rounded-full",children:gr})]}),Bn&&n.jsxs("button",{onClick:uo,className:"inline-flex items-center gap-2 px-4 py-3 text-gray-700 bg-gray-100 rounded-xl hover:bg-gray-200 transition-colors duration-200",children:[n.jsx(Xe,{className:"w-4 h-4"}),"Clear All"]})]})]}),O&&n.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-gray-200 shadow-lg",children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Filter Annual Plans"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Refine your view by selecting specific criteria"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(_r,{className:"inline w-4 h-4 mr-1"}),"Year"]}),n.jsxs("div",{className:"relative",children:[n.jsxs("select",{value:L,onChange:de=>$(de.target.value?Number(de.target.value):""),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all duration-200 appearance-none bg-white",children:[n.jsx("option",{value:"",children:"All Years"}),Jn.map(de=>n.jsxs("option",{value:de,children:[de," ."]},de))]}),n.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:n.jsx(Wr,{className:"w-4 h-4 text-gray-400"})})]}),L!==""&&n.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[n.jsxs("span",{className:"text-xs text-emerald-600 bg-emerald-50 px-2 py-1 rounded-full",children:["Year: ",L]}),n.jsx("button",{onClick:()=>$(""),className:"text-xs text-gray-500 hover:text-gray-700",children:n.jsx(Xe,{className:"w-3 h-3"})})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(ct,{className:"inline w-4 h-4 mr-1"}),"Sector"]}),n.jsxs("div",{className:"relative",children:[n.jsxs("select",{value:G,onChange:de=>J(de.target.value?Number(de.target.value):""),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all duration-200 appearance-none bg-white",disabled:!!e?.sector&&B,children:[n.jsx("option",{value:"",children:"All Sectors"}),m.map(de=>n.jsx("option",{value:de.id,children:de.name},de.id))]}),n.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:n.jsx(Wr,{className:"w-4 h-4 text-gray-400"})})]}),G!==""&&n.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[n.jsx("span",{className:"text-xs text-emerald-600 bg-emerald-50 px-2 py-1 rounded-full",children:m.find(de=>de.id===G)?.name}),n.jsx("button",{onClick:()=>J(""),className:"text-xs text-gray-500 hover:text-gray-700",children:n.jsx(Xe,{className:"w-3 h-3"})})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(pt,{className:"inline w-4 h-4 mr-1"}),"Department"]}),n.jsxs("div",{className:"relative",children:[n.jsxs("select",{value:ue,onChange:de=>F(de.target.value?Number(de.target.value):""),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all duration-200 appearance-none bg-white",disabled:!!e?.department&&B,children:[n.jsx("option",{value:"",children:"All Departments"}),p.filter(de=>G===""||de.sector.id===G).map(de=>n.jsx("option",{value:de.id,children:de.name},de.id))]}),n.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:n.jsx(Wr,{className:"w-4 h-4 text-gray-400"})})]}),ue!==""&&n.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[n.jsx("span",{className:"text-xs text-emerald-600 bg-emerald-50 px-2 py-1 rounded-full",children:p.find(de=>de.id===ue)?.name}),n.jsx("button",{onClick:()=>F(""),className:"text-xs text-gray-500 hover:text-gray-700",children:n.jsx(Xe,{className:"w-3 h-3"})})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(pt,{className:"inline w-4 h-4 mr-1"}),"Has Group"]}),n.jsxs("div",{className:"relative",children:[n.jsxs("select",{value:q,onChange:de=>fe(de.target.value),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all duration-200 appearance-none bg-white",children:[n.jsx("option",{value:"",children:"All"}),n.jsx("option",{value:"yes",children:"With Groups"}),n.jsx("option",{value:"no",children:"Without Groups"})]}),n.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:n.jsx(Wr,{className:"w-4 h-4 text-gray-400"})})]}),q!==""&&n.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[n.jsx("span",{className:"text-xs text-emerald-600 bg-emerald-50 px-2 py-1 rounded-full",children:q==="yes"?"With Groups":"Without Groups"}),n.jsx("button",{onClick:()=>fe(""),className:"text-xs text-gray-500 hover:text-gray-700",children:n.jsx(Xe,{className:"w-3 h-3"})})]})]})]}),n.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Quick Year Filters"}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsxs("button",{onClick:()=>$(r),className:`px-3 py-1.5 text-sm rounded-lg transition-colors ${L===r?"bg-emerald-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["Current Year (",r,")"]}),n.jsxs("button",{onClick:()=>$(r-1),className:`px-3 py-1.5 text-sm rounded-lg transition-colors ${L===r-1?"bg-emerald-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["Last Year (",r-1,")"]}),n.jsxs("button",{onClick:()=>$(r+1),className:`px-3 py-1.5 text-sm rounded-lg transition-colors ${L===r+1?"bg-emerald-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["Next Year (",r+1,")"]}),n.jsx("button",{onClick:()=>$(""),className:"px-3 py-1.5 text-sm text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors",children:"Clear Year Filter"})]})]})]})]})]}),T&&t&&n.jsxs("div",{className:"mb-8 bg-white rounded-2xl border border-gray-200 shadow-lg p-6 transition-all duration-300 hover:shadow-xl",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-emerald-100 rounded-lg",children:n.jsx(Sr,{className:"w-5 h-5 text-emerald-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-lg text-gray-900",children:"Create New Annual Plan"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Define annual targets for indicators"})]})]}),n.jsx("button",{onClick:Is,className:"text-gray-400 hover:text-gray-600",children:n.jsx(Xe,{className:"w-5 h-5"})})]}),n.jsxs("form",{onSubmit:P,className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(_r,{className:"inline w-4 h-4 mr-1"}),"Year *"]}),n.jsx("input",{type:"number",min:2e3,max:2100,value:z,onChange:de=>Y(Number(de.target.value)),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all duration-200",placeholder:"Enter Ethiopian year",required:!0}),n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Ethiopian year: ",z," . = ",a(z)," G.C."]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(ct,{className:"inline w-4 h-4 mr-1"}),"Sector"]}),n.jsxs("select",{value:C,onChange:de=>V(de.target.value?Number(de.target.value):""),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all duration-200",disabled:!!e?.sector&&B,required:!0,children:[n.jsx("option",{value:"",children:"Select sector"}),m.map(de=>n.jsx("option",{value:de.id,children:de.name},de.id))]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(ct,{className:"inline w-4 h-4 mr-1"}),"Department"]}),n.jsxs("select",{value:ae,onChange:de=>ve(de.target.value?Number(de.target.value):""),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all duration-200",disabled:!!e?.department&&B,required:!0,children:[n.jsx("option",{value:"",children:"Select department"}),p.map(de=>n.jsx("option",{value:de.id,children:de.name},de.id))]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(pt,{className:"inline w-4 h-4 mr-1"}),"Indicator *"]}),n.jsxs("select",{value:ce,onChange:de=>R(de.target.value?Number(de.target.value):""),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all duration-200",required:!0,children:[n.jsx("option",{value:"",children:"Select indicator"}),b.map(de=>n.jsx("option",{value:de.id,children:o(de)},de.id))]})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx($a,{className:"inline w-4 h-4 mr-1"}),"Target Value"]}),n.jsx("input",{type:"number",step:"0.01",value:K,onChange:de=>re(de.target.value),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all duration-200",placeholder:"Enter target value",required:!0}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Enter the annual target for this indicator"})]}),Ne&&n.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Jr,{className:"w-5 h-5 text-red-500"}),n.jsx("p",{className:"text-sm text-red-600",children:Ne})]})}),n.jsxs("div",{className:"flex gap-3 pt-4",children:[n.jsxs("button",{type:"submit",className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-emerald-600 to-green-600 text-white rounded-xl hover:from-emerald-700 hover:to-green-700 transition-all duration-200 shadow-lg hover:shadow-xl",children:[n.jsx(mr,{className:"w-5 h-5"}),"Create Plan"]}),n.jsx("button",{type:"button",onClick:Is,className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors duration-200",children:"Cancel"})]})]})]}),n.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-lg overflow-hidden",children:[n.jsx("div",{className:"px-6 py-4 border-b border-gray-200 bg-gradient-to-r from-gray-50 to-gray-100",children:n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Annual Plans Overview"}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Showing ",Re.length," of ",u.length," plans",Bn&&" (filtered)"]})]}),n.jsxs("div",{className:"text-sm text-gray-600",children:[Object.keys(Ve).length," sectors  ",Object.values(Ve).reduce((de,Fe)=>de+Object.keys(Fe.departments).length,0)," departments"]})]})}),Bn&&n.jsx("div",{className:"px-6 py-3 bg-emerald-50 border-b border-emerald-100",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-sm font-medium text-emerald-800",children:"Active Filters:"}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[L!==""&&n.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-emerald-100 text-emerald-800 text-sm rounded-full",children:[n.jsx(_r,{className:"w-3 h-3"}),"Year: ",L," .",n.jsx("button",{onClick:()=>$(""),className:"text-emerald-600 hover:text-emerald-800",children:n.jsx(Xe,{className:"w-3 h-3"})})]}),G!==""&&n.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-emerald-100 text-emerald-800 text-sm rounded-full",children:[n.jsx(ct,{className:"w-3 h-3"}),"Sector: ",m.find(de=>de.id===G)?.name,n.jsx("button",{onClick:()=>J(""),className:"text-emerald-600 hover:text-emerald-800",children:n.jsx(Xe,{className:"w-3 h-3"})})]}),ue!==""&&n.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-emerald-100 text-emerald-800 text-sm rounded-full",children:[n.jsx(pt,{className:"w-3 h-3"}),"Department: ",p.find(de=>de.id===ue)?.name,n.jsx("button",{onClick:()=>F(""),className:"text-emerald-600 hover:text-emerald-800",children:n.jsx(Xe,{className:"w-3 h-3"})})]}),q!==""&&n.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-emerald-100 text-emerald-800 text-sm rounded-full",children:[n.jsx(pt,{className:"w-3 h-3"}),q==="yes"?"With Groups":"Without Groups",n.jsx("button",{onClick:()=>fe(""),className:"text-emerald-600 hover:text-emerald-800",children:n.jsx(Xe,{className:"w-3 h-3"})})]}),w&&n.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-emerald-100 text-emerald-800 text-sm rounded-full",children:[n.jsx(zr,{className:"w-3 h-3"}),'Search: "',w,'"',n.jsx("button",{onClick:()=>N(""),className:"text-emerald-600 hover:text-emerald-800",children:n.jsx(Xe,{className:"w-3 h-3"})})]})]})]}),n.jsxs("button",{onClick:uo,className:"text-sm text-emerald-700 hover:text-emerald-900 font-medium flex items-center gap-1",children:[n.jsx(Xe,{className:"w-4 h-4"}),"Clear All"]})]})}),W?n.jsxs("div",{className:"p-12 text-center",children:[n.jsx("div",{className:"w-8 h-8 border-3 border-gray-300 border-t-emerald-600 rounded-full animate-spin mx-auto mb-3"}),n.jsx("p",{className:"text-gray-600",children:"Loading annual plans..."})]}):Re.length===0?n.jsxs("div",{className:"p-12 text-center",children:[n.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-3",children:n.jsx(_r,{className:"w-6 h-6 text-gray-400"})}),n.jsx("p",{className:"text-gray-600 font-medium",children:u.length===0?"No annual plans created yet":"No plans match your filters"}),n.jsx("p",{className:"text-gray-500 text-sm mt-1",children:u.length===0?"Start by creating your first annual plan":"Try adjusting or clearing your filters"}),Bn&&n.jsxs("button",{onClick:uo,className:"mt-4 inline-flex items-center gap-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors duration-200",children:[n.jsx(Xe,{className:"w-4 h-4"}),"Clear Filters"]})]}):n.jsx("div",{className:"divide-y divide-gray-200",children:Object.entries(Ve).map(([de,Fe])=>n.jsxs("div",{className:"group",children:[n.jsx("div",{className:"px-6 py-4 bg-gradient-to-r from-emerald-50 to-green-50 hover:from-emerald-100 hover:to-green-100 cursor-pointer transition-all duration-200",onClick:()=>vt(de),children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`transform transition-transform duration-200 ${S.has(de)?"rotate-90":""}`,children:n.jsx(nr,{className:"w-5 h-5 text-emerald-600"})}),n.jsx("div",{className:"p-2 bg-emerald-100 rounded-lg",children:n.jsx(ct,{className:"w-5 h-5 text-emerald-600"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-gray-900",children:Fe.name}),n.jsxs("p",{className:"text-sm text-emerald-600",children:[Object.keys(Fe.departments).length," departments "," ",Object.values(Fe.departments).reduce((it,$n)=>it+$n.items.length,0)," plans"]})]})]}),n.jsxs("div",{className:"text-sm text-gray-500",children:["Click to ",S.has(de)?"collapse":"expand"]})]})}),n.jsx("div",{className:`overflow-hidden transition-all duration-300 ${S.has(de)?"max-h-[5000px] opacity-100":"max-h-0 opacity-0"}`,children:Object.entries(Fe.departments).map(([it,$n])=>n.jsxs("div",{className:"border-t border-gray-100",children:[n.jsx("div",{className:"px-6 py-4 bg-emerald-50/50 hover:bg-emerald-100/50 cursor-pointer transition-colors duration-200",onClick:()=>Ze(de,it),children:n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`transform transition-transform duration-200 ${S.has(`${de}-${it}`)?"rotate-90":""}`,children:n.jsx(nr,{className:"w-4 h-4 text-emerald-500"})}),n.jsxs("div",{children:[n.jsx("h5",{className:"font-medium text-gray-800",children:$n.name}),n.jsxs("p",{className:"text-sm text-emerald-500",children:[$n.items.length," indicators  ",L?`Year ${L}`:"All Years"]})]})]})})}),n.jsx("div",{className:`overflow-hidden transition-all duration-300 ${S.has(`${de}-${it}`)?"max-h-[5000px] opacity-100":"max-h-0 opacity-0"}`,children:n.jsx("div",{className:"px-6 py-4 bg-gray-50/50",children:(()=>{const ha=new Map,ai=[];for(const Bt of $n.items)if(Bt.indicator_group_name){const Mr=Bt.indicator_group_name;ha.has(Mr)||ha.set(Mr,[]),ha.get(Mr).push(Bt)}else ai.push(Bt);return n.jsxs("div",{className:"space-y-6",children:[Array.from(ha.entries()).map(([Bt,Mr])=>{const ii=new Map;for(const Dt of Mr){const si=l(Dt.year),ju=parseFloat(String(Dt.target||"0"))||0;ii.set(si,(ii.get(si)||0)+ju)}return n.jsxs("div",{className:"bg-white rounded-xl border border-emerald-100 p-4 shadow-sm",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx("div",{className:"p-2 bg-emerald-100 rounded-lg",children:n.jsx(pt,{className:"w-4 h-4 text-emerald-600"})}),n.jsx("h6",{className:"font-semibold text-emerald-800",children:Bt}),n.jsxs("span",{className:"ml-2 px-2 py-1 bg-emerald-100 text-emerald-700 text-xs rounded-full",children:[Mr.length," indicators"]})]}),n.jsx("div",{className:"mb-4 p-3 bg-emerald-50 rounded-lg",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm font-medium text-emerald-700",children:"Yearly Targets"}),n.jsx("div",{className:"flex gap-3",children:[...ii.entries()].sort((Dt,si)=>Dt[0]-si[0]).map(([Dt,si])=>n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"text-xs text-emerald-600",children:["Year ",Dt]}),n.jsx("div",{className:"font-bold text-emerald-800",children:si.toLocaleString()})]},Dt))})]})}),n.jsx("div",{className:"space-y-3",children:Mr.map(Dt=>n.jsxs("div",{className:"flex items-center justify-between p-3 hover:bg-gray-50 rounded-lg transition-colors duration-150 group-hover:bg-gray-50",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"font-medium text-gray-800",children:Dt.indicator_name}),Dt.indicator_unit&&n.jsx("span",{className:"text-xs px-2 py-1 bg-blue-100 text-blue-700 rounded-full",children:Dt.indicator_unit})]})}),n.jsxs("div",{className:"flex items-center gap-6",children:[n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"text-sm text-gray-500",children:"Year"}),n.jsx("div",{className:"font-medium",children:l(Dt.year)})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"text-sm text-gray-500",children:"Target"}),n.jsx("div",{className:"font-bold text-emerald-700",children:Dt.target})]}),t&&n.jsxs("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:[n.jsx("button",{onClick:()=>ne(Dt),className:"p-2 text-gray-600 hover:text-emerald-600 hover:bg-emerald-50 rounded-lg transition-colors duration-200",title:"Edit plan",children:n.jsx(Lr,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>X(Dt),className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors duration-200",title:"Delete plan",children:n.jsx(Dn,{className:"w-4 h-4"})})]})]})]},Dt.id))})]},Bt)}),ai.length>0&&n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4 shadow-sm",children:[n.jsx("h6",{className:"font-semibold text-gray-700 mb-4",children:"Individual Indicators"}),n.jsx("div",{className:"space-y-3",children:ai.map(Bt=>n.jsxs("div",{className:"flex items-center justify-between p-3 hover:bg-gray-50 rounded-lg transition-colors duration-150",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"font-medium text-gray-800",children:Bt.indicator_name}),Bt.indicator_unit&&n.jsx("span",{className:"text-xs px-2 py-1 bg-blue-100 text-blue-700 rounded-full",children:Bt.indicator_unit})]})}),n.jsxs("div",{className:"flex items-center gap-6",children:[n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"text-sm text-gray-500",children:"Year"}),n.jsx("div",{className:"font-medium",children:l(Bt.year)})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"text-sm text-gray-500",children:"Target"}),n.jsx("div",{className:"font-bold text-emerald-700",children:Bt.target})]}),t&&n.jsxs("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:[n.jsx("button",{onClick:()=>ne(Bt),className:"p-2 text-gray-600 hover:text-emerald-600 hover:bg-emerald-50 rounded-lg transition-colors duration-200",title:"Edit plan",children:n.jsx(Lr,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>X(Bt),className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors duration-200",title:"Delete plan",children:n.jsx(Dn,{className:"w-4 h-4"})})]})]})]},Bt.id))})]})]})})()})})]},it))})]},de))})]})]}),Ce&&ge&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:n.jsxs("div",{className:"w-full max-w-lg bg-white rounded-2xl shadow-2xl overflow-hidden transform transition-all duration-300 scale-100",onClick:de=>de.stopPropagation(),children:[n.jsxs("div",{className:"px-6 py-4 border-b bg-gradient-to-r from-emerald-50 to-green-50 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-emerald-100 rounded-lg",children:n.jsx(Lr,{className:"w-5 h-5 text-emerald-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:"Edit Annual Plan"}),n.jsxs("p",{className:"text-sm text-emerald-600",children:["Update target values for ",ge.indicator_name]})]})]}),n.jsx("button",{onClick:()=>U(!1),className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100 transition-colors duration-200",children:n.jsx(Xe,{className:"w-5 h-5"})})]}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsx("div",{className:"p-4 bg-gray-50 rounded-xl",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx("h4",{className:"font-medium text-gray-900",children:ge.indicator_name}),n.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(ct,{className:"w-4 h-4"}),ge.sector_name]}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(pt,{className:"w-4 h-4"}),ge.department_name]})]}),ge.indicator_unit&&n.jsxs("span",{className:"inline-flex items-center px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-xs font-medium",children:["Unit: ",ge.indicator_unit]})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(_r,{className:"inline w-4 h-4 mr-1"}),"Year"]}),n.jsx("input",{type:"number",min:2e3,max:2100,value:ye,onChange:de=>ke(Number(de.target.value)),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all duration-200",placeholder:"Enter Ethiopian year"}),n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Ethiopian year: ",ye," . = ",a(ye)," G.C."]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx($a,{className:"inline w-4 h-4 mr-1"}),"Target"]}),n.jsx("input",{type:"number",step:"0.01",value:Oe,onChange:de=>te(de.target.value),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all duration-200"})]})]})]}),n.jsxs("div",{className:"px-6 py-4 border-t bg-gray-50 flex justify-end gap-3",children:[n.jsx("button",{onClick:()=>U(!1),className:"px-5 py-2.5 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-100 transition-colors duration-200",children:"Cancel"}),n.jsx("button",{onClick:_e,className:"px-5 py-2.5 bg-gradient-to-r from-emerald-600 to-green-600 text-white rounded-xl hover:from-emerald-700 hover:to-green-700 transition-all duration-200 shadow-lg hover:shadow-xl",children:"Save Changes"})]})]})})]})}function Nc({value:e,onChange:t,min:r=2e3,max:a=2100,label:l="Year",className:o="",showLabel:u=!0,variant:f="default"}){const m=Q3.useMemo(()=>zs()[0],[]),h=e??m,[p,x]=v.useState(!1),b=v.useRef(null),j=Array.from({length:a-r+1},(_,T)=>r+T).reverse(),w=_=>{if(!Number.isNaN(_)){if(_<r)return t(r);if(_>a)return t(a);t(_)}},N=()=>{w(h+1)},S=()=>{w(h-1)},E=()=>{w(m),x(!1)},O=_=>{w(_),x(!1)};return v.useEffect(()=>{const _=T=>{b.current&&!b.current.contains(T.target)&&x(!1)};return document.addEventListener("mousedown",_),()=>document.removeEventListener("mousedown",_)},[]),f==="dropdown"?n.jsxs("div",{className:o,children:[u&&n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:l}),n.jsxs("div",{className:"relative",ref:b,children:[n.jsxs("button",{type:"button",onClick:()=>x(!p),className:"w-full flex items-center justify-between px-4 py-3 bg-white border border-gray-300 rounded-xl text-gray-900 font-medium focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all duration-200 hover:bg-gray-50",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(_r,{className:"w-5 h-5 text-gray-400"}),n.jsx("span",{children:h}),n.jsx("span",{className:"text-sm text-gray-500 font-normal",children:"."})]}),n.jsx(Wr,{className:`w-5 h-5 text-gray-400 transition-transform duration-200 ${p?"rotate-180":""}`})]}),p&&n.jsx("div",{className:"absolute z-0 mt-1 w-full bg-white border border-gray-200 rounded-xl shadow-lg max-h-64 overflow-y-auto",children:n.jsxs("div",{className:"p-2",children:[n.jsxs("div",{className:"flex items-center justify-between p-2",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Select Year"}),n.jsxs("button",{onClick:E,className:"text-xs text-emerald-600 hover:text-emerald-700 font-medium flex items-center gap-1",children:[n.jsx(Vc,{className:"w-3 h-3"}),"Current (",m,")"]})]}),n.jsx("div",{className:"grid grid-cols-3 gap-1",children:j.map(_=>n.jsxs("button",{onClick:()=>O(_),className:`p-3 rounded-lg text-center transition-colors duration-150 ${_===h?"bg-emerald-600 text-white font-semibold":"text-gray-700 hover:bg-gray-100"} ${_===m?_===h?"ring-2 ring-emerald-400":"bg-emerald-50 text-emerald-700 border border-emerald-200":""}`,children:[n.jsx("div",{className:"text-lg font-medium",children:_}),_===m&&n.jsx("div",{className:"text-xs opacity-75",children:"Current"})]},_))})]})})]})]}):f==="compact"?n.jsxs("div",{className:o,children:[u&&n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:l}),n.jsxs("div",{className:"relative",ref:b,children:[n.jsxs("button",{type:"button",onClick:()=>x(!p),className:"w-full flex items-center justify-between px-3 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 text-sm font-medium focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all duration-200 hover:bg-gray-50",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(_r,{className:"w-4 h-4 text-gray-400"}),n.jsx("span",{children:h})]}),n.jsx(Wr,{className:`w-4 h-4 text-gray-400 transition-transform duration-200 ${p?"rotate-180":""}`})]}),p&&n.jsx("div",{className:"absolute z-50 mt-1 w-full bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:n.jsx("div",{className:"p-2",children:j.map(_=>n.jsx("button",{onClick:()=>O(_),className:`w-full p-2 text-left rounded-md transition-colors duration-150 ${_===h?"bg-emerald-600 text-white":"text-gray-700 hover:bg-gray-100"}`,children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{children:_}),_===m&&n.jsx("span",{className:"text-xs text-emerald-600",children:"Current"})]})},_))})})]})]}):n.jsxs("div",{className:o,children:[u&&n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:l}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{type:"button",onClick:S,disabled:h<=r,className:`flex items-center justify-center w-10 h-10 rounded-xl border transition-all duration-200 ${h<=r?"bg-gray-100 border-gray-200 text-gray-400 cursor-not-allowed":"bg-white border-gray-300 text-gray-700 hover:border-emerald-400 hover:text-emerald-600 hover:bg-emerald-50 hover:shadow-sm"}`,"aria-label":"Previous year",children:n.jsx(Rv,{className:"w-5 h-5"})}),n.jsxs("div",{className:"relative flex-1",ref:b,children:[n.jsxs("button",{type:"button",onClick:()=>x(!p),className:"w-full flex items-center justify-between px-4 py-3 bg-white border border-gray-300 rounded-xl text-gray-900 font-medium focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all duration-200 hover:bg-gray-50",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(_r,{className:"w-5 h-5 text-gray-400"}),n.jsx("span",{className:"text-lg font-semibold",children:h}),n.jsx("span",{className:"text-sm text-gray-500 font-normal",children:"."})]}),n.jsx(Wr,{className:`w-5 h-5 text-gray-400 transition-transform duration-200 ${p?"rotate-180":""}`})]}),p&&n.jsx("div",{className:"absolute z-50 mt-1 w-full bg-white border border-gray-200 rounded-xl shadow-lg max-h-80 overflow-y-auto",children:n.jsxs("div",{className:"p-3",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("h4",{className:"text-sm font-semibold text-gray-900",children:"Select Year"}),n.jsxs("div",{className:"text-xs text-gray-500",children:[r,"  ",a]})]}),n.jsx("div",{className:"mb-4",children:n.jsxs("div",{className:"flex items-center justify-between p-2 bg-emerald-50 rounded-lg",children:[n.jsx("span",{className:"text-sm text-emerald-800",children:"Current Year:"}),n.jsx("button",{onClick:()=>O(m),className:`px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${h===m?"bg-emerald-600 text-white":"bg-white text-emerald-700 border border-emerald-300 hover:bg-emerald-100"}`,children:m})]})}),n.jsx("div",{className:"grid grid-cols-2 gap-2",children:j.map(_=>n.jsxs("button",{onClick:()=>O(_),className:`p-3 rounded-lg text-center transition-all duration-150 ${_===h?"bg-gradient-to-br from-emerald-600 to-green-600 text-white font-semibold shadow-md transform scale-105":"text-gray-700 bg-white border border-gray-200 hover:border-emerald-300 hover:bg-emerald-50 hover:text-emerald-700"}`,children:[n.jsx("div",{className:"text-base font-medium",children:_}),_===m&&n.jsx("div",{className:"text-xs mt-1 opacity-75",children:"Current"})]},_))}),n.jsx("div",{className:"mt-4 pt-4 border-t border-gray-100",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Quick Select:"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>O(m-1),className:"px-3 py-1.5 text-sm bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:"Last Year"}),n.jsx("button",{onClick:()=>O(m+1),className:"px-3 py-1.5 text-sm bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:"Next Year"})]})]})})]})})]}),n.jsx("button",{type:"button",onClick:N,disabled:h>=a,className:`flex items-center justify-center w-10 h-10 rounded-xl border transition-all duration-200 ${h>=a?"bg-gray-100 border-gray-200 text-gray-400 cursor-not-allowed":"bg-white border-gray-300 text-gray-700 hover:border-emerald-400 hover:text-emerald-600 hover:bg-emerald-50 hover:shadow-sm"}`,"aria-label":"Next year",children:n.jsx(nr,{className:"w-5 h-5"})})]}),n.jsxs("div",{className:"mt-2 flex items-center justify-between text-xs text-gray-500",children:[n.jsx("span",{className:`${h===m?"font-medium text-emerald-600":""}`,children:h===m?" Current Year Selected":"Click year to select"}),n.jsxs("span",{children:[r,"  ",a]})]})]})}function zR(){const{user:e}=St(),t=zs()[0],r=D=>D+7,a=D=>D-7,[l,o]=v.useState(t),[u,f]=v.useState([]),[m,h]=v.useState([]),[p,x]=v.useState({}),[b,j]=v.useState({}),[w,N]=v.useState(!1),[S,E]=v.useState(null),[O,_]=v.useState(null),[T,k]=v.useState(""),[L,$]=v.useState(new Set),[G,J]=v.useState(new Set),[ue,F]=v.useState(!0),[q,fe]=v.useState(()=>({open:!1,planId:null,quarter:null,value:"",indicatorName:""})),[z,Y]=v.useState(()=>({open:!1,planId:null,quarter:null,value:"",indicatorName:""})),C=!1,[V,ae]=v.useState(()=>({open:!1,title:"",note:""})),ve=async()=>{N(!0),E(null);try{const D=r(l),[P,X,ne,_e]=await Promise.all([Se.get("/api/annual-plans/",{params:{year:D}}),Se.get("/api/breakdowns/"),C?Se.get("/api/performances/"):Promise.resolve({data:[]}),Se.get("/api/submission-windows/status/",{params:{year:D}})]),Re=P.data||[];h(Re);const Ve=Re.filter(Vt=>Vt.year===D);f(Ve);const vt={};for(const Vt of X.data||[])vt[Vt.plan]=Vt;x(vt),j({});const rn=_e?.data;if(rn&&typeof rn.is_breakdown_window_open=="boolean"&&F(!!rn.is_breakdown_window_open),Object.keys(ce).length>0){const Vt=Object.keys(ce)[0];$(new Set([Vt]));const Is=Object.keys(ce[Vt]?.departments||{})[0];J(new Set([`${Vt}-${Is}`]))}}catch(D){const P=D?.userMessage||la(D,"Failed to load data");E(P)}finally{N(!1)}};v.useEffect(()=>{ve()},[l]);const ce=v.useMemo(()=>{const D=T.trim().toLowerCase(),P=D?u.filter(ne=>[ne.indicator_name,ne.department_name,ne.sector_name,ne.indicator_unit].join(" ").toLowerCase().includes(D)):u,X={};for(const ne of P){const _e=String(ne.sector_id??"unknown"),Re=String(ne.department_id??"unknown");X[_e]||(X[_e]={name:ne.sector_name||"Unassigned Sector",departments:{}}),X[_e].departments[Re]||(X[_e].departments[Re]={name:ne.department_name||"Unassigned Department",items:[]}),X[_e].departments[Re].items.push(ne)}return X},[u]),R=v.useMemo(()=>l-1,[l]),K=v.useMemo(()=>{const D={},P=r(R);for(const X of m)X.year===P&&(D[X.indicator]=X);return D},[m,R]),re=D=>{const P=new Set(L);P.has(D)?P.delete(D):P.add(D),$(P)},W=(D,P)=>{const X=`${D}-${P}`,ne=new Set(G);ne.has(X)?ne.delete(X):ne.add(X),J(ne)},le=()=>{const D=[];D.push(["Sector","Department","Indicator","Unit","Year","Annual Target","Annual Performance","Q1 Plan","Q2 Plan","Q3 Plan","Q4 Plan","Plan Status"]);const P=T.trim().toLowerCase(),X=P?u.filter(ne=>[ne.indicator_name,ne.department_name,ne.sector_name,ne.indicator_unit].join(" ").toLowerCase().includes(P)):u;for(const ne of X){const _e=p[ne.id];D.push([ne.sector_name||"",ne.department_name||"",ne.indicator_name||"",ne.indicator_unit||"",String(a(ne.year)||""),String(ne.target||""),te(ne.id).toFixed(2),String(_e?.q1||""),String(_e?.q2||""),String(_e?.q3||""),String(_e?.q4||""),_e?.status||""])}return D.map(ne=>ne.map(_e=>`"${String(_e).replace(/"/g,'""')}"`).join(",")).join(`
`)},Ne=async()=>{const D=le();try{await navigator.clipboard.writeText(D),_("CSV data copied to clipboard"),setTimeout(()=>_(null),3e3)}catch{}},Ae=()=>{const D=le(),P=new Blob([D],{type:"text/csv;charset=utf-8;"}),X=URL.createObjectURL(P),ne=document.createElement("a");ne.href=X,ne.download=`quarterly_breakdowns_${l}.csv`,document.body.appendChild(ne),ne.click(),document.body.removeChild(ne),URL.revokeObjectURL(X),_("CSV file downloaded"),setTimeout(()=>_(null),3e3)},Ce=(D,P,X)=>{x(ne=>{const _e=ne[D]||{id:0,plan:D,q1:null,q2:null,q3:null,q4:null,status:"DRAFT"};return{...ne,[D]:{..._e,[P]:X}}})},U=async D=>{if(p[D]?.id)return p[D];const X=(await Se.post("/api/breakdowns/",{plan:D,q1:"0",q2:"0",q3:"0",q4:"0"})).data;return x(ne=>({...ne,[D]:X})),X},ge=async(D,P)=>{try{const X=await U(D),ne=p[D]||X;await Se.put(`/api/breakdowns/${X.id}/`,{plan:D,q1:P&&P.q1!==void 0?P.q1:ne?.q1??"0",q2:P&&P.q2!==void 0?P.q2:ne?.q2??"0",q3:P&&P.q3!==void 0?P.q3:ne?.q3??"0",q4:P&&P.q4!==void 0?P.q4:ne?.q4??"0",status:ne.status||X.status}),await ve(),_("Quarterly plan saved successfully"),setTimeout(()=>_(null),3e3)}catch(X){const ne=X?.userMessage||la(X,"Save failed"),_e=X?.response?.data?.detail||ne,Re=typeof _e=="string"?_e:String(_e||ne||"");Re.toLowerCase().includes("entry window closed")?(F(!1),E("Entry window is closed. Quarterly plan is now read-only.")):E(Re)}},Ee=async D=>{try{const P=await U(D);await Se.post(`/api/breakdowns/${P.id}/submit/`),await ve(),_("Quarterly plan submitted for review"),setTimeout(()=>_(null),3e3)}catch(P){const X=P?.userMessage||la(P,"Submit failed"),ne=P?.response?.data?.detail||X,_e=typeof ne=="string"?ne:String(ne||X||"");_e.toLowerCase().includes("entry window closed")?(F(!1),E("Entry window is closed. Quarterly plan is now read-only.")):E(_e)}},ye=D=>{const P=(D||"DRAFT").toUpperCase(),X={DRAFT:{bg:"bg-gray-100",text:"text-gray-700",icon:""},SUBMITTED:{bg:"bg-blue-100",text:"text-blue-700",icon:""},APPROVED:{bg:"bg-emerald-100",text:"text-emerald-700",icon:""},VALIDATED:{bg:"bg-purple-100",text:"text-purple-700",icon:""},FINAL_APPROVED:{bg:"bg-green-200",text:"text-green-800",icon:""},REJECTED:{bg:"bg-red-100",text:"text-red-700",icon:""}},ne=X[P]||X.DRAFT;return n.jsxs("div",{className:`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full ${ne.bg} ${ne.text} text-xs font-medium`,children:[n.jsx("span",{className:"text-xs",children:ne.icon}),n.jsx("span",{children:P.replace("_"," ")})]})},ke=D=>{const P=(e?.role||"").toUpperCase();if(!ue||P!=="LEAD_EXECUTIVE_BODY")return!1;if(!D)return!0;const X=(p[D]?.status||"DRAFT").toUpperCase();return X==="DRAFT"||X==="REJECTED"},Oe=D=>{const P=(e?.role||"").toUpperCase();if(!ue||P!=="LEAD_EXECUTIVE_BODY")return!1;if(!D)return!0;const X=(p[D]?.status||"DRAFT").toUpperCase();return X==="DRAFT"||X==="REJECTED"},te=D=>{let P=0;for(let X=1;X<=4;X=X+1){const ne=`${D}-${X}`,_e=parseFloat(b[ne]?.value||"0");isNaN(_e)||(P+=_e)}return P},B=D=>D?["q1","q2","q3","q4"].map(X=>parseFloat(D[X]||"0")).reduce((X,ne)=>X+(isNaN(ne)?0:ne),0):0,he=D=>{const P=p[D.id],X=B(P),ne=parseFloat(D.target||"0");return Math.abs(X-(isNaN(ne)?0:ne))>1e-4};(e?.role||"").toUpperCase();const I=D=>{const P=["Q1","Q2","Q3","Q4"],X=["Jan-Mar","Apr-Jun","Jul-Sep","Oct-Dec"];return n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("span",{className:"font-semibold",children:P[D-1]}),n.jsx("span",{className:"text-xs text-gray-500",children:X[D-1]})]})};return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"mb-8",children:[n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Quarterly Breakdown Management"}),n.jsxs("p",{className:"mt-2 text-gray-600",children:["Plan and track quarterly distributions for ",l," (Ethiopian Calendar)"]})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[n.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),n.jsx("input",{type:"text",value:T,onChange:D=>k(D.target.value),placeholder:"Search indicators, departments...",className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-xl bg-white focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent shadow-sm"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("button",{onClick:Ne,className:"inline-flex items-center gap-2 px-4 py-2.5 border border-gray-300 rounded-xl bg-white text-gray-700 hover:bg-gray-50 hover:shadow-sm transition-all duration-200",children:[n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),"Copy CSV"]}),n.jsxs("button",{onClick:Ae,className:"inline-flex items-center gap-2 px-4 py-2.5 border border-emerald-600 rounded-xl bg-emerald-600 text-white hover:bg-emerald-700 hover:shadow-md transition-all duration-200",children:[n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Export CSV"]})]})]})]}),n.jsxs("div",{className:"mt-6 flex flex-wrap items-center justify-between gap-4",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(Nc,{label:"Select Year",value:l,onChange:o,className:"bg-white border-gray-300 rounded-xl"}),n.jsxs("div",{className:"text-sm text-gray-600",children:[n.jsx("span",{className:"font-medium",children:"Showing:"})," ",u.length," indicators for ",l]})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[ke()&&n.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 bg-emerald-50 text-emerald-700 rounded-lg text-sm",children:[n.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-full"}),"Edit Mode Enabled"]}),n.jsxs("div",{className:"text-sm text-gray-500",children:["Role: ",n.jsx("span",{className:"font-medium",children:e?.role||"Guest"})]})]})]})]}),S&&n.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-xl",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("svg",{className:"h-5 w-5 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),n.jsx("div",{className:"text-sm text-red-700",children:S})]})}),O&&n.jsx("div",{className:"mb-6 p-4 bg-emerald-50 border border-emerald-200 rounded-xl",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("svg",{className:"h-5 w-5 text-emerald-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),n.jsx("div",{className:"text-sm text-emerald-700",children:O})]})}),w?n.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-12",children:n.jsxs("div",{className:"flex flex-col items-center justify-center gap-4",children:[n.jsx("div",{className:"w-12 h-12 border-4 border-emerald-200 border-t-emerald-600 rounded-full animate-spin"}),n.jsx("div",{className:"text-gray-600",children:"Loading quarterly breakdowns..."})]})}):u.length===0?n.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-12",children:n.jsxs("div",{className:"flex flex-col items-center justify-center gap-4",children:[n.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center",children:n.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),n.jsxs("div",{className:"text-center",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"No annual plans found"}),n.jsxs("p",{className:"mt-1 text-gray-600",children:["No annual plans available for ",l,". Try selecting a different year."]})]})]})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"bg-white rounded-xl p-5 shadow-sm border",children:[n.jsx("div",{className:"text-sm text-gray-500 font-medium",children:"Total Indicators"}),n.jsx("div",{className:"text-2xl font-bold text-gray-900 mt-1",children:u.length})]}),n.jsxs("div",{className:"bg-white rounded-xl p-5 shadow-sm border",children:[n.jsx("div",{className:"text-sm text-gray-500 font-medium",children:"Sectors"}),n.jsx("div",{className:"text-2xl font-bold text-gray-900 mt-1",children:Object.keys(ce).length})]}),n.jsxs("div",{className:"bg-white rounded-xl p-5 shadow-sm border",children:[n.jsx("div",{className:"text-sm text-gray-500 font-medium",children:"Departments"}),n.jsx("div",{className:"text-2xl font-bold text-gray-900 mt-1",children:Object.values(ce).reduce((D,P)=>D+Object.keys(P.departments).length,0)})]}),n.jsxs("div",{className:"bg-white rounded-xl p-5 shadow-sm border",children:[n.jsx("div",{className:"text-sm text-gray-500 font-medium",children:"Editable Plans"}),n.jsx("div",{className:"text-2xl font-bold text-gray-900 mt-1",children:u.filter(D=>ke(D.id)).length})]})]}),n.jsxs("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[n.jsx("div",{className:"px-6 py-4 bg-gradient-to-r from-gray-50 to-gray-100 border-b",children:n.jsxs("div",{className:"grid grid-cols-12 gap-4 text-sm font-semibold text-gray-700",children:[n.jsx("div",{className:"col-span-12 lg:col-span-3",children:"Indicator Details"}),n.jsx("div",{className:"col-span-12 lg:col-span-7",children:n.jsxs("div",{className:"grid grid-cols-8 gap-2",children:[n.jsxs("div",{className:"col-span-2 text-center",children:["Baseline (",R,")"]}),n.jsx("div",{className:"col-span-2 text-center",children:"Annual Target"}),[1,2,3,4].map(D=>n.jsx("div",{className:"text-center",children:I(D)},D))]})}),n.jsx("div",{className:"col-span-12 lg:col-span-2 text-center",children:"Status & Actions"})]})}),n.jsx("div",{className:"divide-y divide-gray-100",children:Object.entries(ce).map(([D,P])=>n.jsxs("div",{className:"bg-white",children:[n.jsx("div",{className:"px-6 py-4 bg-gradient-to-r from-emerald-50 to-emerald-100 border-b border-emerald-200 cursor-pointer hover:from-emerald-100 transition-colors",onClick:()=>re(D),children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("svg",{className:`w-5 h-5 text-emerald-600 transform transition-transform ${L.has(D)?"rotate-90":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:P.name}),n.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:[Object.keys(P.departments).length," departments "," ",Object.values(P.departments).reduce((X,ne)=>X+ne.items.length,0)," indicators"]})]})]}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsx("div",{className:"px-3 py-1 bg-white rounded-full text-sm text-gray-700 border",children:"Sector"})})]})}),L.has(D)&&Object.entries(P.departments).map(([X,ne])=>n.jsxs("div",{className:"border-b border-gray-100",children:[n.jsx("div",{className:"px-6 py-3 bg-gray-50 cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>W(D,X),children:n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("svg",{className:`w-4 h-4 text-gray-500 transform transition-transform ${G.has(`${D}-${X}`)?"rotate-90":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:ne.name}),n.jsxs("div",{className:"text-sm text-gray-600",children:[ne.items.length," indicators"]})]})]})})}),G.has(`${D}-${X}`)&&n.jsx("div",{className:"overflow-x-auto",children:(()=>{const _e=new Map,Re=[];for(const Ve of ne.items)if(Ve.indicator_group_name){const vt=Ve.indicator_group_name;_e.has(vt)||_e.set(vt,[]),_e.get(vt).push(Ve)}else Re.push(Ve);return n.jsxs("div",{className:"divide-y divide-gray-100",children:[Array.from(_e.entries()).map(([Ve,vt])=>n.jsxs("div",{children:[n.jsx("div",{className:"px-6 py-2.5 bg-gray-100",children:n.jsx("div",{className:"text-sm font-medium text-gray-700",children:Ve})}),vt.map(Ze=>Z(Ze))]},`group-${Ve}`)),Re.map(Ve=>Z(Ve))]})})()})]},X))]},D))})]})]}),q.open&&q.planId&&q.quarter&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:n.jsxs("div",{className:"w-full max-w-md bg-white rounded-2xl shadow-2xl",children:[n.jsxs("div",{className:"px-6 py-4 bg-gradient-to-r from-emerald-600 to-emerald-700 text-white rounded-t-2xl",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"font-semibold text-lg",children:"Edit Quarterly Plan"}),n.jsx("button",{onClick:()=>fe({open:!1,planId:null,quarter:null,value:"",indicatorName:""}),className:"text-white/80 hover:text-white text-xl",children:""})]}),n.jsxs("div",{className:"text-sm opacity-90 mt-1",children:["Quarter ",q.quarter,"  ",q.indicatorName]})]}),n.jsxs("div",{className:"p-6 space-y-5",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Target Value"}),n.jsx("input",{type:"number",step:"0.01",value:q.value,onChange:D=>fe(P=>({...P,value:D.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent text-lg",placeholder:"Enter target value",autoFocus:!0})]}),n.jsxs("div",{className:"text-sm text-gray-600 bg-gray-50 p-3 rounded-lg",children:[n.jsx("div",{className:"font-medium mb-1",children:"Note:"}),n.jsx("div",{children:"Quarterly plans must sum to the annual target. The system will validate this before submission."})]})]}),n.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex justify-end gap-3",children:[n.jsx("button",{onClick:()=>fe({open:!1,planId:null,quarter:null,value:"",indicatorName:""}),className:"px-5 py-2.5 border border-gray-300 rounded-xl text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),n.jsx("button",{onClick:()=>{if(q.planId&&q.quarter){const D=`q${q.quarter}`;Ce(q.planId,D,q.value),ge(q.planId,{[D]:q.value})}fe({open:!1,planId:null,quarter:null,value:"",indicatorName:""})},className:"px-5 py-2.5 bg-emerald-600 text-white rounded-xl hover:bg-emerald-700 transition-colors shadow-sm",children:"Save Changes"})]})]})}),V.open&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",children:n.jsxs("div",{className:"w-full max-w-xl bg-white rounded-2xl shadow-2xl overflow-hidden",children:[n.jsxs("div",{className:"px-6 py-4 bg-gradient-to-r from-gray-900 to-gray-800 text-white flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-9 h-9 rounded-lg bg-white/10 flex items-center justify-center",children:n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01M5.07 19h13.86A2.07 2.07 0 0021 16.93V7.07A2.07 2.07 0 0018.93 5H5.07A2.07 2.07 0 003 7.07v9.86A2.07 2.07 0 005.07 19z"})})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-lg font-semibold",children:V.title||"Rejection Note"}),n.jsx("div",{className:"text-xs text-white/70",children:(()=>{const D=V.by&&String(V.by).trim(),P=V.at&&String(V.at).trim();let X="";if(P){const ne=new Date(P);X=isNaN(ne.getTime())?P:ne.toLocaleString()}return D&&X?`By ${D}  ${X}`:D?`By ${D}`:X||"Reason provided during review"})()})]})]}),n.jsx("button",{onClick:()=>ae({open:!1,title:"",note:""}),className:"text-white/80 hover:text-white text-xl","aria-label":"Close",children:""})]}),n.jsx("div",{className:"p-6",children:n.jsx("div",{className:"text-sm text-gray-800 whitespace-pre-wrap break-words border border-gray-200 rounded-xl bg-gray-50 px-4 py-4 max-h-72 overflow-auto",children:V.note||"No note provided."})}),n.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200 flex items-center justify-end gap-3",children:[n.jsx("button",{onClick:()=>{try{navigator.clipboard.writeText(V.note||"")}catch{}},className:"px-4 py-2.5 rounded-xl border border-gray-300 text-gray-700 hover:bg-gray-100 transition-colors",children:"Copy"}),n.jsx("button",{onClick:()=>ae({open:!1,title:"",note:""}),className:"px-4 py-2.5 rounded-xl bg-emerald-600 text-white hover:bg-emerald-700 shadow transition-colors",children:"Close"})]})]})})]})});function Z(D){const P=p[D.id],X=Re=>(P?P[`q${Re}`]:null)??"",ne=K[D.indicator],_e=ne?String(ne.target||""):"-";return n.jsx("div",{className:"px-6 py-4 hover:bg-gray-50 transition-colors border-b border-gray-100 last:border-0",children:n.jsxs("div",{className:"grid grid-cols-12 gap-4 items-center",children:[n.jsxs("div",{className:"col-span-12 lg:col-span-3",children:[n.jsx("div",{className:"font-medium text-gray-900",children:D.indicator_name}),n.jsxs("div",{className:"text-sm text-gray-500 mt-1 flex items-center gap-2",children:[n.jsxs("span",{className:"inline-flex items-center gap-1",children:[n.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),D.indicator_unit||"No unit"]}),D.indicator_group_name&&n.jsx("span",{className:"inline-flex items-center gap-1 bg-gray-100 px-2 py-0.5 rounded text-xs",children:D.indicator_group_name})]})]}),n.jsx("div",{className:"col-span-12 lg:col-span-7",children:n.jsxs("div",{className:"grid grid-cols-8 gap-2",children:[n.jsxs("div",{className:"col-span-2",children:[n.jsx("div",{className:"bg-gray-100 text-gray-700 px-3 py-2.5 rounded-lg text-center font-medium",children:_e}),n.jsx("div",{className:"text-xs text-gray-500 text-center mt-1",children:"Baseline"})]}),n.jsxs("div",{className:"col-span-2",children:[n.jsxs("div",{className:`px-3 py-2.5 rounded-lg text-center font-medium ${he(D)?"bg-amber-100 text-amber-800 border border-amber-200":"bg-emerald-100 text-emerald-800 border border-emerald-200"}`,children:[D.target||"0",he(D)&&n.jsxs("div",{className:"text-xs mt-1 text-amber-600",children:[" Mismatch: ",B(P).toFixed(2)]})]}),n.jsx("div",{className:"text-xs text-gray-500 text-center mt-1",children:"Annual"})]}),[1,2,3,4].map(Re=>n.jsxs("div",{className:"col-span-1",children:[n.jsx("button",{disabled:!ke(D.id),title:`${D.indicator_name}  Q${Re}: ${String(X(Re)||"0")}`,onClick:()=>ke(D.id)&&fe({open:!0,planId:D.id,quarter:Re,value:String(X(Re)||""),indicatorName:D.indicator_name}),className:`w-full px-2 py-2.5 rounded-lg text-center font-medium transition-all ${ke(D.id)?"bg-emerald-50 text-emerald-700 border border-emerald-200 hover:bg-emerald-100 hover:shadow-sm":"bg-gray-50 text-gray-500 border border-gray-200 cursor-not-allowed"}`,children:X(Re)||"0"}),n.jsxs("div",{className:"text-xs text-gray-500 text-center mt-1",children:["Q",Re]})]},Re))]})}),n.jsx("div",{className:"col-span-12 lg:col-span-2",children:n.jsxs("div",{className:"flex flex-col gap-3",children:[n.jsx("div",{className:"flex justify-center",children:ye(P?.status)}),n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsx("button",{disabled:!ke(D.id),onClick:()=>ke(D.id)&&ge(D.id),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${ke(D.id)?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-200 text-gray-500 cursor-not-allowed"}`,children:"Save Plan"}),n.jsx("button",{disabled:!Oe(D.id),onClick:()=>Oe(D.id)&&Ee(D.id),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${Oe(D.id)?"bg-emerald-600 text-white hover:bg-emerald-700":"bg-gray-200 text-gray-500 cursor-not-allowed"}`,children:(P?.status||"").toUpperCase()==="REJECTED"?"Resubmit":"Submit"})]}),P?.status?.toUpperCase()==="REJECTED"&&P?.review_comment&&n.jsx("button",{onClick:()=>ae({open:!0,title:"Plan Rejection Details",note:P.review_comment||"",by:P?.reviewed_by_name||P?.rejected_by_name||"",at:P?.reviewed_at||P?.rejected_at||""}),className:"text-xs text-red-600 bg-red-50 border border-red-100 rounded px-2 py-1 hover:bg-red-100 transition-colors",children:"View Rejection Note"})]})})]})},D.id)}}function BR(){const{user:e}=St(),t=FA(),[r,a]=v.useState(t),[l,o]=v.useState([]),[u,f]=v.useState([]),[m,h]=v.useState({}),[p,x]=v.useState({}),[b,j]=v.useState(!1),[w,N]=v.useState(null),[S,E]=v.useState(null),[O,_]=v.useState(""),[T,k]=v.useState(new Set),[L,$]=v.useState(new Set),[G,J]=v.useState(!0),[ue,F]=v.useState({1:!0,2:!0,3:!0,4:!0}),[q,fe]=v.useState(()=>({open:!1,planId:null,quarter:null,value:"",indicatorName:"",planValue:"",annualTarget:"",varianceDescription:""})),[z,Y]=v.useState(()=>({open:!1,title:"",note:""})),C=async()=>{j(!0),N(null);try{const te=Di(r),B=Di(r-1),[he,I,Z,D,P,X]=await Promise.all([Se.get("/api/annual-plans/",{params:{year:te}}),Se.get("/api/annual-plans/",{params:{year:B}}),Se.get("/api/breakdowns/"),Se.get("/api/performances/",{params:{year:te}}),Se.get("/api/performances/",{params:{year:B}}),Se.get("/api/submission-windows/status/",{params:{year:te}})]),ne=he.data||[],_e=I.data||[];o(ne),f(_e);const Re={};for(const Ze of Z.data||[])Re[Ze.plan]=Ze;h(Re);const Ve={};for(const Ze of D.data||[])Ze&&(Ve[`${Ze.plan}-${Ze.quarter}`]=Ze);for(const Ze of P.data||[])Ze&&(Ve[`${Ze.plan}-${Ze.quarter}`]=Ze);x(Ve);const vt=X?.data;if(vt&&vt.performance_windows){const Ze={1:!!vt.performance_windows[1],2:!!vt.performance_windows[2],3:!!vt.performance_windows[3],4:!!vt.performance_windows[4]};F(Ze),J(Ze[1]||Ze[2]||Ze[3]||Ze[4])}if(Object.keys(V).length>0){const Ze=Object.keys(V)[0];k(new Set([Ze]));const rn=Object.keys(V[Ze]?.departments||{})[0];$(new Set([`${Ze}-${rn}`]))}}catch(te){N(te?.response?.data?.detail||"Failed to load data")}finally{j(!1)}};v.useEffect(()=>{C()},[r]);const V=v.useMemo(()=>{const te=(l||[]).filter(he=>O?[he.indicator_name,he.department_name,he.sector_name,he.indicator_unit].join(" ").toLowerCase().includes(O.toLowerCase()):!0),B={};for(const he of te){const I=String(he.sector_id??"unknown"),Z=String(he.department_id??"unknown");B[I]||(B[I]={name:he.sector_name||"Unassigned Sector",departments:{}}),B[I].departments[Z]||(B[I].departments[Z]={name:he.department_name||"Unassigned Department",items:[]}),B[I].departments[Z].items.push(he)}return B},[l,O]),ae=te=>{const B=new Set(T);B.has(te)?B.delete(te):B.add(te),k(B)},ve=(te,B)=>{const he=`${te}-${B}`,I=new Set(L);I.has(he)?I.delete(he):I.add(he),$(I)},ce=()=>{const te=[];te.push(["Sector","Department","Indicator","Unit","Year","Annual Target","Annual Performance","Q1 Plan","Q1 Perf","Q1 Perf Status","Q2 Plan","Q2 Perf","Q2 Perf Status","Q3 Plan","Q3 Perf","Q3 Perf Status","Q4 Plan","Q4 Perf","Q4 Perf Status"]);const B=(l||[]).filter(he=>O?[he.indicator_name,he.department_name,he.sector_name,he.indicator_unit].join(" ").toLowerCase().includes(O.toLowerCase()):!0);for(const he of B){const I=m[he.id],Z=P=>p[`${he.id}-${P}`]?.value||"",D=P=>p[`${he.id}-${P}`]?.status||"";te.push([he.sector_name||"",he.department_name||"",he.indicator_name||"",he.indicator_unit||"",String(r||""),String(he.target||""),re(he.id).toFixed(2),String(I?.q1||""),Z(1),D(1),String(I?.q2||""),Z(2),D(2),String(I?.q3||""),Z(3),D(3),String(I?.q4||""),Z(4),D(4)])}return te.map(he=>he.map(I=>`"${String(I).replace(/"/g,'""')}"`).join(",")).join(`
`)},R=async()=>{const te=ce();try{await navigator.clipboard.writeText(te),E("CSV data copied to clipboard"),setTimeout(()=>E(null),3e3)}catch{}},K=()=>{const te=ce(),B=new Blob([te],{type:"text/csv;charset=utf-8;"}),he=URL.createObjectURL(B),I=document.createElement("a");I.href=he,I.download=`quarterly_performances_${r}.csv`,document.body.appendChild(I),I.click(),document.body.removeChild(I),URL.revokeObjectURL(he),E("CSV file downloaded"),setTimeout(()=>E(null),3e3)},re=te=>{let B=0;for(let he=1;he<=4;he=he+1){const I=`${te}-${he}`,Z=parseFloat(p[I]?.value||"0");isNaN(Z)||(B+=Z)}return B},W=te=>{const B=u.find(Z=>Z.indicator===te);if(!B)return{target:0,perf:0};let he=0;const I=new Set(["APPROVED","VALIDATED","FINAL_APPROVED"]);for(let Z=1;Z<=4;Z=Z+1){const D=`${B.id}-${Z}`,P=p[D],ne=I.has(String(P?.status||"DRAFT").toUpperCase())?parseFloat(P?.value||"0"):0;isNaN(ne)||(he+=ne)}return{target:parseFloat(B.target||"0")||0,perf:he}},le=(te,B)=>{const he=(e?.role||"").toUpperCase();if(!G||he!=="LEAD_EXECUTIVE_BODY")return!1;const I=(m[te]?.status||"DRAFT").toUpperCase();if(!(I==="APPROVED"||I==="VALIDATED"||I==="FINAL_APPROVED"))return!1;if(B){if(!ue[B])return!1;const Z=`${te}-${B}`,D=(p[Z]?.status||"DRAFT").toUpperCase();return D==="DRAFT"||D==="REJECTED"}return!0},Ne=()=>{const te=(e?.role||"").toUpperCase();return G&&te==="LEAD_EXECUTIVE_BODY"},Ae=async(te,B,he)=>{const I=`${te}-${B}`;if(p[I]?.id)return p[I];const D=(await Se.post("/api/performances/",{plan:te,quarter:B,value:he??"0"})).data;return x(P=>({...P,[I]:D})),D},Ce=async(te,B,he)=>{try{const I=m[te],Z=I?I[`q${B}`]:null,P=he===""?Number((Z&&Z!==""?Z:"0")||"0").toFixed(2):Number(he).toFixed(2),X=await Ae(te,B,P);await Se.put(`/api/performances/${X.id}/`,{plan:te,quarter:B,value:P,status:X.status});const ne=`${te}-${B}`;x(_e=>({..._e,[ne]:{..._e[ne]||X,value:P}})),E(`Q${B} performance saved`),setTimeout(()=>E(null),3e3),await C()}catch(I){const Z=I?.response?.data?.detail||"";typeof Z=="string"&&Z.toLowerCase().includes("entry window closed")?(J(!1),N("Entry window is closed. Quarterly performance is now read-only.")):N(Z||"Save performance failed")}},U=async(te,B,he)=>{try{let I;if(typeof he=="string"){const Z=m[te],D=Z?Z[`q${B}`]:null,X=he===""?Number((D&&D!==""?D:"0")||"0").toFixed(2):Number(he).toFixed(2);I=await Ae(te,B,X),await Se.put(`/api/performances/${I.id}/`,{plan:te,quarter:B,value:X,status:I.status});const ne=`${te}-${B}`;x(_e=>({..._e,[ne]:{..._e[ne]||I,value:X}}))}else I=await Ae(te,B);await Se.post(`/api/performances/${I.id}/submit/`,{variance_description:q.varianceDescription||void 0}),E(`Q${B} performance submitted for review`),setTimeout(()=>E(null),3e3),await C()}catch(I){const Z=I?.response?.data?.detail||"";typeof Z=="string"&&Z.toLowerCase().includes("entry window closed")?(J(!1),N("Entry window is closed. Quarterly performance is now read-only.")):N(Z||"Submit performance failed")}},ge=te=>{const B=(te||"DRAFT").toUpperCase(),he={DRAFT:{bg:"bg-gray-100",text:"text-gray-700",icon:""},SUBMITTED:{bg:"bg-blue-100",text:"text-blue-700",icon:""},APPROVED:{bg:"bg-emerald-100",text:"text-emerald-700",icon:""},VALIDATED:{bg:"bg-purple-100",text:"text-purple-700",icon:""},FINAL_APPROVED:{bg:"bg-green-200",text:"text-green-800",icon:""},REJECTED:{bg:"bg-red-100",text:"text-red-700",icon:""}},I=he[B]||he.DRAFT;return n.jsxs("div",{className:`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full ${I.bg} ${I.text} text-xs font-medium`,children:[n.jsx("span",{className:"text-xs",children:I.icon}),n.jsx("span",{children:B.replace("_"," ")})]})},Ee=te=>{const B=["Q1","Q2","Q3","Q4"],he=["Jan-Mar","Apr-Jun","Jul-Sep","Oct-Dec"];return n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("span",{className:"font-semibold",children:B[te-1]}),n.jsx("span",{className:"text-xs text-gray-500",children:he[te-1]})]})},ye=(te,B)=>{const he=parseFloat(te||"0"),I=parseFloat(B||"0");return he===0?0:I/he*100},ke=(te,B)=>{const he=parseFloat(te||"0"),I=parseFloat(B||"0");if(I===0)return"bg-gray-100 text-gray-700";const Z=he/I*100;return Z>=100?"bg-green-100 text-green-800 border border-green-300":Z>=80?"bg-emerald-100 text-emerald-800 border border-emerald-300":Z>=50?"bg-blue-100 text-blue-800 border border-blue-300":Z>0?"bg-yellow-100 text-yellow-800 border border-yellow-300":"bg-red-50 text-red-700 border border-red-200"};return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"mb-8",children:[n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Quarterly Performance Tracking"}),n.jsxs("p",{className:"mt-2 text-gray-600",children:["Track and report quarterly performance against targets for ",r," (Ethiopian Calendar)"]})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[n.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),n.jsx("input",{type:"text",value:O,onChange:te=>_(te.target.value),placeholder:"Search indicators, departments...",className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-xl bg-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent shadow-sm"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("button",{onClick:R,className:"inline-flex items-center gap-2 px-4 py-2.5 border border-gray-300 rounded-xl bg-white text-gray-700 hover:bg-gray-50 hover:shadow-sm transition-all duration-200",children:[n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),"Copy CSV"]}),n.jsxs("button",{onClick:K,className:"inline-flex items-center gap-2 px-4 py-2.5 border border-blue-600 rounded-xl bg-blue-600 text-white hover:bg-blue-700 hover:shadow-md transition-all duration-200",children:[n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Export CSV"]})]})]})]}),n.jsxs("div",{className:"mt-6 flex flex-wrap items-center justify-between gap-4",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"flex items-center gap-2 bg-white border border-gray-300 rounded-xl px-4 py-2",children:[n.jsx("label",{className:"text-sm text-gray-700 font-medium",children:"Year:"}),n.jsx("input",{type:"number",min:2e3,max:3e3,value:r,onChange:te=>a(Number(te.target.value)),className:"w-28 border-0 focus:outline-none focus:ring-0 text-right font-medium"})]}),n.jsxs("div",{className:"text-sm text-gray-600",children:[n.jsx("span",{className:"font-medium",children:"Showing:"})," ",l.length," indicators for ",r]})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[le(0)&&n.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 bg-blue-50 text-blue-700 rounded-lg text-sm",children:[n.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),"Performance Edit Mode Enabled"]}),n.jsxs("div",{className:"text-sm text-gray-500",children:["Role: ",n.jsx("span",{className:"font-medium",children:e?.role||"Guest"})]})]})]})]}),w&&n.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-xl",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("svg",{className:"h-5 w-5 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),n.jsx("div",{className:"text-sm text-red-700",children:w})]})}),S&&n.jsx("div",{className:"mb-6 p-4 bg-emerald-50 border border-emerald-200 rounded-xl",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("svg",{className:"h-5 w-5 text-emerald-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),n.jsx("div",{className:"text-sm text-emerald-700",children:S})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[n.jsxs("div",{className:"bg-white rounded-xl p-5 shadow-sm border",children:[n.jsx("div",{className:"text-sm text-gray-500 font-medium",children:"Total Indicators"}),n.jsx("div",{className:"text-2xl font-bold text-gray-900 mt-1",children:l.length})]}),n.jsxs("div",{className:"bg-white rounded-xl p-5 shadow-sm border",children:[n.jsx("div",{className:"text-sm text-gray-500 font-medium",children:"Tracked Quarters"}),n.jsx("div",{className:"text-2xl font-bold text-gray-900 mt-1",children:Object.values(p).filter(te=>te?.plan&&l.some(B=>B.id===te.plan)).length})]}),n.jsxs("div",{className:"bg-white rounded-xl p-5 shadow-sm border",children:[n.jsx("div",{className:"text-sm text-gray-500 font-medium",children:"Submitted"}),n.jsx("div",{className:"text-2xl font-bold text-gray-900 mt-1",children:Object.values(p).filter(te=>te?.status==="SUBMITTED"&&l.some(B=>B.id===te.plan)).length})]}),n.jsxs("div",{className:"bg-white rounded-xl p-5 shadow-sm border",children:[n.jsx("div",{className:"text-sm text-gray-500 font-medium",children:"Approved"}),n.jsx("div",{className:"text-2xl font-bold text-gray-900 mt-1",children:Object.values(p).filter(te=>["APPROVED","VALIDATED","FINAL_APPROVED"].includes(te?.status)&&l.some(B=>B.id===te.plan)).length})]})]}),b?n.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-12",children:n.jsxs("div",{className:"flex flex-col items-center justify-center gap-4",children:[n.jsx("div",{className:"w-12 h-12 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin"}),n.jsx("div",{className:"text-gray-600",children:"Loading performance data..."})]})}):l.length===0?n.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-12",children:n.jsxs("div",{className:"flex flex-col items-center justify-center gap-4",children:[n.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center",children:n.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),n.jsxs("div",{className:"text-center",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"No performance data found"}),n.jsxs("p",{className:"mt-1 text-gray-600",children:["No annual plans available for ",r,". Try selecting a different year."]})]})]})}):n.jsxs("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[n.jsx("div",{className:"px-6 py-4 bg-gradient-to-r from-gray-50 to-gray-100 border-b",children:n.jsxs("div",{className:"grid grid-cols-12 gap-4 text-sm font-semibold text-gray-700",children:[n.jsx("div",{className:"col-span-12 lg:col-span-3",children:"Indicator Details"}),n.jsx("div",{className:"col-span-12 lg:col-span-9",children:n.jsxs("div",{className:"grid grid-cols-9 gap-2",children:[n.jsxs("div",{className:"col-span-2 text-center",children:["Baseline (",r-1,")"]}),n.jsx("div",{className:"col-span-2 text-center",children:"Target vs Performance"}),[1,2,3,4].map(te=>n.jsx("div",{className:"text-center",children:Ee(te)},te))]})})]})}),n.jsx("div",{className:"divide-y divide-gray-100",children:Object.entries(V).map(([te,B])=>n.jsxs("div",{className:"bg-white",children:[n.jsx("div",{className:"px-6 py-4 bg-gradient-to-r from-blue-50 to-blue-100 border-b border-blue-200 cursor-pointer hover:from-blue-100 transition-colors",onClick:()=>ae(te),children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("svg",{className:`w-5 h-5 text-blue-600 transform transition-transform ${T.has(te)?"rotate-90":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:B.name}),n.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:[Object.keys(B.departments).length," departments "," ",Object.values(B.departments).reduce((he,I)=>he+I.items.length,0)," indicators"]})]})]}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsx("div",{className:"px-3 py-1 bg-white rounded-full text-sm text-gray-700 border",children:"Sector"})})]})}),T.has(te)&&Object.entries(B.departments).map(([he,I])=>n.jsxs("div",{className:"border-b border-gray-100",children:[n.jsx("div",{className:"px-6 py-3 bg-gray-50 cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>ve(te,he),children:n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("svg",{className:`w-4 h-4 text-gray-500 transform transition-transform ${L.has(`${te}-${he}`)?"rotate-90":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:I.name}),n.jsxs("div",{className:"text-sm text-gray-600",children:[I.items.length," indicators"]})]})]})})}),L.has(`${te}-${he}`)&&n.jsx("div",{className:"overflow-x-auto",children:(()=>{const Z=new Map,D=[];for(const P of I.items)if(P.indicator_group_name){const X=P.indicator_group_name;Z.has(X)||Z.set(X,[]),Z.get(X).push(P)}else D.push(P);return n.jsxs("div",{className:"divide-y divide-gray-100",children:[Array.from(Z.entries()).map(([P,X])=>n.jsxs("div",{children:[n.jsx("div",{className:"px-6 py-2.5 bg-gray-100",children:n.jsx("div",{className:"text-sm font-medium text-gray-700",children:P})}),X.map(ne=>Oe(ne))]},`group-${P}`)),D.map(P=>Oe(P))]})})()})]},he))]},te))})]}),q.open&&q.planId&&q.quarter&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:n.jsxs("div",{className:"w-full max-w-md bg-white rounded-2xl shadow-2xl",children:[n.jsxs("div",{className:"px-6 py-4 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-t-2xl",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"font-semibold text-lg",children:"Enter Performance Data"}),n.jsx("button",{onClick:()=>fe({open:!1,planId:null,quarter:null,value:"",indicatorName:"",planValue:"",annualTarget:"",varianceDescription:""}),className:"text-white/80 hover:text-white text-xl",children:""})]}),n.jsxs("div",{className:"text-sm opacity-90 mt-1",children:["Quarter ",q.quarter,"  ",q.indicatorName]})]}),n.jsxs("div",{className:"p-6 space-y-5",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[n.jsx("div",{className:"text-xs text-gray-500",children:"Plan Target"}),n.jsx("div",{className:"font-semibold text-gray-900",children:q.planValue||"0"})]}),n.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[n.jsx("div",{className:"text-xs text-gray-500",children:"Annual Target"}),n.jsx("div",{className:"font-semibold text-gray-900",children:q.annualTarget||"0"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Actual Performance Value"}),n.jsx("input",{type:"number",step:"0.01",value:q.value,onChange:te=>fe(B=>({...B,value:te.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-lg",placeholder:"Enter performance value",autoFocus:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Variance Explanation"}),n.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Required if the quarterly performance is less than 84% or greater than 110% of the quarterly target."}),n.jsx("textarea",{value:q.varianceDescription,onChange:te=>fe(B=>({...B,varianceDescription:te.target.value})),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm resize-y",placeholder:"Provide explanation when performance is significantly below or above the target"})]}),!le(q.planId,q.quarter)&&n.jsxs("div",{className:"text-sm text-amber-700 bg-amber-50 border border-amber-200 rounded-lg p-3",children:[n.jsx("div",{className:"font-medium mb-1",children:" Edit Restrictions"}),n.jsxs("div",{className:"text-xs",children:["Quarterly performance can only be edited when:",n.jsxs("ul",{className:"list-disc list-inside mt-1 space-y-1",children:[n.jsx("li",{children:"You are a Lead Executive Body member"}),n.jsx("li",{children:"The quarterly breakdown plan is approved"}),n.jsx("li",{children:"The performance status is DRAFT or REJECTED"})]})]})]})]}),n.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex justify-end gap-3",children:[n.jsx("button",{onClick:()=>fe({open:!1,planId:null,quarter:null,value:"",indicatorName:"",planValue:"",annualTarget:"",varianceDescription:""}),className:"px-5 py-2.5 border border-gray-300 rounded-xl text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),n.jsx("button",{disabled:!le(q.planId,q.quarter),onClick:()=>{q.planId&&q.quarter&&Ce(q.planId,q.quarter,q.value),fe({open:!1,planId:null,quarter:null,value:"",indicatorName:"",planValue:"",annualTarget:"",varianceDescription:""})},className:`px-5 py-2.5 rounded-xl transition-colors shadow-sm ${le(q.planId,q.quarter)?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-200 text-gray-500 cursor-not-allowed"}`,children:"Save Performance"}),n.jsx("button",{disabled:!Ne(),onClick:()=>{Ne()&&q.planId&&q.quarter&&U(q.planId,q.quarter,q.value),fe({open:!1,planId:null,quarter:null,value:"",indicatorName:"",planValue:"",annualTarget:"",varianceDescription:""})},className:`px-5 py-2.5 rounded-xl transition-colors shadow-sm ${Ne()?"bg-emerald-600 text-white hover:bg-emerald-700":"bg-gray-200 text-gray-500 cursor-not-allowed"}`,children:"Submit for Review"})]})]})}),z.open&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:n.jsxs("div",{className:"w-full max-w-xl bg-white rounded-2xl shadow-2xl overflow-hidden",children:[n.jsxs("div",{className:"px-6 py-4 bg-gradient-to-r from-gray-900 to-gray-800 text-white flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-9 h-9 rounded-lg bg-white/10 flex items-center justify-center",children:n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01M5.07 19h13.86A2.07 2.07 0 0021 16.93V7.07A2.07 2.07 0 0018.93 5H5.07A2.07 2.07 0 003 7.07v9.86A2.07 2.07 0 005.07 19z"})})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-lg font-semibold",children:z.title||"Performance Rejection Note"}),n.jsxs("div",{className:"text-xs text-white/70",children:[z.indicatorName&&`${z.indicatorName}  `,z.quarter&&`Quarter ${z.quarter}  `,(()=>{const te=z.by&&String(z.by).trim(),B=z.at&&String(z.at).trim();let he="";if(B){const I=new Date(B);he=isNaN(I.getTime())?B:I.toLocaleString()}return te&&he?`By ${te}  ${he}`:te?`By ${te}`:he||"Reason provided during review"})()]})]})]}),n.jsx("button",{onClick:()=>Y({open:!1,title:"",note:""}),className:"text-white/80 hover:text-white text-xl","aria-label":"Close",children:""})]}),n.jsx("div",{className:"p-6",children:n.jsx("div",{className:"text-sm text-gray-800 whitespace-pre-wrap break-words border border-gray-200 rounded-xl bg-gray-50 px-4 py-4 max-h-72 overflow-auto",children:z.note||"No rejection note provided."})}),n.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200 flex items-center justify-end gap-3",children:[n.jsx("button",{onClick:()=>{try{navigator.clipboard.writeText(z.note||""),E("Rejection note copied to clipboard"),setTimeout(()=>E(null),3e3)}catch{}},className:"px-4 py-2.5 rounded-xl border border-gray-300 text-gray-700 hover:bg-gray-100 transition-colors",children:"Copy Note"}),n.jsx("button",{onClick:()=>Y({open:!1,title:"",note:""}),className:"px-4 py-2.5 rounded-xl bg-emerald-600 text-white hover:bg-emerald-700 shadow transition-colors",children:"Close"})]})]})})]})});function Oe(te){const B=m[te.id],he=W(te.indicator),I=re(te.id),Z=ne=>(B?B[`q${ne}`]:null)??"",D=ne=>p[`${te.id}-${ne}`]?.value??"",P=ne=>p[`${te.id}-${ne}`]?.status??"",X=ne=>{const _e=String(D(ne)||"").trim(),Re=String(Z(ne)||"").trim(),Ve=_e!==""?_e:Re!==""?Re:"";fe({open:!0,planId:te.id,quarter:ne,value:Ve,indicatorName:te.indicator_name,planValue:Z(ne),annualTarget:te.target,varianceDescription:""})};return n.jsx("div",{className:"px-6 py-4 hover:bg-gray-50 transition-colors border-b border-gray-100 last:border-0",children:n.jsxs("div",{className:"grid grid-cols-12 gap-4 items-center",children:[n.jsxs("div",{className:"col-span-12 lg:col-span-3",children:[n.jsx("div",{className:"font-medium text-gray-900",children:te.indicator_name}),n.jsxs("div",{className:"text-sm text-gray-500 mt-1 flex items-center gap-2",children:[n.jsxs("span",{className:"inline-flex items-center gap-1",children:[n.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),te.indicator_unit||"No unit"]}),te.indicator_group_name&&n.jsx("span",{className:"inline-flex items-center gap-1 bg-gray-100 px-2 py-0.5 rounded text-xs",children:te.indicator_group_name})]})]}),n.jsx("div",{className:"col-span-12 lg:col-span-9",children:n.jsxs("div",{className:"grid grid-cols-9 gap-2",children:[n.jsx("div",{className:"col-span-2",children:n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"bg-gray-100 text-gray-700 px-3 py-2.5 rounded-lg text-center",children:[n.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Target"}),n.jsx("div",{className:"font-semibold",children:he.target.toFixed(2)})]}),n.jsxs("div",{className:"bg-blue-100 text-blue-800 px-3 py-2.5 rounded-lg text-center border border-blue-200",children:[n.jsx("div",{className:"text-xs text-blue-600 mb-1",children:"Actual"}),n.jsx("div",{className:"font-semibold",children:he.perf.toFixed(2)})]})]})}),n.jsx("div",{className:"col-span-2",children:n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"bg-emerald-100 text-emerald-800 px-3 py-2.5 rounded-lg text-center border border-emerald-200",children:[n.jsx("div",{className:"text-xs text-emerald-600 mb-1",children:"Target"}),n.jsx("div",{className:"font-semibold",children:te.target||"0"})]}),n.jsxs("div",{className:`px-3 py-2.5 rounded-lg text-center border ${I>=parseFloat(te.target||"0")?"bg-green-100 text-green-800 border-green-200":"bg-blue-100 text-blue-800 border-blue-200"}`,children:[n.jsx("div",{className:"text-xs mb-1",children:"Performance"}),n.jsx("div",{className:"font-semibold",children:I.toFixed(2)}),parseFloat(te.target||"0")>0&&n.jsxs("div",{className:"text-xs mt-1 opacity-75",children:[(I/parseFloat(te.target||"0")*100).toFixed(1),"%"]})]})]})}),[1,2,3,4].map(ne=>{const _e=D(ne),Re=Z(ne),Ve=P(ne),vt=ye(Re,_e),Ze=Math.min(Math.max(vt,0),100),rn=ke(_e,Re);return n.jsx("div",{className:"col-span-1",children:n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"bg-gray-50 text-gray-700 px-2 py-2 rounded-lg text-center",children:[n.jsx("div",{className:"text-xs text-gray-500",children:"Plan"}),n.jsx("div",{className:"font-medium",children:Re||"0"})]}),n.jsxs("button",{disabled:!le(te.id,ne),onClick:()=>X(ne),className:`w-full px-2 py-2 rounded-lg text-center transition-all relative overflow-hidden ${rn} ${le(te.id,ne)?"hover:shadow-sm hover:scale-[1.02] cursor-pointer":"cursor-not-allowed"}`,title:_e||"-",children:[n.jsx("div",{className:"text-xs mb-1",children:"Performance"}),n.jsx("div",{className:"font-semibold",children:_e||"-"}),Re&&parseFloat(Re)>0&&n.jsxs("div",{className:"mt-1 text-[11px] text-gray-700 opacity-80",children:[vt.toFixed(1),"% of plan"]}),Re&&parseFloat(Re)>0&&n.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-gray-200 overflow-hidden",children:n.jsx("div",{className:"h-full bg-emerald-500 transition-all duration-300",style:{width:`${Ze}%`}})})]}),Ve&&n.jsxs("div",{className:"flex flex-col items-center gap-1",children:[ge(Ve),Ve.toUpperCase()==="REJECTED"&&n.jsx("button",{onClick:()=>{const Vt=p[`${te.id}-${ne}`];Vt?.review_comment&&Y({open:!0,title:`Performance Rejection - Q${ne}`,note:Vt.review_comment||"",by:Vt.reviewed_by_name||Vt.rejected_by_name||"",at:Vt.reviewed_at||Vt.rejected_at||"",quarter:ne,indicatorName:te.indicator_name})},className:"text-xs text-red-600 hover:text-red-800 hover:underline",children:"View note"})]})]})},ne)})]})})]})},te.id)}}const jN=["ADVISOR","STATE_MINISTER","STRATEGIC_STAFF","EXECUTIVE","MINISTER_VIEW","LEAD_EXECUTIVE_BODY"],lc={ADVISOR:"Advisor",STATE_MINISTER:"State Minister",STRATEGIC_STAFF:"Strategic Staff",EXECUTIVE:"Executive",MINISTER_VIEW:"Minister View",LEAD_EXECUTIVE_BODY:"Lead Executive Body"};function $R(){const{user:e}=St(),[t,r]=v.useState(!1),[a,l]=v.useState(null),[o,u]=v.useState([]),[f,m]=v.useState(""),[h,p]=v.useState("all"),[x,b]=v.useState("all"),[j,w]=v.useState([]),[N,S]=v.useState([]),[E,O]=v.useState(!1),[_,T]=v.useState(null),[k,L]=v.useState({username:"",first_name:"",last_name:"",email:"",role:"ADVISOR",sector_id:"",department_id:"",is_active:!0,password:""}),[$,G]=v.useState(1),J=15,[ue,F]=v.useState(!1),[q,fe]=v.useState(!1),[z,Y]=v.useState(null),[C,V]=v.useState([]),ae=["ADVISOR","STATE_MINISTER","LEAD_EXECUTIVE_BODY"].includes(k.role),ve=k.role==="LEAD_EXECUTIVE_BODY",ce=!!e?.is_superuser,R=async()=>{r(!0),l(null);try{const B=await Se.get("/api/users/");u(B.data||[]),V([])}catch(B){l(B?.response?.data?.detail||"Failed to load users")}finally{r(!1)}},K=async()=>{try{const B=await Se.get("/api/sectors/");w(B.data||[])}catch(B){console.error("Failed to load sectors:",B)}},re=async B=>{try{const he=await Se.get("/api/departments/",{params:B?{sector:B}:{}});S(he.data||[])}catch(he){console.error("Failed to load departments:",he)}};v.useEffect(()=>{ce&&(R(),K(),re())},[ce]);const W=()=>{T(null),L({username:"",first_name:"",last_name:"",email:"",role:"ADVISOR",sector_id:"",department_id:"",is_active:!0,password:""}),F(!1),O(!0)},le=B=>{T(B),L({username:B.username,first_name:B.first_name||"",last_name:B.last_name||"",email:B.email||"",role:B.role,sector_id:B.sector?.id||"",department_id:B.department?.id||"",is_active:B.is_active,password:""}),F(!1),B.sector?.id&&re(B.sector.id),O(!0)},Ne=async B=>{L(he=>({...he,sector_id:B,department_id:""})),B&&await re(Number(B))},Ae=async()=>{fe(!0),l(null);try{const B=["ADVISOR","STATE_MINISTER","LEAD_EXECUTIVE_BODY"].includes(k.role),he=k.role==="LEAD_EXECUTIVE_BODY";if(B&&!k.sector_id){l("Sector is required for this role"),fe(!1);return}if(he&&!k.department_id){l("Department is required for this role"),fe(!1);return}const I={username:k.username.trim(),first_name:k.first_name.trim(),last_name:k.last_name.trim(),email:k.email.trim(),role:k.role,sector_id:k.sector_id||null,department_id:k.department_id||null,is_active:k.is_active};B?he||(I.department_id=null):(I.sector_id=null,I.department_id=null),k.password&&(I.password=k.password),_?(await Se.put(`/api/users/${_.id}/`,I),Y("User updated successfully")):(await Se.post("/api/users/",I),Y("User created successfully")),O(!1),await R(),setTimeout(()=>Y(null),3e3)}catch(B){l(B?.response?.data?.detail||"Save failed")}finally{fe(!1)}},Ce=async B=>{if(confirm(`Are you sure you want to delete user "${B.username}"? This action cannot be undone.`))try{await Se.delete(`/api/users/${B.id}/`),Y(`User "${B.username}" deleted successfully`),await R(),setTimeout(()=>Y(null),3e3)}catch(he){l(he?.response?.data?.detail||"Delete failed")}},U=async(B,he)=>{try{await Se.patch(`/api/users/${B.id}/`,{is_active:he}),Y(`User ${he?"activated":"deactivated"} successfully`),await R(),setTimeout(()=>Y(null),3e3)}catch(I){l(I?.response?.data?.detail||"Status update failed")}},ge=()=>{C.length===te.length?V([]):V(te.map(B=>B.id))},Ee=B=>{V(he=>he.includes(B)?he.filter(I=>I!==B):[...he,B])},ye=async B=>{if(C.length===0){l("No users selected");return}try{const he=C.map(I=>Se.patch(`/api/users/${I}/`,{is_active:B}));await Promise.all(he),Y(`${C.length} user(s) ${B?"activated":"deactivated"} successfully`),await R(),V([]),setTimeout(()=>Y(null),3e3)}catch{l("Bulk operation failed")}},ke=v.useMemo(()=>{let B=o;const he=f.trim().toLowerCase();return he&&(B=B.filter(I=>[I.username,I.first_name,I.last_name,I.email,lc[I.role]||I.role,I.sector?.name,I.department?.name].join(" ").toLowerCase().includes(he))),h!=="all"&&(B=B.filter(I=>I.role===h)),x!=="all"&&(B=B.filter(I=>x==="active"?I.is_active:!I.is_active)),B},[o,f,h,x]);v.useEffect(()=>{G(1)},[ke.length]);const Oe=Math.max(1,Math.ceil(ke.length/J)),te=v.useMemo(()=>ke.slice(($-1)*J,($-1)*J+J),[ke,$,J]);return ce?n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 p-4 md:p-6",children:n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsxs("div",{className:"mb-8",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-1",children:"User Management"}),n.jsx("p",{className:"text-gray-600 text-sm",children:"Manage user accounts, permissions, and access levels"})]}),n.jsxs("button",{onClick:W,className:"px-5 py-2.5 bg-gradient-to-r from-emerald-600 to-teal-600 text-white rounded-xl shadow-lg hover:shadow-xl hover:from-emerald-700 hover:to-teal-700 transition-all duration-200 font-medium flex items-center gap-2",children:[n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Create User"]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[n.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Total Users"}),n.jsx("p",{className:"text-2xl font-bold text-gray-800",children:o.length})]}),n.jsx("div",{className:"w-12 h-12 bg-blue-50 rounded-lg flex items-center justify-center",children:n.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})})]})}),n.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Active Users"}),n.jsx("p",{className:"text-2xl font-bold text-emerald-600",children:o.filter(B=>B.is_active).length})]}),n.jsx("div",{className:"w-12 h-12 bg-emerald-50 rounded-lg flex items-center justify-center",children:n.jsx("svg",{className:"w-6 h-6 text-emerald-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),n.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Inactive Users"}),n.jsx("p",{className:"text-2xl font-bold text-amber-600",children:o.filter(B=>!B.is_active).length})]}),n.jsx("div",{className:"w-12 h-12 bg-amber-50 rounded-lg flex items-center justify-center",children:n.jsx("svg",{className:"w-6 h-6 text-amber-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),n.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Admins"}),n.jsx("p",{className:"text-2xl font-bold text-purple-600",children:o.filter(B=>B.role==="EXECUTIVE").length})]}),n.jsx("div",{className:"w-12 h-12 bg-purple-50 rounded-lg flex items-center justify-center",children:n.jsxs("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})})]})})]}),n.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 mb-6",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx("input",{value:f,onChange:B=>m(B.target.value),placeholder:"Search users by name, email, role...",className:"w-full border border-gray-300 rounded-xl px-4 py-3 pl-12 shadow-sm bg-white focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all"}),n.jsx("svg",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})}),n.jsxs("div",{className:"flex flex-wrap gap-3",children:[n.jsxs("select",{value:h,onChange:B=>p(B.target.value),className:"border border-gray-300 rounded-xl px-4 py-3 shadow-sm bg-white focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent min-w-[180px]",children:[n.jsx("option",{value:"all",children:"All Roles"}),jN.map(B=>n.jsx("option",{value:B,children:lc[B]||B},B))]}),n.jsxs("select",{value:x,onChange:B=>b(B.target.value),className:"border border-gray-300 rounded-xl px-4 py-3 shadow-sm bg-white focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent min-w-[160px]",children:[n.jsx("option",{value:"all",children:"All Status"}),n.jsx("option",{value:"active",children:"Active Only"}),n.jsx("option",{value:"inactive",children:"Inactive Only"})]}),C.length>0&&n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{onClick:()=>ye(!0),className:"px-4 py-2.5 bg-emerald-600 text-white rounded-xl hover:bg-emerald-700 transition-all flex items-center gap-2",children:[n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Activate Selected"]}),n.jsxs("button",{onClick:()=>ye(!1),className:"px-4 py-2.5 bg-amber-600 text-white rounded-xl hover:bg-amber-700 transition-all flex items-center gap-2",children:[n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Deactivate Selected"]}),n.jsxs("button",{onClick:()=>V([]),className:"px-4 py-2.5 border border-gray-300 rounded-xl hover:bg-gray-50 transition-all",children:["Clear (",C.length,")"]})]})]})]})})]}),a&&n.jsxs("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-5 py-4 rounded-xl flex items-start gap-3",children:[n.jsx("svg",{className:"w-5 h-5 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsx("span",{children:a}),n.jsx("button",{onClick:()=>l(null),className:"ml-auto text-red-600 hover:text-red-800",children:""})]}),z&&n.jsxs("div",{className:"mb-6 bg-emerald-50 border border-emerald-200 text-emerald-700 px-5 py-4 rounded-xl flex items-start gap-3",children:[n.jsx("svg",{className:"w-5 h-5 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsx("span",{children:z}),n.jsx("button",{onClick:()=>Y(null),className:"ml-auto text-emerald-600 hover:text-emerald-800",children:""})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[n.jsx("div",{className:"hidden md:block overflow-x-auto",children:n.jsxs("table",{className:"min-w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{className:"border-b border-gray-200",children:[n.jsx("th",{className:"px-6 py-4 text-left",children:n.jsx("input",{type:"checkbox",checked:te.length>0&&C.length===te.length,onChange:ge,className:"rounded border-gray-300 text-emerald-600 focus:ring-emerald-500"})}),["User","Role","Sector & Department","Status","Last Active","Actions"].map(B=>n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:B},B))]})}),n.jsx("tbody",{className:"divide-y divide-gray-100",children:t?n.jsx("tr",{children:n.jsx("td",{colSpan:7,className:"px-6 py-12 text-center",children:n.jsx("div",{className:"flex justify-center",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-600"})})})}):te.length>0?te.map(B=>n.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[n.jsx("td",{className:"px-6 py-4",children:n.jsx("input",{type:"checkbox",checked:C.includes(B.id),onChange:()=>Ee(B.id),className:"rounded border-gray-300 text-emerald-600 focus:ring-emerald-500"})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-emerald-100 to-teal-100 rounded-lg flex items-center justify-center",children:n.jsx("span",{className:"font-semibold text-emerald-800",children:B.first_name?.[0]||B.username[0]})}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-gray-900",children:B.username}),n.jsx("div",{className:"text-sm text-gray-500",children:[B.first_name,B.last_name].filter(Boolean).join(" ")||"No name"}),n.jsx("div",{className:"text-sm text-gray-500",children:B.email})]})]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("div",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800",children:lc[B.role]||B.role})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"space-y-1",children:[n.jsx("div",{className:"font-medium text-gray-900",children:B.sector?.name||""}),n.jsx("div",{className:"text-sm text-gray-500",children:B.department?.name||""})]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:`w-3 h-3 rounded-full ${B.is_active?"bg-emerald-500":"bg-gray-300"}`}),n.jsx("span",{className:`font-medium ${B.is_active?"text-emerald-700":"text-gray-700"}`,children:B.is_active?"Active":"Inactive"})]})}),n.jsx("td",{className:"px-6 py-4 text-gray-500",children:"Recently"}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{onClick:()=>le(B),className:"px-3 py-1.5 bg-blue-50 text-blue-700 rounded-lg hover:bg-blue-100 transition-colors flex items-center gap-2",children:[n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Edit"]}),n.jsxs("button",{onClick:()=>U(B,!B.is_active),className:`px-3 py-1.5 rounded-lg transition-colors flex items-center gap-2 ${B.is_active?"bg-amber-50 text-amber-700 hover:bg-amber-100":"bg-emerald-50 text-emerald-700 hover:bg-emerald-100"}`,children:[n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:B.is_active?n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"}):n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L6.59 6.59m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}),B.is_active?"Deactivate":"Activate"]}),n.jsx("button",{onClick:()=>Ce(B),className:"px-3 py-1.5 bg-red-50 text-red-700 rounded-lg hover:bg-red-100 transition-colors flex items-center gap-2",children:n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]},B.id)):n.jsx("tr",{children:n.jsx("td",{colSpan:7,className:"px-6 py-12 text-center",children:n.jsxs("div",{className:"text-gray-500",children:[n.jsx("svg",{className:"w-16 h-16 mx-auto mb-4 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),n.jsx("p",{className:"text-lg font-medium mb-2",children:"No users found"}),n.jsx("p",{className:"text-gray-400 mb-4",children:"Try adjusting your search or filters"}),n.jsx("button",{onClick:W,className:"px-5 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors",children:"Create Your First User"})]})})})})]})}),n.jsx("div",{className:"md:hidden space-y-3 p-4",children:t?n.jsx("div",{className:"flex justify-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-600"})}):te.length>0?te.map(B=>n.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 border border-gray-200",children:[n.jsxs("div",{className:"flex items-start justify-between mb-3",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("input",{type:"checkbox",checked:C.includes(B.id),onChange:()=>Ee(B.id),className:"rounded border-gray-300 text-emerald-600 focus:ring-emerald-500"}),n.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-emerald-100 to-teal-100 rounded-lg flex items-center justify-center",children:n.jsx("span",{className:"font-semibold text-emerald-800",children:B.first_name?.[0]||B.username[0]})}),n.jsxs("div",{children:[n.jsx("div",{className:"font-semibold text-gray-900",children:B.username}),n.jsx("div",{className:"text-sm text-gray-500",children:B.email})]})]}),n.jsxs("div",{className:"flex gap-1",children:[n.jsx("button",{onClick:()=>le(B),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg",children:n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),n.jsx("button",{onClick:()=>Ce(B),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",children:n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm mb-3",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-gray-500",children:"Name"}),n.jsx("div",{className:"font-medium",children:[B.first_name,B.last_name].filter(Boolean).join(" ")||""})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-gray-500",children:"Role"}),n.jsx("div",{className:"font-medium",children:lc[B.role]||B.role})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-gray-500",children:"Sector"}),n.jsx("div",{className:"font-medium",children:B.sector?.name||""})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-gray-500",children:"Department"}),n.jsx("div",{className:"font-medium",children:B.department?.name||""})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:`w-3 h-3 rounded-full ${B.is_active?"bg-emerald-500":"bg-gray-300"}`}),n.jsx("span",{className:`font-medium ${B.is_active?"text-emerald-700":"text-gray-700"}`,children:B.is_active?"Active":"Inactive"})]}),n.jsx("button",{onClick:()=>U(B,!B.is_active),className:`px-3 py-1.5 rounded-lg text-sm ${B.is_active?"bg-amber-100 text-amber-700":"bg-emerald-100 text-emerald-700"}`,children:B.is_active?"Deactivate":"Activate"})]})]},B.id)):n.jsx("div",{className:"text-center py-12",children:n.jsxs("div",{className:"text-gray-500",children:[n.jsx("svg",{className:"w-16 h-16 mx-auto mb-4 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),n.jsx("p",{className:"text-lg font-medium mb-2",children:"No users found"}),n.jsx("button",{onClick:W,className:"px-5 py-2.5 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors w-full",children:"Create User"})]})})})]}),ke.length>0&&n.jsxs("div",{className:"mt-6 flex flex-col sm:flex-row items-center justify-between gap-4",children:[n.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",n.jsx("span",{className:"font-semibold",children:($-1)*J+1})," to"," ",n.jsx("span",{className:"font-semibold",children:Math.min($*J,ke.length)})," of"," ",n.jsx("span",{className:"font-semibold",children:ke.length})," users"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("button",{onClick:()=>G(B=>Math.max(1,B-1)),disabled:$===1,className:`px-4 py-2 rounded-lg border flex items-center gap-2 transition-all ${$===1?"bg-gray-100 text-gray-400 cursor-not-allowed border-gray-300":"bg-white hover:bg-gray-50 border-gray-300 hover:border-gray-400"}`,children:[n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Previous"]}),n.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,Oe)},(B,he)=>{let I;return Oe<=5||$<=3?I=he+1:$>=Oe-2?I=Oe-4+he:I=$-2+he,n.jsx("button",{onClick:()=>G(I),className:`w-10 h-10 rounded-lg border flex items-center justify-center ${$===I?"bg-emerald-600 text-white border-emerald-600":"bg-white border-gray-300 hover:bg-gray-50"}`,children:I},I)})}),n.jsxs("button",{onClick:()=>G(B=>Math.min(Oe,B+1)),disabled:$===Oe,className:`px-4 py-2 rounded-lg border flex items-center gap-2 transition-all ${$===Oe?"bg-gray-100 text-gray-400 cursor-not-allowed border-gray-300":"bg-white hover:bg-gray-50 border-gray-300 hover:border-gray-400"}`,children:["Next",n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]}),E&&n.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-fadeIn",children:n.jsxs("div",{className:"w-full max-w-2xl bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold text-gray-900",children:_?"Edit User":"Create New User"}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:_?"Update user details and permissions":"Add a new user to the system"})]}),n.jsx("button",{onClick:()=>O(!1),className:"text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg p-2 transition-colors",children:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsx("div",{className:"p-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[[{label:"Username",key:"username",required:!0},{label:"Email Address",key:"email",type:"email",required:!0},{label:"First Name",key:"first_name"},{label:"Last Name",key:"last_name"}].map(B=>n.jsxs("div",{children:[n.jsxs("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:[B.label,B.required&&n.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),n.jsx("input",{type:B.type||"text",value:k[B.key],onChange:he=>L({...k,[B.key]:he.target.value}),className:"w-full border border-gray-300 rounded-xl px-4 py-3 shadow-sm focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all",placeholder:`Enter ${B.label.toLowerCase()}`})]},B.key)),n.jsxs("div",{children:[n.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:"Role"}),n.jsx("select",{value:k.role,onChange:B=>{const he=B.target.value,I=["ADVISOR","STATE_MINISTER","LEAD_EXECUTIVE_BODY"].includes(he),Z=he==="LEAD_EXECUTIVE_BODY";L(D=>({...D,role:he,sector_id:I?D.sector_id:"",department_id:Z?D.department_id:""}))},className:"w-full border border-gray-300 rounded-xl px-4 py-3 shadow-sm focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent bg-white",children:jN.map(B=>n.jsx("option",{value:B,children:lc[B]||B},B))})]}),n.jsxs("div",{className:"flex items-center gap-3 p-4 bg-gray-50 rounded-xl",children:[n.jsxs("div",{className:"relative",children:[n.jsx("input",{id:"active",type:"checkbox",checked:k.is_active,onChange:B=>L({...k,is_active:B.target.checked}),className:"sr-only"}),n.jsx("label",{htmlFor:"active",className:`block w-14 h-8 rounded-full cursor-pointer transition-colors ${k.is_active?"bg-emerald-500":"bg-gray-300"}`,children:n.jsx("span",{className:`block w-6 h-6 mt-1 ml-1 rounded-full bg-white shadow transform transition-transform ${k.is_active?"translate-x-7":""}`})})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"active",className:"font-medium text-gray-700 cursor-pointer",children:"Active Account"}),n.jsx("p",{className:"text-sm text-gray-500",children:"User can log in to the system"})]})]}),ae&&n.jsxs("div",{children:[n.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:"Sector"}),n.jsxs("select",{value:k.sector_id,onChange:B=>Ne(B.target.value?Number(B.target.value):""),className:"w-full border border-gray-300 rounded-xl px-4 py-3 shadow-sm focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent bg-white",children:[n.jsx("option",{value:"",children:"Select Sector"}),j.map(B=>n.jsx("option",{value:B.id,children:B.name},B.id))]})]}),ve&&n.jsxs("div",{children:[n.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:"Department"}),n.jsxs("select",{value:k.department_id,onChange:B=>L({...k,department_id:B.target.value?Number(B.target.value):""}),className:"w-full border border-gray-300 rounded-xl px-4 py-3 shadow-sm focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent bg-white",disabled:!k.sector_id,children:[n.jsx("option",{value:"",children:k.sector_id?"Select Department":"Select sector first"}),N.map(B=>n.jsx("option",{value:B.id,children:B.name},B.id))]})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsxs("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:["Password ",!_&&n.jsx("span",{className:"text-red-500",children:"*"}),_&&n.jsx("span",{className:"text-gray-500 font-normal ml-2",children:"(leave blank to keep current password)"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:ue?"text":"password",value:k.password,onChange:B=>L({...k,password:B.target.value}),className:"w-full border border-gray-300 rounded-xl px-4 py-3 shadow-sm focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent pr-12",placeholder:_?"Enter new password":"Enter password",required:!_}),n.jsx("button",{type:"button",onClick:()=>F(!ue),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",children:n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:ue?n.jsxs(n.Fragment,{children:[n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}):n.jsx(n.Fragment,{children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L6.59 6.59m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})})})})]}),n.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Password must be at least 8 characters with letters and numbers"})]})]})}),n.jsxs("div",{className:"sticky bottom-0 bg-white border-t border-gray-200 px-6 py-4 flex justify-end gap-3",children:[n.jsx("button",{onClick:()=>O(!1),className:"px-5 py-2.5 border border-gray-300 rounded-xl hover:bg-gray-50 transition-colors font-medium",disabled:q,children:"Cancel"}),n.jsx("button",{onClick:Ae,disabled:q,className:"px-5 py-2.5 bg-gradient-to-r from-emerald-600 to-teal-600 text-white rounded-xl shadow hover:shadow-lg hover:from-emerald-700 hover:to-teal-700 transition-all duration-200 font-medium flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:q?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Saving..."]}):n.jsxs(n.Fragment,{children:[n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),_?"Update User":"Create User"]})})]})]})})]})}):n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center p-4",children:n.jsx("div",{className:"bg-white rounded-2xl shadow-xl p-8 max-w-md w-full border border-gray-200",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m0 0v2m0-2h2m-2 0H9m3-9a3 3 0 11-6 0 3 3 0 016 0z"})})}),n.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Access Denied"}),n.jsx("p",{className:"text-gray-600",children:"Only administrators can access User Management."})]})})})}function IR(){const{user:e}=St(),t=zs()[0],[r,a]=v.useState(t),[l,o]=v.useState([]),[u,f]=v.useState([]),[m,h]=v.useState([]),[p,x]=v.useState(!1),[b,j]=v.useState(!1),[w,N]=v.useState(!1),[S,E]=v.useState(null),[O,_]=v.useState(""),[T,k]=v.useState("ALL"),[L,$]=v.useState(!1),[G,J]=v.useState(null),[ue,F]=v.useState({open:!1,item:null,q1:"",q2:"",q3:"",q4:""}),[q,fe]=v.useState({open:!1,item:null,value:""}),[z,Y]=v.useState([]),[C,V]=v.useState(null),ae=(e?.role||"").toUpperCase()==="STATE_MINISTER",ve=async(D=!1)=>{D?j(!0):x(!0),E(null);try{const P=r?K(r):void 0,X=P?{year:P}:{},[ne,_e,Re,Ve]=await Promise.all([Se.get("/api/annual-plans/",{params:X}),Se.get("/api/breakdowns/"),Se.get("/api/performances/",{params:X}),(e?.role||"").toUpperCase()==="STATE_MINISTER"?Se.get("/api/reviews/summary/",{params:X}):Promise.resolve({data:null})]);o(ne.data||[]),f(_e.data||[]),h(Re.data||[]),(e?.role||"").toUpperCase()==="STATE_MINISTER"&&Ve&&Ve.data?V(Ve.data):V(null)}catch(P){E(P?.response?.data?.detail||"Failed to load data")}finally{x(!1),j(!1)}};v.useEffect(()=>{ve()},[r]);const ce=v.useMemo(()=>{const D={};for(const P of l)D[P.id]=P;return D},[l]),R=v.useMemo(()=>{const D={};for(const P of l)P.department_id&&(D[P.department_id]=P.department_name||`Dept ${P.department_id}`);return Object.entries(D).map(([P,X])=>({id:Number(P),name:X})).sort((P,X)=>P.name.localeCompare(X.name))},[l]),K=D=>D+7,re=D=>{const ne=D.filter(Re=>(Re.status||"").toUpperCase()==="SUBMITTED").filter(Re=>r?ce[Re.plan]?.year===K(r):!0).filter(Re=>T==="ALL"?!0:ce[Re.plan]?.department_id===T);if(!O.trim())return ne;const _e=O.toLowerCase();return ne.filter(Re=>{const Ve=ce[Re.plan];return[Ve?.indicator_name,Ve?.department_name,Ve?.sector_name,Ve?.indicator_unit].join(" ").toLowerCase().includes(_e)})},W=re(u),le=re(m),Ne=v.useMemo(()=>{const D=W.length+le.length,P=u.filter(_e=>_e.status.toUpperCase()==="APPROVED").length,X=m.filter(_e=>_e.status.toUpperCase()==="APPROVED").length,ne=P+X;return{pendingBreakdowns:W.length,pendingPerformance:le.length,totalPending:D,totalApproved:ne,approvalRate:D+ne>0?Math.round(ne/(D+ne)*100):0}},[W,le,u,m]),Ae=D=>{F({open:!0,item:D,q1:D.q1??"",q2:D.q2??"",q3:D.q3??"",q4:D.q4??""})},Ce=async()=>{if(ue.item)try{await Se.put(`/api/breakdowns/${ue.item.id}/`,{plan:ue.item.plan,q1:ue.q1,q2:ue.q2,q3:ue.q3,q4:ue.q4,status:ue.item.status}),F({open:!1,item:null,q1:"",q2:"",q3:"",q4:""}),await ve(!0)}catch(D){E(D?.response?.data?.detail||"Update failed")}},U=D=>{fe({open:!0,item:D,value:D.value})},ge=async()=>{const D=q.item;if(D)try{await Se.put(`/api/performances/${D.id}/`,{plan:D.plan,quarter:D.quarter,value:q.value,status:D.status}),fe({open:!1,item:null,value:""});const P=ce[D.plan];Y(X=>[{id:`PF-${D.id}-EDITED-${Date.now()}`,time:new Date().toISOString(),indicator_name:P?.indicator_name||"Unknown indicator",department_name:P?.department_name,item_type:"PERFORMANCE",action:"EDITED"},...X]),await ve(!0)}catch(P){E(P?.response?.data?.detail||"Update failed")}},Ee=async D=>{if(confirm("Approve quarterly breakdown for this indicator?"))try{await Se.post(`/api/breakdowns/${D.id}/approve/`);const P=ce[D.plan];Y(X=>[{id:`BD-${D.id}-APPROVED-${Date.now()}`,time:new Date().toISOString(),indicator_name:P?.indicator_name||"Unknown indicator",department_name:P?.department_name,item_type:"BREAKDOWN",action:"APPROVED"},...X]),await ve(!0)}catch(P){E(P?.response?.data?.detail||"Approval failed")}},ye=async D=>{const P=prompt("Please provide a reason for rejection (optional):","")||"";if(P!==null&&confirm(`Reject this quarterly breakdown?${P?`
Reason: ${P}`:""}`))try{await Se.post(`/api/breakdowns/${D.id}/reject/`,{comment:P});const X=ce[D.plan];Y(ne=>[{id:`BD-${D.id}-REJECTED-${Date.now()}`,time:new Date().toISOString(),indicator_name:X?.indicator_name||"Unknown indicator",department_name:X?.department_name,item_type:"BREAKDOWN",action:"REJECTED"},...ne]),await ve(!0)}catch(X){E(X?.response?.data?.detail||"Rejection failed")}},ke=async D=>{if(confirm(`Approve Q${D.quarter} performance report for this indicator?`))try{await Se.post(`/api/performances/${D.id}/approve/`);const P=ce[D.plan];Y(X=>[{id:`PF-${D.id}-APPROVED-${Date.now()}`,time:new Date().toISOString(),indicator_name:P?.indicator_name||"Unknown indicator",department_name:P?.department_name,item_type:"PERFORMANCE",action:"APPROVED"},...X]),await ve(!0)}catch(P){E(P?.response?.data?.detail||"Approval failed")}},Oe=async D=>{const P=prompt("Please provide a reason for rejection (optional):","")||"";if(P!==null&&confirm(`Reject Q${D.quarter} performance report?${P?`
Reason: ${P}`:""}`))try{await Se.post(`/api/performances/${D.id}/reject/`,{comment:P});const X=ce[D.plan];Y(ne=>[{id:`PF-${D.id}-REJECTED-${Date.now()}`,time:new Date().toISOString(),indicator_name:X?.indicator_name||"Unknown indicator",department_name:X?.department_name,item_type:"PERFORMANCE",action:"REJECTED"},...ne]),await ve(!0)}catch(X){E(X?.response?.data?.detail||"Rejection failed")}},te=()=>{a(t),_(""),k("ALL")},B=r!==t||O||T!=="ALL",he=async()=>{if(!ae)return;const D=u.filter(X=>(X.status||"").toUpperCase()==="APPROVED"),P=m.filter(X=>(X.status||"").toUpperCase()==="APPROVED");if(D.length===0&&P.length===0){alert("There are no approved items to submit to Strategic Affairs Staff.");return}if(confirm(`This will send all approved indicators (${D.length} breakdowns and ${P.length} performance reports) to Strategic Affairs Staff. Do you want to continue?`)){N(!0),E(null);try{await Se.post("/api/reviews/submit-to-strategic/",{breakdown_ids:D.map(X=>X.id),performance_ids:P.map(X=>X.id)}),await ve(!0),alert("Approved indicators have been submitted to Strategic Affairs Staff.")}catch(X){const _e=X?.response?.data?.detail||"Failed to submit approved indicators to Strategic Affairs Staff.";E(_e),alert(_e)}finally{N(!1)}}},I=()=>he(),Z=()=>he();return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 p-4 md:p-6",children:n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsxs("div",{className:"mb-8",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 mb-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Review & Approvals"}),n.jsx("p",{className:"text-gray-600 mt-2",children:"Review and approve quarterly breakdowns and performance reports from departments"})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("button",{onClick:()=>ve(!0),disabled:b,className:"inline-flex items-center gap-2 px-4 py-3 bg-white border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors duration-200 shadow-sm disabled:opacity-50",children:[n.jsx(Vc,{className:`w-5 h-5 ${b?"animate-spin":""}`}),b?"Refreshing...":"Refresh"]}),n.jsxs("button",{className:"inline-flex items-center gap-2 px-4 py-3 bg-white border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors duration-200 shadow-sm",children:[n.jsx(Bl,{className:"w-5 h-5"}),"Export"]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[n.jsx("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 shadow-sm",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending Breakdowns"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-2",children:Ne.pendingBreakdowns}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Awaiting approval"})]}),n.jsx("div",{className:"p-3 bg-blue-100 rounded-xl",children:n.jsx(Dl,{className:"w-6 h-6 text-blue-600"})})]})}),n.jsx("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 shadow-sm",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending Performance"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-2",children:Ne.pendingPerformance}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Quarterly reports"})]}),n.jsx("div",{className:"p-3 bg-emerald-100 rounded-xl",children:n.jsx(Ri,{className:"w-6 h-6 text-emerald-600"})})]})}),n.jsx("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 shadow-sm",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Pending"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-2",children:Ne.totalPending}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Items awaiting review"})]}),n.jsx("div",{className:"p-3 bg-amber-100 rounded-xl",children:n.jsx(Pl,{className:"w-6 h-6 text-amber-600"})})]})}),n.jsx("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 shadow-sm",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Approval Rate"}),n.jsxs("p",{className:"text-2xl font-bold text-gray-900 mt-2",children:[Ne.approvalRate,"%"]}),C?n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Expected BD: ",C.totals.expected_breakdowns,", Approved: ",C.totals.approved_breakdowns," "," Expected PF: ",C.totals.expected_performances,", Approved: ",C.totals.approved_performances]}):n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Of all submissions"})]}),n.jsx("div",{className:"p-3 bg-purple-100 rounded-xl",children:n.jsx(UA,{className:"w-6 h-6 text-purple-600"})})]})})]}),ae&&C&&C.departments&&C.departments.length>0&&n.jsxs("div",{className:"mb-6 bg-white rounded-2xl border border-gray-200 p-4 shadow-sm",children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-800 mb-3",children:"Expected vs approved by department (current year)"}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full text-sm",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-3 py-2 text-left font-medium text-gray-600",children:"Department"}),n.jsx("th",{className:"px-3 py-2 text-left font-medium text-gray-600",children:"Breakdowns (exp / appr)"}),n.jsx("th",{className:"px-3 py-2 text-left font-medium text-gray-600",children:"Performance (exp / appr)"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-100",children:C.departments.map(D=>n.jsxs("tr",{children:[n.jsx("td",{className:"px-3 py-2 text-gray-800",children:D.department_name}),n.jsxs("td",{className:"px-3 py-2 text-gray-700",children:[D.expected_breakdowns," / ",D.approved_breakdowns]}),n.jsxs("td",{className:"px-3 py-2 text-gray-700",children:[D.expected_performances," / ",D.approved_performances]})]},D.department_id))})]})})]}),n.jsxs("div",{className:"space-y-4 mb-6",children:[n.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(zr,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),n.jsx("input",{type:"text",placeholder:"Search by indicator, department, or sector...",value:O,onChange:D=>_(D.target.value),className:"w-full pl-12 pr-4 py-3 bg-white border border-gray-300 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all duration-200 shadow-sm"})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("button",{onClick:()=>$(!L),className:"inline-flex items-center gap-2 px-4 py-3 bg-white border border-gray-300 rounded-xl hover:bg-gray-50 transition-colors duration-200 shadow-sm",children:[n.jsx(Xa,{className:"w-4 h-4"}),"Filters",B&&n.jsx("span",{className:"inline-flex items-center justify-center w-6 h-6 text-xs font-semibold text-white bg-emerald-600 rounded-full",children:[r!==t,O,T!=="ALL"].filter(Boolean).length})]}),B&&n.jsx("button",{onClick:te,className:"inline-flex items-center gap-2 px-4 py-3 text-gray-700 bg-gray-100 rounded-xl hover:bg-gray-200 transition-colors duration-200",children:"Reset All"})]})]}),L&&n.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-gray-200 shadow-lg",children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Filter Submissions"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Refine your view by selecting specific criteria"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(_r,{className:"inline w-4 h-4 mr-1"}),"Year"]}),n.jsx("div",{className:"relative",children:n.jsx("input",{type:"number",min:2e3,max:2100,value:r??"",onChange:D=>a(D.target.value?Number(D.target.value):null),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all duration-200",placeholder:"Enter Ethiopian year"})}),r!==t&&r!==null&&n.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[n.jsxs("span",{className:"text-xs text-emerald-600 bg-emerald-50 px-2 py-1 rounded-full",children:["Year: ",r," ."]}),n.jsx("button",{onClick:()=>a(t),className:"text-xs text-gray-500 hover:text-gray-700",children:"Reset"})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(ct,{className:"inline w-4 h-4 mr-1"}),"Department"]}),n.jsxs("div",{className:"relative",children:[n.jsxs("select",{value:T==="ALL"?"ALL":String(T),onChange:D=>{const P=D.target.value;k(P==="ALL"?"ALL":Number(P))},className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all duration-200 appearance-none bg-white",children:[n.jsx("option",{value:"ALL",children:"All Departments"}),R.map(D=>n.jsx("option",{value:D.id,children:D.name},D.id))]}),n.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:n.jsx(nr,{className:"w-4 h-4 text-gray-400 rotate-90"})})]}),T!=="ALL"&&n.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[n.jsx("span",{className:"text-xs text-emerald-600 bg-emerald-50 px-2 py-1 rounded-full",children:R.find(D=>D.id===T)?.name}),n.jsx("button",{onClick:()=>k("ALL"),className:"text-xs text-gray-500 hover:text-gray-700",children:"Reset"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quick Year Select"}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsxs("button",{onClick:()=>a(t),className:`px-3 py-1.5 text-sm rounded-lg transition-colors ${r===t?"bg-emerald-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["Current (",t,")"]}),n.jsxs("button",{onClick:()=>a(t-1),className:`px-3 py-1.5 text-sm rounded-lg transition-colors ${r===t-1?"bg-emerald-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["Last Year (",t-1,")"]}),n.jsx("button",{onClick:()=>a(null),className:`px-3 py-1.5 text-sm rounded-lg transition-colors ${r===null?"bg-emerald-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"All Years"})]})]})]})]})]})]}),S&&n.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-xl",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Jr,{className:"w-5 h-5 text-red-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-red-700",children:"Error"}),n.jsx("p",{className:"text-sm text-red-600 mt-1",children:S})]})]})}),n.jsxs("div",{className:"flex flex-col gap-6",children:[n.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-lg overflow-hidden",children:[n.jsx("div",{className:"px-6 py-4 border-b border-gray-200 bg-gradient-to-r from-emerald-50 to-green-100",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:n.jsx(Dl,{className:"w-5 h-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:"Quarterly Breakdowns"}),n.jsxs("p",{className:"text-sm text-blue-600",children:[W.length," pending  ",u.filter(D=>D.status.toUpperCase()==="APPROVED").length," approved"]})]})]}),n.jsxs("button",{onClick:()=>J(G==="breakdowns"?null:"breakdowns"),className:"text-sm text-blue-600 hover:text-blue-800 font-medium flex items-center gap-1",children:[G==="breakdowns"?"Collapse":"Expand",n.jsx(nr,{className:`w-4 h-4 transition-transform ${G==="breakdowns"?"rotate-90":""}`})]})]})}),p?n.jsxs("div",{className:"p-12 text-center",children:[n.jsx("div",{className:"w-8 h-8 border-3 border-gray-300 border-t-blue-600 rounded-full animate-spin mx-auto mb-3"}),n.jsx("p",{className:"text-gray-600",children:"Loading breakdowns..."})]}):W.length===0?n.jsxs("div",{className:"p-12 text-center",children:[n.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-3",children:n.jsx(Dl,{className:"w-6 h-6 text-gray-400"})}),n.jsx("p",{className:"text-gray-600 font-medium",children:"No pending breakdowns"}),n.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"All quarterly breakdowns have been reviewed or none are submitted yet"})]}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Indicator"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Annual Target"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quarterly Allocation"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200",children:W.map(D=>{const P=ce[D.plan],X=[{label:"Q1",value:D.q1},{label:"Q2",value:D.q2},{label:"Q3",value:D.q3},{label:"Q4",value:D.q4}];return n.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-150",children:[n.jsx("td",{className:"px-6 py-4",children:n.jsx("div",{className:"flex items-start gap-3",children:n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"font-medium text-gray-900",children:P?.indicator_name}),n.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(ct,{className:"w-3 h-3"}),P?.department_name]}),P?.indicator_unit&&n.jsxs("span",{className:"inline-block mt-1 px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded-full",children:["Unit: ",P.indicator_unit]})]})]})})}),n.jsxs("td",{className:"px-6 py-4",children:[n.jsx("div",{className:"text-lg font-bold text-emerald-700",children:P?.target}),n.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Annual target"})]}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("div",{className:"flex gap-2",children:X.map((ne,_e)=>n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-xs text-gray-500",children:ne.label}),n.jsx("div",{className:`text-sm font-semibold ${ne.value?"text-gray-900":"text-gray-400"}`,children:ne.value||""})]},_e))})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{onClick:()=>Ee(D),disabled:!ae,className:`inline-flex items-center gap-2 px-4 py-2 rounded-lg transition-colors duration-200 ${ae?"bg-emerald-600 hover:bg-emerald-700 text-white":"bg-gray-200 text-gray-500 cursor-not-allowed"}`,children:[n.jsx(mr,{className:"w-4 h-4"}),"Approve"]}),n.jsxs("button",{onClick:()=>ye(D),disabled:!ae,className:`inline-flex items-center gap-2 px-4 py-2 rounded-lg transition-colors duration-200 ${ae?"bg-red-600 hover:bg-red-700 text-white":"bg-gray-200 text-gray-500 cursor-not-allowed"}`,children:[n.jsx(zi,{className:"w-4 h-4"}),"Reject"]}),ae&&n.jsxs("button",{onClick:()=>Ae(D),className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-white border border-gray-300 text-gray-700 hover:bg-gray-50 transition-colors duration-200",children:[n.jsx(yc,{className:"w-4 h-4"}),"Edit"]})]})})]},D.id)})})]})})]}),n.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-lg overflow-hidden",children:[n.jsx("div",{className:"px-6 py-4 border-b border-gray-200 bg-gradient-to-r from-emerald-50 to-green-100",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-emerald-100 rounded-lg",children:n.jsx(Ri,{className:"w-5 h-5 text-emerald-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:"Quarterly Performance"}),n.jsxs("p",{className:"text-sm text-emerald-600",children:[le.length," pending  ",m.filter(D=>D.status.toUpperCase()==="APPROVED").length," approved"]})]})]}),n.jsxs("button",{onClick:()=>J(G==="performance"?null:"performance"),className:"text-sm text-emerald-600 hover:text-emerald-800 font-medium flex items-center gap-1",children:[G==="performance"?"Collapse":"Expand",n.jsx(nr,{className:`w-4 h-4 transition-transform ${G==="performance"?"rotate-90":""}`})]})]})}),p?n.jsxs("div",{className:"p-12 text-center",children:[n.jsx("div",{className:"w-8 h-8 border-3 border-gray-300 border-t-emerald-600 rounded-full animate-spin mx-auto mb-3"}),n.jsx("p",{className:"text-gray-600",children:"Loading performance reports..."})]}):le.length===0?n.jsxs("div",{className:"p-12 text-center",children:[n.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-3",children:n.jsx(Ri,{className:"w-6 h-6 text-gray-400"})}),n.jsx("p",{className:"text-gray-600 font-medium",children:"No pending performance reports"}),n.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"All performance reports have been reviewed or none are submitted yet"})]}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Indicator"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quarter"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Reported Value"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Variance Explanation"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200",children:le.map(D=>{const P=ce[D.plan],X=parseFloat(P?.target||"0"),ne=parseFloat(D.value||"0"),_e=X>0?ne/X*100:0;return n.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-150",children:[n.jsx("td",{className:"px-6 py-4",children:n.jsx("div",{className:"flex items-start gap-3",children:n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"font-medium text-gray-900",children:P?.indicator_name}),n.jsx("div",{className:"text-sm text-gray-500 mt-1",children:n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(ct,{className:"w-3 h-3"}),P?.department_name]})}),P?.indicator_unit&&n.jsxs("span",{className:"inline-block mt-1 px-2 py-1 bg-emerald-100 text-emerald-700 text-xs rounded-full",children:["Unit: ",P.indicator_unit]})]})})}),n.jsxs("td",{className:"px-6 py-4",children:[n.jsxs("div",{className:"inline-flex items-center px-3 py-1.5 bg-blue-100 text-blue-800 rounded-full text-sm font-medium",children:["Quarter ",D.quarter]}),n.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Annual target: ",P?.target]})]}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{children:[n.jsx("div",{className:"text-lg font-bold text-gray-900",children:D.value}),!isNaN(_e)&&n.jsxs("div",{className:`text-sm font-medium mt-1 ${_e>=100?"text-emerald-600":_e>=80?"text-amber-600":"text-red-600"}`,children:[_e.toFixed(1),"% of target"]})]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("div",{className:"text-sm text-gray-700 whitespace-pre-line max-w-xs",children:D.variance_description&&D.variance_description.trim()?D.variance_description:""})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{onClick:()=>ke(D),disabled:!ae,className:`inline-flex items-center gap-2 px-4 py-2 rounded-lg transition-colors duration-200 ${ae?"bg-emerald-600 hover:bg-emerald-700 text-white":"bg-gray-200 text-gray-500 cursor-not-allowed"}`,children:[n.jsx(mr,{className:"w-4 h-4"}),"Approve"]}),n.jsxs("button",{onClick:()=>Oe(D),disabled:!ae,className:`inline-flex items-center gap-2 px-4 py-2 rounded-lg transition-colors duration-200 ${ae?"bg-red-600 hover:bg-red-700 text-white":"bg-gray-200 text-gray-500 cursor-not-allowed"}`,children:[n.jsx(zi,{className:"w-4 h-4"}),"Reject"]}),ae&&n.jsxs("button",{onClick:()=>U(D),className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-white border border-gray-300 text-gray-700 hover:bg-gray-50 transition-colors duration-200",children:[n.jsx(yc,{className:"w-4 h-4"}),"Edit"]})]})})]},D.id)})})]})})]})]}),ae&&ue.open&&ue.item&&n.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-black/50 p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-md w-full p-6 space-y-4",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Edit Quarterly Plan"}),n.jsx("div",{className:"grid grid-cols-4 gap-3",children:[{label:"Q1",key:"q1"},{label:"Q2",key:"q2"},{label:"Q3",key:"q3"},{label:"Q4",key:"q4"}].map(({label:D,key:P})=>n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-500 mb-1",children:D}),n.jsx("input",{type:"number",className:"w-full px-2 py-1.5 border border-gray-300 rounded-lg text-sm",value:ue[P],onChange:X=>F(ne=>({...ne,[P]:X.target.value}))})]},P))}),n.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[n.jsx("button",{onClick:()=>F({open:!1,item:null,q1:"",q2:"",q3:"",q4:""}),className:"px-4 py-2 text-sm rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50",children:"Cancel"}),n.jsx("button",{onClick:Ce,className:"px-4 py-2 text-sm rounded-lg bg-emerald-600 text-white hover:bg-emerald-700",children:"Save Changes"})]})]})}),ae&&q.open&&q.item&&n.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-black/50 p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-md w-full p-6 space-y-4",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Edit Quarterly Performance"}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reported Value"}),n.jsx("input",{type:"number",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",value:q.value,onChange:D=>fe(P=>({...P,value:D.target.value}))})]}),n.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[n.jsx("button",{onClick:()=>fe({open:!1,item:null,value:""}),className:"px-4 py-2 text-sm rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50",children:"Cancel"}),n.jsx("button",{onClick:ge,className:"px-4 py-2 text-sm rounded-lg bg-emerald-600 text-white hover:bg-emerald-700",children:"Save Changes"})]})]})}),n.jsx("div",{className:"mt-6 p-6 bg-white rounded-2xl border border-gray-200 shadow-sm",children:n.jsxs("div",{className:"mt-2 border-t border-gray-200 pt-4 flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[n.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",W.length+le.length," pending items",B&&" (filtered)"]}),n.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-3",children:[!ae&&n.jsxs("div",{className:"flex items-center gap-2 text-amber-600 text-sm",children:[n.jsx(Jr,{className:"w-4 h-4"}),"Only State Ministers can approve and submit to Strategic Affairs Staff"]}),ae&&n.jsxs("div",{className:"flex flex-col md:flex-row gap-2",children:[n.jsxs("button",{type:"button",onClick:I,disabled:w||!C||!C.all_breakdowns_approved,className:`inline-flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium shadow-sm transition-colors duration-200 ${w||!C||!C.all_breakdowns_approved?"bg-gray-200 text-gray-500 cursor-not-allowed":"bg-emerald-600 text-white hover:bg-emerald-700"}`,children:[n.jsx($a,{className:"w-4 h-4"}),w?"Submitting plans...":!C||!C.all_breakdowns_approved?"Waiting for all expected plans":"Submit approved plans"]}),n.jsxs("button",{type:"button",onClick:Z,disabled:w||!C||!C.all_performances_approved,className:`inline-flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium shadow-sm transition-colors duration-200 ${w||!C||!C.all_performances_approved?"bg-gray-200 text-gray-500 cursor-not-allowed":"bg-emerald-600 text-white hover:bg-emerald-700"}`,children:[n.jsx($a,{className:"w-4 h-4"}),w?"Submitting performances...":!C||!C.all_performances_approved?"Waiting for all expected performances":"Submit approved performances"]})]})]})]})}),z.length>0&&n.jsxs("div",{className:"mt-8 bg-white rounded-2xl border border-gray-200 shadow-sm overflow-hidden",children:[n.jsx("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50 flex items-center justify-between",children:n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:"Recent Review Activity"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Summary of approvals, rejections, and edits this session"})]})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full text-sm",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-2 text-left font-medium text-gray-600",children:"Time"}),n.jsx("th",{className:"px-4 py-2 text-left font-medium text-gray-600",children:"Indicator"}),n.jsx("th",{className:"px-4 py-2 text-left font-medium text-gray-600",children:"Department"}),n.jsx("th",{className:"px-4 py-2 text-left font-medium text-gray-600",children:"Item"}),n.jsx("th",{className:"px-4 py-2 text-left font-medium text-gray-600",children:"Action"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-100",children:z.slice(0,50).map(D=>n.jsxs("tr",{children:[n.jsx("td",{className:"px-4 py-2 text-gray-600",children:new Date(D.time).toLocaleString()}),n.jsx("td",{className:"px-4 py-2 text-gray-800",children:D.indicator_name}),n.jsx("td",{className:"px-4 py-2 text-gray-700",children:D.department_name||""}),n.jsx("td",{className:"px-4 py-2",children:n.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-700",children:D.item_type==="BREAKDOWN"?"Breakdown":"Performance"})}),n.jsx("td",{className:"px-4 py-2",children:n.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-semibold ${D.action==="APPROVED"?"bg-emerald-100 text-emerald-700":D.action==="REJECTED"?"bg-red-100 text-red-700":"bg-amber-100 text-amber-700"}`,children:D.action.charAt(0)+D.action.slice(1).toLowerCase()})})]},D.id))})]})})]})]})})}function UR(){const{user:e}=St(),t=FA,[r,a]=v.useState(t),[l,o]=v.useState([]),[u,f]=v.useState([]),[m,h]=v.useState([]),[p,x]=v.useState(!1),[b,j]=v.useState(!1),[w,N]=v.useState(null),[S,E]=v.useState(""),[O,_]=v.useState("ALL"),[T,k]=v.useState("ALL"),[L,$]=v.useState(!1),[G,J]=v.useState(null),ue=(e?.role||"").toUpperCase()==="STRATEGIC_STAFF",F=async(W=!1)=>{W?j(!0):x(!0),N(null);try{const le={};typeof r=="number"&&(le.year=Di(r));const[Ne,Ae,Ce]=await Promise.all([Se.get("/api/annual-plans/",{params:le}),Se.get("/api/breakdowns/"),Se.get("/api/performances/",{params:le})]);o(Ne.data||[]),f(Ae.data||[]),h(Ce.data||[])}catch(le){N(le?.response?.data?.detail||"Failed to load data")}finally{x(!1),j(!1)}};v.useEffect(()=>{F()},[r]);const q=v.useMemo(()=>{const W={};for(const le of l)W[le.id]=le;return W},[l]),fe=v.useMemo(()=>{const W={};for(const le of l)le.sector_id&&(W[le.sector_id]=le.sector_name||`Sector ${le.sector_id}`);return Object.entries(W).map(([le,Ne])=>({id:Number(le),name:Ne})).sort((le,Ne)=>le.name.localeCompare(Ne.name))},[l]),z=v.useMemo(()=>{const W={};for(const le of l)le.department_id&&(W[le.department_id]=le.department_name||`Dept ${le.department_id}`);return Object.entries(W).map(([le,Ne])=>({id:Number(le),name:Ne})).sort((le,Ne)=>le.name.localeCompare(Ne.name))},[l]),Y=v.useMemo(()=>{const Ae=u.filter(U=>q[U.plan]).filter(U=>(U.status||"").toUpperCase()==="APPROVED").filter(U=>O==="ALL"?!0:q[U.plan]?.sector_id===O).filter(U=>T==="ALL"?!0:q[U.plan]?.department_id===T);if(!S.trim())return Ae;const Ce=S.toLowerCase();return Ae.filter(U=>{const ge=q[U.plan];return[ge.indicator_name,ge.department_name,ge.sector_name,ge.indicator_unit].join(" ").toLowerCase().includes(Ce)})},[u,q,S,O,T]),C=v.useMemo(()=>{const Ae=m.filter(U=>q[U.plan]).filter(U=>(U.status||"").toUpperCase()==="APPROVED").filter(U=>O==="ALL"?!0:q[U.plan]?.sector_id===O).filter(U=>T==="ALL"?!0:q[U.plan]?.department_id===T);if(!S.trim())return Ae;const Ce=S.toLowerCase();return Ae.filter(U=>{const ge=q[U.plan];return[ge.indicator_name,ge.department_name,ge.sector_name,ge.indicator_unit].join(" ").toLowerCase().includes(Ce)})},[m,q,S,O,T]),V=v.useMemo(()=>{const W=u.length,le=m.length,Ne=u.filter(Ce=>Ce.status.toUpperCase()==="APPROVED").length,Ae=m.filter(Ce=>Ce.status.toUpperCase()==="APPROVED").length;return{totalBreakdowns:W,totalPerfs:le,approvedBreakdownCount:Ne,approvedPerfCount:Ae,breakdownApprovalRate:W>0?Math.round(Ne/W*100):0,perfApprovalRate:le>0?Math.round(Ae/le*100):0}},[u,m]),ae=async W=>{if(confirm("Validate this quarterly breakdown as compliant?"))try{await Se.post(`/api/breakdowns/${W.id}/validate/`),await F(!0)}catch(le){N(le?.response?.data?.detail||"Validation failed")}},ve=async W=>{const le=prompt("Please provide a reason for rejecting this breakdown (required):","")||"";if(le!==null){if(!le){alert("Please provide a rejection reason.");return}if(confirm(`Reject this quarterly breakdown?
Reason: ${le}`))try{await Se.post(`/api/breakdowns/${W.id}/reject/`,{comment:le}),await F(!0)}catch(Ne){N(Ne?.response?.data?.detail||"Rejection failed")}}},ce=async W=>{if(confirm(`Validate Q${W.quarter} performance as compliant?`))try{await Se.post(`/api/performances/${W.id}/validate/`),await F(!0)}catch(le){N(le?.response?.data?.detail||"Validation failed")}},R=async W=>{const le=prompt("Please provide a reason for rejecting this performance (required):","")||"";if(le!==null){if(!le){alert("Please provide a rejection reason.");return}if(confirm(`Reject Q${W.quarter} performance?
Reason: ${le}`))try{await Se.post(`/api/performances/${W.id}/reject/`,{comment:le}),await F(!0)}catch(Ne){N(Ne?.response?.data?.detail||"Rejection failed")}}},K=()=>{a(t),E(""),_("ALL"),k("ALL")},re=r!==t||S||O!=="ALL"||T!=="ALL";return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-50 p-4 md:p-6",children:n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsxs("div",{className:"mb-8",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 mb-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Strategic Affairs Validations"}),n.jsx("p",{className:"text-gray-600 mt-2",children:"Validate approved quarterly breakdowns and performance reports for strategic compliance"})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("button",{onClick:()=>F(!0),disabled:b,className:"inline-flex items-center gap-2 px-4 py-3 bg-white border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors duration-200 shadow-sm disabled:opacity-50",children:[n.jsx(Vc,{className:`w-5 h-5 ${b?"animate-spin":""}`}),b?"Refreshing...":"Refresh"]}),n.jsxs("button",{className:"inline-flex items-center gap-2 px-4 py-3 bg-white border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors duration-200 shadow-sm",children:[n.jsx(Bl,{className:"w-5 h-5"}),"Export"]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[n.jsx("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 shadow-sm",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Approved Breakdowns"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-2",children:V.approvedBreakdownCount}),n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[V.breakdownApprovalRate,"% of total"]})]}),n.jsx("div",{className:"p-3 bg-blue-100 rounded-xl",children:n.jsx(_p,{className:"w-6 h-6 text-blue-600"})})]})}),n.jsx("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 shadow-sm",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Approved Performance"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-2",children:V.approvedPerfCount}),n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[V.perfApprovalRate,"% of total"]})]}),n.jsx("div",{className:"p-3 bg-emerald-100 rounded-xl",children:n.jsx(Ri,{className:"w-6 h-6 text-emerald-600"})})]})}),n.jsx("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 shadow-sm",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending Validation"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-2",children:Y.length+C.length}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Awaiting strategic review"})]}),n.jsx("div",{className:"p-3 bg-amber-100 rounded-xl",children:n.jsx(ff,{className:"w-6 h-6 text-amber-600"})})]})}),n.jsx("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 shadow-sm",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Plans"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-2",children:l.length}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:r?`Year ${r}`:"All years"})]}),n.jsx("div",{className:"p-3 bg-purple-100 rounded-xl",children:n.jsx($a,{className:"w-6 h-6 text-purple-600"})})]})})]}),n.jsxs("div",{className:"space-y-4 mb-6",children:[n.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(zr,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),n.jsx("input",{type:"text",placeholder:"Search by indicator, department, or sector...",value:S,onChange:W=>E(W.target.value),className:"w-full pl-12 pr-4 py-3 bg-white border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 shadow-sm"})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("button",{onClick:()=>$(!L),className:"inline-flex items-center gap-2 px-4 py-3 bg-white border border-gray-300 rounded-xl hover:bg-gray-50 transition-colors duration-200 shadow-sm",children:[n.jsx(Xa,{className:"w-4 h-4"}),"Filters",re&&n.jsx("span",{className:"inline-flex items-center justify-center w-6 h-6 text-xs font-semibold text-white bg-blue-600 rounded-full",children:[r!==t,S,O!=="ALL",T!=="ALL"].filter(Boolean).length})]}),re&&n.jsx("button",{onClick:K,className:"inline-flex items-center gap-2 px-4 py-3 text-gray-700 bg-gray-100 rounded-xl hover:bg-gray-200 transition-colors duration-200",children:"Reset All"})]})]}),L&&n.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-gray-200 shadow-lg",children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Filter Validations"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Refine your view by selecting specific criteria"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(_r,{className:"inline w-4 h-4 mr-1"}),"Ethiopian Year"]}),n.jsx("div",{className:"relative",children:n.jsx("input",{type:"number",min:2e3,max:3e3,value:r??"",onChange:W=>a(W.target.value===""?null:Number(W.target.value)),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"Enter year (optional)"})}),r!==t&&r!==null&&n.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[n.jsxs("span",{className:"text-xs text-blue-600 bg-blue-50 px-2 py-1 rounded-full",children:["Year: ",r," ."]}),n.jsx("button",{onClick:()=>a(t),className:"text-xs text-gray-500 hover:text-gray-700",children:"Reset"})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(ct,{className:"inline w-4 h-4 mr-1"}),"Sector"]}),n.jsxs("div",{className:"relative",children:[n.jsxs("select",{value:O==="ALL"?"ALL":String(O),onChange:W=>_(W.target.value==="ALL"?"ALL":Number(W.target.value)),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 appearance-none bg-white",children:[n.jsx("option",{value:"ALL",children:"All Sectors"}),fe.map(W=>n.jsx("option",{value:W.id,children:W.name},W.id))]}),n.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:n.jsx(nr,{className:"w-4 h-4 text-gray-400 rotate-90"})})]}),O!=="ALL"&&n.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[n.jsx("span",{className:"text-xs text-blue-600 bg-blue-50 px-2 py-1 rounded-full",children:fe.find(W=>W.id===O)?.name}),n.jsx("button",{onClick:()=>_("ALL"),className:"text-xs text-gray-500 hover:text-gray-700",children:"Reset"})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(pt,{className:"inline w-4 h-4 mr-1"}),"Department"]}),n.jsxs("div",{className:"relative",children:[n.jsxs("select",{value:T==="ALL"?"ALL":String(T),onChange:W=>k(W.target.value==="ALL"?"ALL":Number(W.target.value)),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 appearance-none bg-white",children:[n.jsx("option",{value:"ALL",children:"All Departments"}),z.map(W=>n.jsx("option",{value:W.id,children:W.name},W.id))]}),n.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:n.jsx(nr,{className:"w-4 h-4 text-gray-400 rotate-90"})})]}),T!=="ALL"&&n.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[n.jsx("span",{className:"text-xs text-blue-600 bg-blue-50 px-2 py-1 rounded-full",children:z.find(W=>W.id===T)?.name}),n.jsx("button",{onClick:()=>k("ALL"),className:"text-xs text-gray-500 hover:text-gray-700",children:"Reset"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quick Year Select"}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsxs("button",{onClick:()=>a(t),className:`px-3 py-1.5 text-sm rounded-lg transition-colors ${r===t?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["Current (",t,")"]}),n.jsxs("button",{onClick:()=>a(t-1),className:`px-3 py-1.5 text-sm rounded-lg transition-colors ${r===t-1?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["Last Year (",t-1,")"]}),n.jsx("button",{onClick:()=>a(null),className:`px-3 py-1.5 text-sm rounded-lg transition-colors ${r===null?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"All Years"})]})]})]})]})]})]}),w&&n.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-xl",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Jr,{className:"w-5 h-5 text-red-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-red-700",children:"Error"}),n.jsx("p",{className:"text-sm text-red-600 mt-1",children:w})]})]})}),n.jsxs("div",{className:"grid grid-cols-1",children:[n.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-lg overflow-hidden",children:[n.jsx("div",{className:"px-6 py-4 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-indigo-100",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:n.jsx(_p,{className:"w-5 h-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:"Quarterly Breakdowns"}),n.jsxs("p",{className:"text-sm text-blue-600",children:[Y.length," awaiting validation  ",V.approvedBreakdownCount," total approved"]})]})]}),n.jsxs("button",{onClick:()=>J(G==="breakdowns"?null:"breakdowns"),className:"text-sm text-blue-600 hover:text-blue-800 font-medium flex items-center gap-1",children:[G==="breakdowns"?"Collapse":"Expand",n.jsx(nr,{className:`w-4 h-4 transition-transform ${G==="breakdowns"?"rotate-90":""}`})]})]})}),p?n.jsxs("div",{className:"p-12 text-center",children:[n.jsx("div",{className:"w-8 h-8 border-3 border-gray-300 border-t-blue-600 rounded-full animate-spin mx-auto mb-3"}),n.jsx("p",{className:"text-gray-600",children:"Loading approved breakdowns..."})]}):Y.length===0?n.jsxs("div",{className:"p-12 text-center",children:[n.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-3",children:n.jsx(_p,{className:"w-6 h-6 text-gray-400"})}),n.jsx("p",{className:"text-gray-600 font-medium",children:"No approved breakdowns to validate"}),n.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"All approved breakdowns have been validated or none are approved yet"})]}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Indicator"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Annual Target"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quarterly Allocation"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Validation"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200",children:Y.map(W=>{const le=q[W.plan],Ne=[{label:"Q1",value:W.q1},{label:"Q2",value:W.q2},{label:"Q3",value:W.q3},{label:"Q4",value:W.q4}];return n.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-150",children:[n.jsx("td",{className:"px-6 py-4",children:n.jsx("div",{className:"flex items-start gap-3",children:n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"font-medium text-gray-900",children:le?.indicator_name}),n.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(ct,{className:"w-3 h-3"}),le?.sector_name]}),n.jsxs("span",{className:"flex items-center gap-1 mt-1",children:[n.jsx(pt,{className:"w-3 h-3"}),le?.department_name]}),le?.indicator_unit&&n.jsxs("span",{className:"inline-block mt-1 px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded-full",children:["Unit: ",le.indicator_unit]})]})]})})}),n.jsxs("td",{className:"px-6 py-4",children:[n.jsx("div",{className:"text-lg font-bold text-gray-900",children:le?.target||"0"}),n.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Annual target"})]}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("div",{className:"flex gap-2",children:Ne.map((Ae,Ce)=>n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-xs text-gray-500",children:Ae.label}),n.jsx("div",{className:`text-sm font-semibold ${Ae.value?"text-gray-900":"text-gray-400"}`,children:Ae.value||""})]},Ce))})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{onClick:()=>ae(W),disabled:!ue,className:`inline-flex items-center gap-2 px-4 py-2 rounded-lg transition-colors duration-200 ${ue?"bg-emerald-600 hover:bg-emerald-700 text-white":"bg-gray-200 text-gray-500 cursor-not-allowed"}`,children:[n.jsx(vN,{className:"w-4 h-4"}),"Validate"]}),n.jsxs("button",{onClick:()=>ve(W),disabled:!ue,className:`inline-flex items-center gap-2 px-4 py-2 rounded-lg transition-colors duration-200 ${ue?"bg-red-600 hover:bg-red-700 text-white":"bg-gray-200 text-gray-500 cursor-not-allowed"}`,children:[n.jsx(zi,{className:"w-4 h-4"}),"Reject"]})]})})]},W.id)})})]})})]}),n.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-lg overflow-hidden",children:[n.jsx("div",{className:"px-6 py-4 border-b border-gray-200 bg-gradient-to-r from-emerald-50 to-green-100",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-emerald-100 rounded-lg",children:n.jsx(Ri,{className:"w-5 h-5 text-emerald-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:"Quarterly Performance"}),n.jsxs("p",{className:"text-sm text-emerald-600",children:[C.length," awaiting validation  ",V.approvedPerfCount," total approved"]})]})]}),n.jsxs("button",{onClick:()=>J(G==="performance"?null:"performance"),className:"text-sm text-emerald-600 hover:text-emerald-800 font-medium flex items-center gap-1",children:[G==="performance"?"Collapse":"Expand",n.jsx(nr,{className:`w-4 h-4 transition-transform ${G==="performance"?"rotate-90":""}`})]})]})}),p?n.jsxs("div",{className:"p-12 text-center",children:[n.jsx("div",{className:"w-8 h-8 border-3 border-gray-300 border-t-emerald-600 rounded-full animate-spin mx-auto mb-3"}),n.jsx("p",{className:"text-gray-600",children:"Loading approved performance reports..."})]}):C.length===0?n.jsxs("div",{className:"p-12 text-center",children:[n.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-3",children:n.jsx(Ri,{className:"w-6 h-6 text-gray-400"})}),n.jsx("p",{className:"text-gray-600 font-medium",children:"No approved performance reports to validate"}),n.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"All approved reports have been validated or none are approved yet"})]}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Indicator"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quarter"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Reported Value"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Variance Explanation"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Validation"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200",children:C.map(W=>{const le=q[W.plan],Ne=parseFloat(le?.target||"0"),Ae=parseFloat(W.value||"0"),Ce=Ne>0?Ae/Ne*100:0;return n.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-150",children:[n.jsx("td",{className:"px-6 py-4",children:n.jsx("div",{className:"flex items-start gap-3",children:n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"font-medium text-gray-900",children:le?.indicator_name}),n.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(ct,{className:"w-3 h-3"}),le?.sector_name]}),n.jsxs("span",{className:"flex items-center gap-1 mt-1",children:[n.jsx(pt,{className:"w-3 h-3"}),le?.department_name]})]}),le?.indicator_unit&&n.jsxs("span",{className:"inline-block mt-1 px-2 py-1 bg-emerald-100 text-emerald-700 text-xs rounded-full",children:["Unit: ",le.indicator_unit]})]})})}),n.jsxs("td",{className:"px-6 py-4",children:[n.jsxs("div",{className:"inline-flex items-center px-3 py-1.5 bg-blue-100 text-blue-800 rounded-full text-sm font-medium",children:["Quarter ",W.quarter]}),n.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Annual target: ",le?.target]})]}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{children:[n.jsx("div",{className:"text-lg font-bold text-gray-900",children:W.value}),!isNaN(Ce)&&n.jsxs("div",{className:`text-sm font-medium mt-1 ${Ce>=100?"text-emerald-600":Ce>=80?"text-amber-600":"text-red-600"}`,children:[Ce.toFixed(1),"% of target"]})]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("div",{className:"text-sm text-gray-700 whitespace-pre-line max-w-xs",title:W.variance_description,children:W.variance_description&&W.variance_description.trim()?W.variance_description:""})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{onClick:()=>ce(W),disabled:!ue,className:`inline-flex items-center gap-2 px-4 py-2 rounded-lg transition-colors duration-200 ${ue?"bg-emerald-600 hover:bg-emerald-700 text-white":"bg-gray-200 text-gray-500 cursor-not-allowed"}`,children:[n.jsx(vN,{className:"w-4 h-4"}),"Validate"]}),n.jsxs("button",{onClick:()=>R(W),disabled:!ue,className:`inline-flex items-center gap-2 px-4 py-2 rounded-lg transition-colors duration-200 ${ue?"bg-red-600 hover:bg-red-700 text-white":"bg-gray-200 text-gray-500 cursor-not-allowed"}`,children:[n.jsx(zi,{className:"w-4 h-4"}),"Reject"]})]})})]},W.id)})})]})})]})]}),n.jsxs("div",{className:"mt-6 bg-white rounded-2xl border border-gray-200 shadow-lg overflow-hidden",children:[n.jsx("div",{className:"px-6 py-4 border-b border-gray-200 bg-gradient-to-r from-purple-50 to-indigo-100",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:n.jsx($a,{className:"w-5 h-5 text-purple-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:"Annual Plans (Reference)"}),n.jsxs("p",{className:"text-sm text-purple-600",children:[l.length," plans  ",r?`Year ${r} .`:"All years"]})]})]}),n.jsxs("button",{onClick:()=>J(G==="plans"?null:"plans"),className:"text-sm text-purple-600 hover:text-purple-800 font-medium flex items-center gap-1",children:[G==="plans"?"Collapse":"Expand",n.jsx(nr,{className:`w-4 h-4 transition-transform ${G==="plans"?"rotate-90":""}`})]})]})}),p?n.jsxs("div",{className:"p-12 text-center",children:[n.jsx("div",{className:"w-8 h-8 border-3 border-gray-300 border-t-purple-600 rounded-full animate-spin mx-auto mb-3"}),n.jsx("p",{className:"text-gray-600",children:"Loading annual plans..."})]}):l.length===0?n.jsxs("div",{className:"p-12 text-center",children:[n.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-3",children:n.jsx($a,{className:"w-6 h-6 text-gray-400"})}),n.jsx("p",{className:"text-gray-600 font-medium",children:"No annual plans available"}),n.jsx("p",{className:"text-gray-500 text-sm mt-1",children:r?`No plans found for year ${r}`:"No plans found for selected filters"})]}):n.jsx("div",{className:`overflow-x-auto transition-all duration-300 ${G==="plans"?"max-h-[5000px] opacity-100":"max-h-96 opacity-100"}`,children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Indicator"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Department"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sector"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Annual Target"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200",children:l.map(W=>n.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-150",children:[n.jsxs("td",{className:"px-6 py-4",children:[n.jsx("div",{className:"font-medium text-gray-900",children:W.indicator_name}),W.indicator_unit&&n.jsxs("span",{className:"inline-block mt-1 px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded-full",children:["Unit: ",W.indicator_unit]})]}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(pt,{className:"w-4 h-4 text-gray-400"}),n.jsx("span",{className:"text-gray-700",children:W.department_name})]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ct,{className:"w-4 h-4 text-gray-400"}),n.jsx("span",{className:"text-gray-700",children:W.sector_name})]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("div",{className:"text-lg font-bold text-purple-700",children:W.target})})]},W.id))})]})})]}),n.jsx("div",{className:"mt-6 p-6 bg-white rounded-2xl border border-gray-200 shadow-sm",children:n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[n.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",Y.length+C.length," items awaiting strategic validation",re&&" (filtered)"]}),n.jsxs("div",{className:"flex items-center gap-4",children:[!ue&&n.jsxs("div",{className:"flex items-center gap-2 text-amber-600 text-sm",children:[n.jsx(ff,{className:"w-4 h-4"}),"Only Strategic Affairs Staff can perform validations"]}),n.jsx("div",{className:"text-sm text-gray-500",children:"Last updated: Just now"})]})]})})]})})}const wN=[{value:"BREAKDOWN",label:"Breakdown Submission",color:"bg-blue-100 text-blue-800"},{value:"PERFORMANCE_Q1",label:"Q1 Performance",color:"bg-emerald-100 text-emerald-800"},{value:"PERFORMANCE_Q2",label:"Q2 Performance",color:"bg-amber-100 text-amber-800"},{value:"PERFORMANCE_Q3",label:"Q3 Performance",color:"bg-orange-100 text-orange-800"},{value:"PERFORMANCE_Q4",label:"Q4 Performance",color:"bg-purple-100 text-purple-800"}],NN=new Date().getFullYear();function qR(){const{user:e}=St(),t=!!e?.is_superuser,[r,a]=v.useState([]),[l,o]=v.useState(!1),[u,f]=v.useState(null),[m,h]=v.useState(null),[p,x]=v.useState(""),[b,j]=v.useState(!1),[w,N]=v.useState(null),[S,E]=v.useState(!1),[O,_]=v.useState("all"),[T,k]=v.useState({window_type:"BREAKDOWN",year:"",always_open:!1,start:"",end:"",active:!0}),L=async()=>{if(t){o(!0),f(null);try{const z=await Se.get("/api/submission-windows/");a(z.data||[])}catch(z){f(z?.response?.data?.detail||"Failed to load submission windows")}finally{o(!1)}}};v.useEffect(()=>{L()},[t]);const $=v.useMemo(()=>{let z=r;if(p.trim()){const Y=p.toLowerCase();z=z.filter(C=>C.window_type.toLowerCase().includes(Y)||(C.year?.toString().includes(Y)??!1)||(C.start?.toLowerCase().includes(Y)??!1)||(C.end?.toLowerCase().includes(Y)??!1))}return O==="active"?z=z.filter(Y=>Y.active):O==="inactive"&&(z=z.filter(Y=>!Y.active)),z.sort((Y,C)=>Y.window_type===C.window_type?(C.year||0)-(Y.year||0):Y.window_type.localeCompare(C.window_type))},[r,p,O]),G=()=>{N(null),k({window_type:"BREAKDOWN",year:"",always_open:!1,start:"",end:"",active:!0}),j(!0)},J=z=>{N(z),k({window_type:z.window_type,year:z.year?String(z.year):"",always_open:z.always_open,start:z.start?z.start.slice(0,16):"",end:z.end?z.end.slice(0,16):"",active:z.active}),j(!0)},ue=async()=>{if(!T.start&&!T.always_open){f("Please provide a start date or mark as always open");return}E(!0),f(null),h(null);try{const z={window_type:T.window_type,year:T.year?Number(T.year):null,always_open:T.always_open,start:T.start?new Date(T.start).toISOString():null,end:T.end?new Date(T.end).toISOString():null,active:T.active};w?(await Se.put(`/api/submission-windows/${w.id}/`,z),h("Submission window updated successfully")):(await Se.post("/api/submission-windows/",z),h("Submission window created successfully")),j(!1),L(),setTimeout(()=>h(null),3e3)}catch(z){f(z?.response?.data?.detail||"Failed to save submission window")}finally{E(!1)}},F=async z=>{if(confirm(`Are you sure you want to delete this ${z.window_type} window for ${z.year||"all years"}?`))try{await Se.delete(`/api/submission-windows/${z.id}/`),h("Submission window deleted successfully"),L(),setTimeout(()=>h(null),3e3)}catch(Y){f(Y?.response?.data?.detail||"Failed to delete submission window")}},q=z=>wN.find(Y=>Y.value===z)||{label:z,color:"bg-gray-100 text-gray-800"},fe=z=>z?new Date(z).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"-";return t?n.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-white p-4 md:p-6 lg:p-8",children:[n.jsx("div",{className:"max-w-7xl mx-auto",children:n.jsxs("div",{className:"mb-8",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 mb-8",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-500 to-cyan-600 rounded-xl shadow-lg",children:n.jsx(R8,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Entry Periods Management"}),n.jsx("p",{className:"text-gray-600 mt-2",children:"Configure submission windows for breakdowns and quarterly performance reports"})]})]}),n.jsxs("button",{onClick:G,className:"flex items-center gap-2 px-5 py-3 bg-gradient-to-r from-emerald-600 to-green-600 text-white rounded-xl hover:from-emerald-700 hover:to-green-700 hover:shadow-lg transition-all duration-200 font-medium",children:[n.jsx(Sr,{className:"w-5 h-5"}),"New Entry Window"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[n.jsx("div",{className:"bg-white rounded-xl p-5 border border-gray-200 shadow-sm",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Windows"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.length})]}),n.jsx(_r,{className:"w-8 h-8 text-blue-500"})]})}),n.jsx("div",{className:"bg-white rounded-xl p-5 border border-gray-200 shadow-sm",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Active Now"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.filter(z=>z.active).length})]}),n.jsx(nR,{className:"w-8 h-8 text-emerald-500"})]})}),n.jsx("div",{className:"bg-white rounded-xl p-5 border border-gray-200 shadow-sm",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Always Open"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.filter(z=>z.always_open).length})]}),n.jsx(Pl,{className:"w-8 h-8 text-amber-500"})]})}),n.jsx("div",{className:"bg-white rounded-xl p-5 border border-gray-200 shadow-sm",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Current Year"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.filter(z=>z.year===NN).length})]}),n.jsx(P8,{className:"w-8 h-8 text-purple-500"})]})})]}),n.jsx("div",{className:"mb-8",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(zr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search by type, year, or date...",value:p,onChange:z=>x(z.target.value),className:"w-full pl-10 pr-4 py-3 bg-white border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 shadow-sm transition-all duration-200"}),p&&n.jsx("button",{onClick:()=>x(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:n.jsx(Xe,{className:"w-4 h-4"})})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>_("all"),className:`px-4 py-3 rounded-xl font-medium transition-all duration-200 ${O==="all"?"bg-blue-100 text-blue-700 border border-blue-300":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"All"}),n.jsx("button",{onClick:()=>_("active"),className:`px-4 py-3 rounded-xl font-medium transition-all duration-200 ${O==="active"?"bg-emerald-100 text-emerald-700 border border-emerald-300":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Active Only"}),n.jsx("button",{onClick:()=>_("inactive"),className:`px-4 py-3 rounded-xl font-medium transition-all duration-200 ${O==="inactive"?"bg-amber-100 text-amber-700 border border-amber-300":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Inactive"})]})]})}),n.jsxs("div",{className:"space-y-4 mb-8",children:[u&&n.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 flex items-start gap-3 animate-fade-in",children:[n.jsx(Jr,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),n.jsx("div",{className:"text-sm text-red-700",children:u}),n.jsx("button",{onClick:()=>f(null),className:"ml-auto text-red-400 hover:text-red-600",children:n.jsx(Xe,{className:"w-4 h-4"})})]}),m&&n.jsxs("div",{className:"bg-emerald-50 border border-emerald-200 rounded-xl p-4 flex items-start gap-3 animate-fade-in",children:[n.jsx(mr,{className:"w-5 h-5 text-emerald-500 flex-shrink-0 mt-0.5"}),n.jsx("div",{className:"text-sm text-emerald-700",children:m}),n.jsx("button",{onClick:()=>h(null),className:"ml-auto text-emerald-400 hover:text-emerald-600",children:n.jsx(Xe,{className:"w-4 h-4"})})]})]}),n.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden",children:[n.jsx("div",{className:"hidden lg:block overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-gradient-to-r from-gray-50 to-gray-100 border-b",children:[n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Type"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Year"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Always Open"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Start Date"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"End Date"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider w-40",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-100",children:l?n.jsx("tr",{children:n.jsx("td",{colSpan:7,className:"px-6 py-12 text-center",children:n.jsxs("div",{className:"flex flex-col items-center justify-center",children:[n.jsx(Fn,{className:"w-8 h-8 text-blue-600 animate-spin mb-3"}),n.jsx("p",{className:"text-gray-600",children:"Loading submission windows..."})]})})}):$.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:7,className:"px-6 py-12 text-center",children:n.jsxs("div",{className:"flex flex-col items-center justify-center",children:[n.jsx(_r,{className:"w-12 h-12 text-gray-300 mb-3"}),n.jsx("p",{className:"text-gray-500 font-medium mb-1",children:p?"No matching windows found":"No submission windows configured"}),n.jsx("p",{className:"text-gray-400 text-sm",children:p?"Try a different search term":"Create your first submission window using the button above"})]})})}):$.map(z=>{const Y=q(z.window_type);return n.jsxs("tr",{className:`group hover:bg-gray-50 transition-all duration-200 ${z.active?"":"bg-gray-50/50"}`,children:[n.jsx("td",{className:"px-6 py-4",children:n.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium ${Y.color}`,children:Y.label})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:`font-semibold ${z.year?"text-gray-900":"text-gray-500"}`,children:z.year||"All Years"}),z.year===NN&&n.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded-full",children:"Current"})]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("span",{className:`inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-medium ${z.active?"bg-emerald-100 text-emerald-800":"bg-gray-100 text-gray-800"}`,children:z.active?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-1.5 h-1.5 bg-emerald-500 rounded-full"}),"Active"]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-1.5 h-1.5 bg-gray-500 rounded-full"}),"Inactive"]})})}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("span",{className:`inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-medium ${z.always_open?"bg-amber-100 text-amber-800":"bg-gray-100 text-gray-800"}`,children:z.always_open?n.jsxs(n.Fragment,{children:[n.jsx(Pl,{className:"w-3 h-3"}),"Always Open"]}):"Time-bound"})}),n.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:z.always_open?n.jsx("span",{className:"text-gray-400",children:"N/A"}):fe(z.start)}),n.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:z.always_open?n.jsx("span",{className:"text-gray-400",children:"N/A"}):fe(z.end)}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:[n.jsxs("button",{onClick:()=>J(z),className:"flex items-center gap-2 px-3 py-2 bg-blue-50 text-blue-700 rounded-lg hover:bg-blue-100 transition-colors duration-200",children:[n.jsx(Op,{className:"w-3.5 h-3.5"}),n.jsx("span",{className:"text-sm font-medium",children:"Edit"})]}),n.jsxs("button",{onClick:()=>F(z),className:"flex items-center gap-2 px-3 py-2 bg-red-50 text-red-700 rounded-lg hover:bg-red-100 transition-colors duration-200",children:[n.jsx(Dn,{className:"w-3.5 h-3.5"}),n.jsx("span",{className:"text-sm font-medium",children:"Delete"})]})]})})]},z.id)})})]})}),n.jsx("div",{className:"lg:hidden",children:l?n.jsxs("div",{className:"p-8 text-center",children:[n.jsx(Fn,{className:"w-8 h-8 text-blue-600 animate-spin mx-auto mb-3"}),n.jsx("p",{className:"text-gray-600",children:"Loading submission windows..."})]}):$.length===0?n.jsxs("div",{className:"p-8 text-center",children:[n.jsx(_r,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),n.jsx("p",{className:"text-gray-500 font-medium mb-1",children:p?"No matching windows found":"No submission windows configured"}),n.jsx("p",{className:"text-gray-400 text-sm",children:p?"Try a different search term":"Create your first submission window using the button above"})]}):n.jsx("div",{className:"p-4 space-y-4",children:$.map(z=>{const Y=q(z.window_type);return n.jsx("div",{className:`bg-white border rounded-xl p-5 shadow-sm ${z.active?"border-gray-200 hover:border-blue-300":"opacity-75 border-gray-200"} transition-all duration-200`,children:n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium ${Y.color}`,children:Y.label}),n.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${z.active?"bg-emerald-100 text-emerald-800":"bg-gray-100 text-gray-800"}`,children:z.active?"Active":"Inactive"})]}),n.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:z.year?`Year ${z.year}`:"All Years"}),z.always_open?n.jsxs("p",{className:"text-sm text-amber-600 flex items-center gap-1",children:[n.jsx(Pl,{className:"w-3 h-3"}),"Always Open"]}):n.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[n.jsxs("p",{className:"flex items-center gap-1",children:[n.jsx(nr,{className:"w-3 h-3"}),"Starts: ",fe(z.start)]}),n.jsxs("p",{className:"flex items-center gap-1",children:[n.jsx(nr,{className:"w-3 h-3"}),"Ends: ",fe(z.end)]})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:()=>J(z),className:"p-2 bg-blue-50 text-blue-700 rounded-lg hover:bg-blue-100",children:n.jsx(Op,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>F(z),className:"p-2 bg-red-50 text-red-700 rounded-lg hover:bg-red-100",children:n.jsx(Dn,{className:"w-4 h-4"})})]})]})},z.id)})})}),!l&&$.length>0&&n.jsx("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-100",children:n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[n.jsxs("p",{className:"text-sm text-gray-600",children:["Showing ",n.jsx("span",{className:"font-semibold",children:$.length})," of"," ",n.jsx("span",{className:"font-semibold",children:r.length})," windows"]}),n.jsxs("div",{className:"text-xs text-gray-500",children:[r.filter(z=>z.active).length," active  ",r.filter(z=>!z.active).length," inactive"]})]})})]})]})}),b&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"sticky top-0 z-10 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`p-2 rounded-lg ${w?"bg-blue-100":"bg-emerald-100"}`,children:w?n.jsx(Op,{className:"w-5 h-5 text-blue-600"}):n.jsx(Sr,{className:"w-5 h-5 text-emerald-600"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:w?"Edit Entry Window":"Create New Entry Window"}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Configure submission parameters"})]})]}),n.jsx("button",{onClick:()=>j(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:n.jsx(Xe,{className:"w-5 h-5 text-gray-500"})})]}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Window Type ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("select",{value:T.window_type,onChange:z=>k({...T,window_type:z.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",children:wN.map(z=>n.jsx("option",{value:z.value,children:z.label},z.value))})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Year"}),n.jsx("input",{type:"number",value:T.year,onChange:z=>k({...T,year:z.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",placeholder:"e.g., 2025 (leave blank for all years)",min:"2000",max:"2100"}),n.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Leave blank to apply to all years"})]}),n.jsx("div",{className:"flex items-start pt-6",children:n.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"checkbox",checked:T.always_open,onChange:z=>k({...T,always_open:z.target.checked}),className:"sr-only"}),n.jsx("div",{className:`w-10 h-6 rounded-full transition-colors duration-200 ${T.always_open?"bg-emerald-500":"bg-gray-300"}`,children:n.jsx("div",{className:`bg-white w-4 h-4 rounded-full transition-transform duration-200 transform ${T.always_open?"translate-x-6":"translate-x-1"} mt-1`})})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Always Open"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"No start/end date restrictions"})]})]})})]}),!T.always_open&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Start Date & Time ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"datetime-local",value:T.start,onChange:z=>k({...T,start:z.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",required:!T.always_open})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["End Date & Time ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"datetime-local",value:T.end,onChange:z=>k({...T,end:z.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",required:!T.always_open})]})]}),n.jsx("div",{className:"flex items-start pt-2",children:n.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"checkbox",checked:T.active,onChange:z=>k({...T,active:z.target.checked}),className:"sr-only"}),n.jsx("div",{className:`w-10 h-6 rounded-full transition-colors duration-200 ${T.active?"bg-emerald-500":"bg-gray-300"}`,children:n.jsx("div",{className:`bg-white w-4 h-4 rounded-full transition-transform duration-200 transform ${T.active?"translate-x-6":"translate-x-1"} mt-1`})})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Active Window"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Window is currently open for submissions"})]})]})}),n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(J8,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),n.jsxs("div",{className:"text-sm text-blue-700",children:[n.jsx("p",{className:"font-medium mb-1",children:"Important Notes:"}),n.jsxs("ul",{className:"list-disc pl-4 space-y-1",children:[n.jsx("li",{children:"Windows without a specific year apply to all years"}),n.jsx("li",{children:"Active windows appear in user dashboards for submissions"}),n.jsx("li",{children:"Always open windows ignore date restrictions"}),n.jsx("li",{children:"Inactive windows are hidden from users"})]})]})]})})]}),n.jsxs("div",{className:"sticky bottom-0 bg-white border-t border-gray-200 px-6 py-4 flex justify-end gap-3",children:[n.jsx("button",{onClick:()=>j(!1),className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-xl font-medium hover:bg-gray-50 transition-colors duration-200",disabled:S,children:"Cancel"}),n.jsx("button",{onClick:ue,disabled:S,className:`flex items-center gap-2 px-6 py-3 rounded-xl font-medium text-white transition-all duration-200 ${S?"bg-gray-400 cursor-not-allowed":w?"bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-700 hover:to-cyan-700":"bg-gradient-to-r from-emerald-600 to-green-600 hover:from-emerald-700 hover:to-green-700"}`,children:S?n.jsxs(n.Fragment,{children:[n.jsx(Fn,{className:"w-4 h-4 animate-spin"}),"Saving..."]}):w?n.jsxs(n.Fragment,{children:[n.jsx(Yc,{className:"w-4 h-4"}),"Update Window"]}):n.jsxs(n.Fragment,{children:[n.jsx(Sr,{className:"w-4 h-4"}),"Create Window"]})})]})]})}),n.jsx("style",{children:`
        @keyframes fade-in {
          from { opacity: 0; transform: translateY(-10px); }
          to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in {
          animation: fade-in 0.3s ease-out;
        }
      `})]}):n.jsx("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-white",children:n.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-16 text-center",children:[n.jsx("div",{className:"p-4 bg-gradient-to-r from-amber-500 to-orange-500 w-16 h-16 rounded-2xl mx-auto mb-6 flex items-center justify-center",children:n.jsx(iR,{className:"w-8 h-8 text-white"})}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-3",children:"Access Restricted"}),n.jsx("p",{className:"text-gray-600 max-w-md mx-auto",children:"Only administrators can manage entry periods. Please contact your system administrator for access."})]})})}function FR(){const{user:e}=St(),t=zs()[0],[r,a]=v.useState(t),[l,o]=v.useState([]),[u,f]=v.useState([]),[m,h]=v.useState([]),[p,x]=v.useState(!1),[b,j]=v.useState(null),[w,N]=v.useState(""),[S,E]=v.useState(null),[O,_]=v.useState(null),[T,k]=v.useState(null),[L,$]=v.useState(!1),[G,J]=v.useState(null),ue=async()=>{x(!0),j(null);try{const R=(le=>le+7)(r),[K,re,W]=await Promise.all([Se.get("/api/annual-plans/",{params:{year:R}}),Se.get("/api/breakdowns/"),Se.get("/api/performances/")]);o(K.data||[]),f(re.data||[]),h(W.data||[])}catch(ce){j(ce?.response?.data?.detail||"Failed to load data")}finally{x(!1)}};v.useEffect(()=>{ue()},[r]),v.useEffect(()=>{_(null)},[S]);const F=v.useMemo(()=>{const ce={};for(const R of l)ce[R.id]=R;return ce},[l]),q=v.useMemo(()=>{const ce=new Map;for(const R of l)typeof R.sector_id=="number"&&R.sector_name&&ce.set(R.sector_id,R.sector_name);return Array.from(ce,([R,K])=>({id:R,name:K})).sort((R,K)=>R.name.localeCompare(K.name))},[l]),fe=v.useMemo(()=>{const ce=new Map;for(const K of l)typeof K.department_id=="number"&&K.department_name&&(ce.has(K.department_id)||ce.set(K.department_id,{name:K.department_name,sector_id:K.sector_id}));let R=Array.from(ce,([K,re])=>({id:K,name:re.name,sector_id:re.sector_id}));return S&&(R=R.filter(K=>K.sector_id===S)),R.sort((K,re)=>K.name.localeCompare(re.name))},[l,S]),z=v.useMemo(()=>{let R=u.filter(re=>F[re.plan]).filter(re=>(re.status||"").toUpperCase()==="VALIDATED");if(S&&(R=R.filter(re=>F[re.plan]?.sector_id===S)),O&&(R=R.filter(re=>F[re.plan]?.department_id===O)),!w.trim())return R;const K=w.toLowerCase();return R.filter(re=>{const W=F[re.plan];return[W.indicator_name,W.department_name,W.sector_name,W.indicator_unit].join(" ").toLowerCase().includes(K)})},[u,F,w,S,O]),Y=v.useMemo(()=>{let R=m.filter(re=>F[re.plan]).filter(re=>(re.status||"").toUpperCase()==="VALIDATED");if(S&&(R=R.filter(re=>F[re.plan]?.sector_id===S)),O&&(R=R.filter(re=>F[re.plan]?.department_id===O)),!w.trim())return R;const K=w.toLowerCase();return R.filter(re=>{const W=F[re.plan];return[W.indicator_name,W.department_name,W.sector_name,W.indicator_unit].join(" ").toLowerCase().includes(K)})},[m,F,w,S,O]),C=async(ce,R,K)=>{try{if(J({type:ce,id:R,action:K}),K==="reject"){const re=window.prompt("Please provide a reason for rejection:","");if(re===null)return;ce==="breakdown"?await Se.post(`/api/breakdowns/${R}/reject/`,{comment:re}):await Se.post(`/api/performances/${R}/reject/`,{comment:re})}else ce==="breakdown"?await Se.post(`/api/breakdowns/${R}/final_approve/`):await Se.post(`/api/performances/${R}/final_approve/`);await ue()}catch(re){j(re?.response?.data?.detail||`${K==="approve"?"Approval":"Rejection"} failed`)}finally{J(null)}},V=ce=>{const R=ce==="breakdowns"?z:Y,re=[(ce==="breakdowns"?["Indicator","Department","Sector","Target","Q1","Q2","Q3","Q4"]:["Indicator","Department","Sector","Quarter","Value"]).join(","),...R.map(Ae=>{const Ce=F[Ae.plan];if(ce==="breakdowns"){const U=Ae;return[`"${Ce?.indicator_name}"`,`"${Ce?.department_name||""}"`,`"${Ce?.sector_name||""}"`,Ce?.target||"0",U.q1||"",U.q2||"",U.q3||"",U.q4||""].join(",")}else{const U=Ae;return[`"${Ce?.indicator_name}"`,`"${Ce?.department_name||""}"`,`"${Ce?.sector_name||""}"`,`Q${U.quarter}`,U.value].join(",")}})].join(`
`),W=new Blob([re],{type:"text/csv"}),le=window.URL.createObjectURL(W),Ne=document.createElement("a");Ne.href=le,Ne.download=`${ce}-${r}.csv`,Ne.click()},ae=(e?.role||"").toUpperCase()==="EXECUTIVE",ve={breakdowns:z.length,performances:Y.length,total:z.length+Y.length};return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n.jsxs("div",{className:"mb-8",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Final Approvals Dashboard"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Executive oversight for validated quarterly plans and performances"})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("button",{onClick:()=>V("breakdowns"),disabled:ve.breakdowns===0,className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[n.jsx(Bl,{className:"w-4 h-4 mr-2"}),"Export Breakdowns"]}),n.jsxs("button",{onClick:()=>V("performances"),disabled:ve.performances===0,className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[n.jsx(Bl,{className:"w-4 h-4 mr-2"}),"Export Performances"]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-6",children:[n.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-5 shadow-sm",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending Breakdowns"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:ve.breakdowns})]}),n.jsx("div",{className:"p-3 bg-blue-50 rounded-lg",children:n.jsx(mr,{className:"w-6 h-6 text-blue-600"})})]})}),n.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-5 shadow-sm",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending Performances"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:ve.performances})]}),n.jsx("div",{className:"p-3 bg-emerald-50 rounded-lg",children:n.jsx(yc,{className:"w-6 h-6 text-emerald-600"})})]})}),n.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-5 shadow-sm",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Pending"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:ve.total})]}),n.jsx("div",{className:"p-3 bg-purple-50 rounded-lg",children:n.jsx(Jr,{className:"w-6 h-6 text-purple-600"})})]})})]}),n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm mb-6",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 cursor-pointer",onClick:()=>$(!L),children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Xa,{className:"w-5 h-5 text-gray-500"}),n.jsx("span",{className:"font-medium text-gray-900",children:"Filters & Search"})]}),n.jsx(Wr,{className:`w-5 h-5 text-gray-500 transition-transform ${L?"rotate-180":""}`})]}),L&&n.jsxs("div",{className:"px-4 pb-4 border-t border-gray-200 pt-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Year"}),n.jsx(Nc,{value:r,onChange:a})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sector"}),n.jsxs("select",{value:S??"",onChange:ce=>E(ce.target.value?Number(ce.target.value):null),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[n.jsx("option",{value:"",children:"All sectors"}),q.map(ce=>n.jsx("option",{value:ce.id,children:ce.name},ce.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),n.jsxs("select",{value:O??"",onChange:ce=>_(ce.target.value?Number(ce.target.value):null),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",disabled:!S,children:[n.jsx("option",{value:"",children:"All departments"}),fe.map(ce=>n.jsx("option",{value:ce.id,children:ce.name},ce.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search"}),n.jsxs("div",{className:"relative",children:[n.jsx(zr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),n.jsx("input",{value:w,onChange:ce=>N(ce.target.value),placeholder:"Search indicators...",className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]})]}),n.jsx("div",{className:"flex justify-end gap-2 mt-4",children:n.jsx("button",{onClick:()=>{N(""),E(null),_(null)},className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Clear filters"})})]})]})]}),b&&n.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-xl",children:n.jsxs("div",{className:"flex items-center gap-2 text-red-700",children:[n.jsx(Jr,{className:"w-5 h-5"}),n.jsx("span",{className:"font-medium",children:b})]})}),p&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsx("div",{className:"bg-white p-8 rounded-xl shadow-lg",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Fn,{className:"w-6 h-6 animate-spin text-blue-600"}),n.jsx("span",{className:"text-lg font-medium",children:"Loading approvals..."})]})})}),n.jsxs("div",{className:"grid grid-cols-1 ",children:[n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-lg overflow-hidden",children:[n.jsxs("div",{className:"px-6 py-4 bg-gradient-to-r from-blue-50 to-blue-100 border-b",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(mr,{className:"w-6 h-6 text-blue-600"}),n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Quarterly Breakdowns"})]}),n.jsxs("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 text-sm font-medium rounded-full",children:[z.length," pending"]})]}),n.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Review and approve quarterly target allocations"})]}),n.jsx("div",{className:"p-4",children:z.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gray-100 rounded-full mb-4",children:n.jsx(mr,{className:"w-8 h-8 text-gray-400"})}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"All caught up!"}),n.jsx("p",{className:"text-gray-600",children:"No validated breakdowns require approval."})]}):n.jsx("div",{className:"space-y-4",children:z.map(ce=>{const R=F[ce.plan],K=T===ce.id;return n.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden hover:shadow-sm transition-shadow",children:n.jsxs("div",{className:"p-4 bg-white cursor-pointer",onClick:()=>k(K?null:ce.id),children:[n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("h4",{className:"font-medium text-gray-900",children:R?.indicator_name}),R?.indicator_unit&&n.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded",children:R.indicator_unit})]}),n.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[n.jsx("span",{children:R?.department_name}),n.jsx("span",{className:"w-1 h-1 bg-gray-400 rounded-full"}),n.jsx("span",{children:R?.sector_name})]}),n.jsx("div",{className:"mt-3 flex items-center gap-4",children:n.jsxs("div",{className:"text-sm",children:[n.jsx("span",{className:"text-gray-500",children:"Annual Target: "}),n.jsx("span",{className:"font-medium",children:R?.target||"0"})]})})]}),n.jsx(Wr,{className:`w-5 h-5 text-gray-400 transition-transform ${K?"rotate-180":""}`})]}),K&&n.jsxs("div",{className:"mt-4 pt-4 border-t",children:[n.jsx("div",{className:"grid grid-cols-4 gap-4",children:[1,2,3,4].map(re=>n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"text-xs text-gray-500 mb-1",children:["Q",re]}),n.jsx("div",{className:"font-medium bg-gray-50 py-2 rounded",children:ce[`q${re}`]||"-"})]},re))}),n.jsxs("div",{className:"flex gap-2 mt-4 pt-4 border-t",children:[n.jsx("button",{onClick:re=>{re.stopPropagation(),C("breakdown",ce.id,"approve")},disabled:!ae||G?.id===ce.id,className:`flex-1 inline-flex items-center justify-center px-4 py-2 rounded-lg font-medium ${ae?"bg-emerald-600 hover:bg-emerald-700 text-white":"bg-gray-200 text-gray-500 cursor-not-allowed"}`,children:G?.id===ce.id&&G.action==="approve"?n.jsxs(n.Fragment,{children:[n.jsx(Fn,{className:"w-4 h-4 mr-2 animate-spin"}),"Processing..."]}):n.jsxs(n.Fragment,{children:[n.jsx(mr,{className:"w-4 h-4 mr-2"}),"Final Approve"]})}),n.jsx("button",{onClick:re=>{re.stopPropagation(),C("breakdown",ce.id,"reject")},disabled:!ae||G?.id===ce.id,className:`flex-1 inline-flex items-center justify-center px-4 py-2 rounded-lg font-medium ${ae?"bg-red-600 hover:bg-red-700 text-white":"bg-gray-200 text-gray-500 cursor-not-allowed"}`,children:G?.id===ce.id&&G.action==="reject"?n.jsxs(n.Fragment,{children:[n.jsx(Fn,{className:"w-4 h-4 mr-2 animate-spin"}),"Processing..."]}):n.jsxs(n.Fragment,{children:[n.jsx(zi,{className:"w-4 h-4 mr-2"}),"Reject"]})})]})]})]})},ce.id)})})})]}),n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-lg overflow-hidden",children:[n.jsxs("div",{className:"px-6 py-4 bg-gradient-to-r from-emerald-50 to-emerald-100 border-b",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(yc,{className:"w-6 h-6 text-emerald-600"}),n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Quarterly Performances"})]}),n.jsxs("span",{className:"px-3 py-1 bg-emerald-100 text-emerald-800 text-sm font-medium rounded-full",children:[Y.length," pending"]})]}),n.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Review and approve quarterly performance results"})]}),n.jsx("div",{className:"p-4",children:Y.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gray-100 rounded-full mb-4",children:n.jsx(yc,{className:"w-8 h-8 text-gray-400"})}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"All caught up!"}),n.jsx("p",{className:"text-gray-600",children:"No validated performances require approval."})]}):n.jsx("div",{className:"space-y-4",children:Y.map(ce=>{const R=F[ce.plan],K={1:"bg-blue-100 text-blue-800",2:"bg-green-100 text-green-800",3:"bg-yellow-100 text-yellow-800",4:"bg-red-100 text-red-800"};return n.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-sm transition-shadow",children:[n.jsx("div",{className:"flex items-start justify-between",children:n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("h4",{className:"font-medium text-gray-900",children:R?.indicator_name}),R?.indicator_unit&&n.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded",children:R.indicator_unit}),n.jsxs("span",{className:`px-2 py-1 text-xs font-medium rounded ${K[ce.quarter]||"bg-gray-100 text-gray-800"}`,children:["Q",ce.quarter]})]}),n.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 mb-3",children:[n.jsx("span",{children:R?.department_name}),n.jsx("span",{className:"w-1 h-1 bg-gray-400 rounded-full"}),n.jsx("span",{children:R?.sector_name})]}),n.jsxs("div",{className:"flex items-center gap-6",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-500",children:"Performance Value"}),n.jsx("div",{className:"text-lg font-bold text-gray-900",children:ce.value})]}),R?.target&&n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-500",children:"Quarterly Target"}),n.jsx("div",{className:"text-lg font-medium text-gray-900",children:(()=>{const re=u.find(le=>le.plan===ce.plan);return(re?re[`q${ce.quarter}`]:null)||"N/A"})()})]})]}),ce.variance_description&&ce.variance_description.trim()&&n.jsxs("div",{className:"mt-3 text-sm text-gray-700 bg-amber-50 border border-amber-200 rounded-lg p-3 whitespace-pre-line",children:[n.jsx("div",{className:"text-xs font-semibold text-amber-700 uppercase tracking-wide mb-1",children:"Variance Explanation"}),ce.variance_description]})]})}),n.jsxs("div",{className:"flex gap-2 mt-4 pt-4 border-t",children:[n.jsx("button",{onClick:()=>C("performance",ce.id,"approve"),disabled:!ae||G?.id===ce.id,className:`flex-1 inline-flex items-center justify-center px-4 py-2 rounded-lg font-medium ${ae?"bg-emerald-600 hover:bg-emerald-700 text-white":"bg-gray-200 text-gray-500 cursor-not-allowed"}`,children:G?.id===ce.id&&G.action==="approve"?n.jsxs(n.Fragment,{children:[n.jsx(Fn,{className:"w-4 h-4 mr-2 animate-spin"}),"Processing..."]}):n.jsxs(n.Fragment,{children:[n.jsx(mr,{className:"w-4 h-4 mr-2"}),"Final Approve"]})}),n.jsx("button",{onClick:()=>C("performance",ce.id,"reject"),disabled:!ae||G?.id===ce.id,className:`flex-1 inline-flex items-center justify-center px-4 py-2 rounded-lg font-medium ${ae?"bg-red-600 hover:bg-red-700 text-white":"bg-gray-200 text-gray-500 cursor-not-allowed"}`,children:G?.id===ce.id&&G.action==="reject"?n.jsxs(n.Fragment,{children:[n.jsx(Fn,{className:"w-4 h-4 mr-2 animate-spin"}),"Processing..."]}):n.jsxs(n.Fragment,{children:[n.jsx(zi,{className:"w-4 h-4 mr-2"}),"Reject"]})})]})]},ce.id)})})})]})]}),!ae&&n.jsx("div",{className:"mt-8 p-4 bg-yellow-50 border border-yellow-200 rounded-xl",children:n.jsxs("div",{className:"flex items-center gap-2 text-yellow-800",children:[n.jsx(Jr,{className:"w-5 h-5"}),n.jsx("span",{className:"font-medium",children:"Note:"}),n.jsx("span",{children:"You need executive privileges to approve or reject items."})]})})]})})}function HA(e){var t,r,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var l=e.length;for(t=0;t<l;t++)e[t]&&(r=HA(e[t]))&&(a&&(a+=" "),a+=r)}else for(r in e)e[r]&&(a&&(a+=" "),a+=r);return a}function rt(){for(var e,t,r=0,a="",l=arguments.length;r<l;r++)(e=arguments[r])&&(t=HA(e))&&(a&&(a+=" "),a+=t);return a}var HR=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Lv(e){if(typeof e!="string")return!1;var t=HR;return t.includes(e)}var VR=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],YR=new Set(VR);function VA(e){return typeof e!="string"?!1:YR.has(e)}function YA(e){return typeof e=="string"&&e.startsWith("data-")}function pn(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(VA(r)||YA(r))&&(t[r]=e[r]);return t}function ks(e){if(e==null)return null;if(v.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return pn(t)}return typeof e=="object"&&!Array.isArray(e)?pn(e):null}function $r(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(VA(r)||YA(r)||Lv(r))&&(t[r]=e[r]);return t}function KR(e){return e==null?null:v.isValidElement(e)?$r(e.props):typeof e=="object"&&!Array.isArray(e)?$r(e):null}var GR=["children","width","height","viewBox","className","style","title","desc"];function jg(){return jg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},jg.apply(null,arguments)}function WR(e,t){if(e==null)return{};var r,a,l=QR(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function QR(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var zv=v.forwardRef((e,t)=>{var{children:r,width:a,height:l,viewBox:o,className:u,style:f,title:m,desc:h}=e,p=WR(e,GR),x=o||{width:a,height:l,x:0,y:0},b=rt("recharts-surface",u);return v.createElement("svg",jg({},$r(p),{className:b,width:a,height:l,style:f,viewBox:"".concat(x.x," ").concat(x.y," ").concat(x.width," ").concat(x.height),ref:t}),v.createElement("title",null,m),v.createElement("desc",null,h),r)}),XR=["children","className"];function wg(){return wg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},wg.apply(null,arguments)}function ZR(e,t){if(e==null)return{};var r,a,l=JR(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function JR(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var pr=v.forwardRef((e,t)=>{var{children:r,className:a}=e,l=ZR(e,XR),o=rt("recharts-layer",a);return v.createElement("g",wg({className:o},$r(l),{ref:t}),r)}),KA=v.createContext(null),e7=()=>v.useContext(KA);function yt(e){return function(){return e}}const GA=Math.cos,mf=Math.sin,Zn=Math.sqrt,hf=Math.PI,mm=2*hf,Ng=Math.PI,Sg=2*Ng,ds=1e-6,t7=Sg-ds;function WA(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function r7(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return WA;const r=10**t;return function(a){this._+=a[0];for(let l=1,o=a.length;l<o;++l)this._+=Math.round(arguments[l]*r)/r+a[l]}}class n7{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?WA:r7(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,a,l){this._append`Q${+t},${+r},${this._x1=+a},${this._y1=+l}`}bezierCurveTo(t,r,a,l,o,u){this._append`C${+t},${+r},${+a},${+l},${this._x1=+o},${this._y1=+u}`}arcTo(t,r,a,l,o){if(t=+t,r=+r,a=+a,l=+l,o=+o,o<0)throw new Error(`negative radius: ${o}`);let u=this._x1,f=this._y1,m=a-t,h=l-r,p=u-t,x=f-r,b=p*p+x*x;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(b>ds)if(!(Math.abs(x*m-h*p)>ds)||!o)this._append`L${this._x1=t},${this._y1=r}`;else{let j=a-u,w=l-f,N=m*m+h*h,S=j*j+w*w,E=Math.sqrt(N),O=Math.sqrt(b),_=o*Math.tan((Ng-Math.acos((N+b-S)/(2*E*O)))/2),T=_/O,k=_/E;Math.abs(T-1)>ds&&this._append`L${t+T*p},${r+T*x}`,this._append`A${o},${o},0,0,${+(x*j>p*w)},${this._x1=t+k*m},${this._y1=r+k*h}`}}arc(t,r,a,l,o,u){if(t=+t,r=+r,a=+a,u=!!u,a<0)throw new Error(`negative radius: ${a}`);let f=a*Math.cos(l),m=a*Math.sin(l),h=t+f,p=r+m,x=1^u,b=u?l-o:o-l;this._x1===null?this._append`M${h},${p}`:(Math.abs(this._x1-h)>ds||Math.abs(this._y1-p)>ds)&&this._append`L${h},${p}`,a&&(b<0&&(b=b%Sg+Sg),b>t7?this._append`A${a},${a},0,1,${x},${t-f},${r-m}A${a},${a},0,1,${x},${this._x1=h},${this._y1=p}`:b>ds&&this._append`A${a},${a},0,${+(b>=Ng)},${x},${this._x1=t+a*Math.cos(o)},${this._y1=r+a*Math.sin(o)}`)}rect(t,r,a,l){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${a=+a}v${+l}h${-a}Z`}toString(){return this._}}function Bv(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const a=Math.floor(r);if(!(a>=0))throw new RangeError(`invalid digits: ${r}`);t=a}return e},()=>new n7(t)}function $v(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function QA(e){this._context=e}QA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function hm(e){return new QA(e)}function XA(e){return e[0]}function ZA(e){return e[1]}function JA(e,t){var r=yt(!0),a=null,l=hm,o=null,u=Bv(f);e=typeof e=="function"?e:e===void 0?XA:yt(e),t=typeof t=="function"?t:t===void 0?ZA:yt(t);function f(m){var h,p=(m=$v(m)).length,x,b=!1,j;for(a==null&&(o=l(j=u())),h=0;h<=p;++h)!(h<p&&r(x=m[h],h,m))===b&&((b=!b)?o.lineStart():o.lineEnd()),b&&o.point(+e(x,h,m),+t(x,h,m));if(j)return o=null,j+""||null}return f.x=function(m){return arguments.length?(e=typeof m=="function"?m:yt(+m),f):e},f.y=function(m){return arguments.length?(t=typeof m=="function"?m:yt(+m),f):t},f.defined=function(m){return arguments.length?(r=typeof m=="function"?m:yt(!!m),f):r},f.curve=function(m){return arguments.length?(l=m,a!=null&&(o=l(a)),f):l},f.context=function(m){return arguments.length?(m==null?a=o=null:o=l(a=m),f):a},f}function Ld(e,t,r){var a=null,l=yt(!0),o=null,u=hm,f=null,m=Bv(h);e=typeof e=="function"?e:e===void 0?XA:yt(+e),t=typeof t=="function"?t:yt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?ZA:yt(+r);function h(x){var b,j,w,N=(x=$v(x)).length,S,E=!1,O,_=new Array(N),T=new Array(N);for(o==null&&(f=u(O=m())),b=0;b<=N;++b){if(!(b<N&&l(S=x[b],b,x))===E)if(E=!E)j=b,f.areaStart(),f.lineStart();else{for(f.lineEnd(),f.lineStart(),w=b-1;w>=j;--w)f.point(_[w],T[w]);f.lineEnd(),f.areaEnd()}E&&(_[b]=+e(S,b,x),T[b]=+t(S,b,x),f.point(a?+a(S,b,x):_[b],r?+r(S,b,x):T[b]))}if(O)return f=null,O+""||null}function p(){return JA().defined(l).curve(u).context(o)}return h.x=function(x){return arguments.length?(e=typeof x=="function"?x:yt(+x),a=null,h):e},h.x0=function(x){return arguments.length?(e=typeof x=="function"?x:yt(+x),h):e},h.x1=function(x){return arguments.length?(a=x==null?null:typeof x=="function"?x:yt(+x),h):a},h.y=function(x){return arguments.length?(t=typeof x=="function"?x:yt(+x),r=null,h):t},h.y0=function(x){return arguments.length?(t=typeof x=="function"?x:yt(+x),h):t},h.y1=function(x){return arguments.length?(r=x==null?null:typeof x=="function"?x:yt(+x),h):r},h.lineX0=h.lineY0=function(){return p().x(e).y(t)},h.lineY1=function(){return p().x(e).y(r)},h.lineX1=function(){return p().x(a).y(t)},h.defined=function(x){return arguments.length?(l=typeof x=="function"?x:yt(!!x),h):l},h.curve=function(x){return arguments.length?(u=x,o!=null&&(f=u(o)),h):u},h.context=function(x){return arguments.length?(x==null?o=f=null:f=u(o=x),h):o},h}class eE{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function a7(e){return new eE(e,!0)}function i7(e){return new eE(e,!1)}const Iv={draw(e,t){const r=Zn(t/hf);e.moveTo(r,0),e.arc(0,0,r,0,mm)}},s7={draw(e,t){const r=Zn(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},tE=Zn(1/3),l7=tE*2,o7={draw(e,t){const r=Zn(t/l7),a=r*tE;e.moveTo(0,-r),e.lineTo(a,0),e.lineTo(0,r),e.lineTo(-a,0),e.closePath()}},c7={draw(e,t){const r=Zn(t),a=-r/2;e.rect(a,a,r,r)}},u7=.8908130915292852,rE=mf(hf/10)/mf(7*hf/10),d7=mf(mm/10)*rE,f7=-GA(mm/10)*rE,m7={draw(e,t){const r=Zn(t*u7),a=d7*r,l=f7*r;e.moveTo(0,-r),e.lineTo(a,l);for(let o=1;o<5;++o){const u=mm*o/5,f=GA(u),m=mf(u);e.lineTo(m*r,-f*r),e.lineTo(f*a-m*l,m*a+f*l)}e.closePath()}},Cp=Zn(3),h7={draw(e,t){const r=-Zn(t/(Cp*3));e.moveTo(0,r*2),e.lineTo(-Cp*r,-r),e.lineTo(Cp*r,-r),e.closePath()}},_n=-.5,On=Zn(3)/2,Ag=1/Zn(12),p7=(Ag/2+1)*3,x7={draw(e,t){const r=Zn(t/p7),a=r/2,l=r*Ag,o=a,u=r*Ag+r,f=-o,m=u;e.moveTo(a,l),e.lineTo(o,u),e.lineTo(f,m),e.lineTo(_n*a-On*l,On*a+_n*l),e.lineTo(_n*o-On*u,On*o+_n*u),e.lineTo(_n*f-On*m,On*f+_n*m),e.lineTo(_n*a+On*l,_n*l-On*a),e.lineTo(_n*o+On*u,_n*u-On*o),e.lineTo(_n*f+On*m,_n*m-On*f),e.closePath()}};function g7(e,t){let r=null,a=Bv(l);e=typeof e=="function"?e:yt(e||Iv),t=typeof t=="function"?t:yt(t===void 0?64:+t);function l(){let o;if(r||(r=o=a()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),o)return r=null,o+""||null}return l.type=function(o){return arguments.length?(e=typeof o=="function"?o:yt(o),l):e},l.size=function(o){return arguments.length?(t=typeof o=="function"?o:yt(+o),l):t},l.context=function(o){return arguments.length?(r=o??null,l):r},l}function pf(){}function xf(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function nE(e){this._context=e}nE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:xf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:xf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function v7(e){return new nE(e)}function aE(e){this._context=e}aE.prototype={areaStart:pf,areaEnd:pf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:xf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function y7(e){return new aE(e)}function iE(e){this._context=e}iE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,a=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,a):this._context.moveTo(r,a);break;case 3:this._point=4;default:xf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function b7(e){return new iE(e)}function sE(e){this._context=e}sE.prototype={areaStart:pf,areaEnd:pf,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function j7(e){return new sE(e)}function SN(e){return e<0?-1:1}function AN(e,t,r){var a=e._x1-e._x0,l=t-e._x1,o=(e._y1-e._y0)/(a||l<0&&-0),u=(r-e._y1)/(l||a<0&&-0),f=(o*l+u*a)/(a+l);return(SN(o)+SN(u))*Math.min(Math.abs(o),Math.abs(u),.5*Math.abs(f))||0}function EN(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function kp(e,t,r){var a=e._x0,l=e._y0,o=e._x1,u=e._y1,f=(o-a)/3;e._context.bezierCurveTo(a+f,l+f*t,o-f,u-f*r,o,u)}function gf(e){this._context=e}gf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:kp(this,this._t0,EN(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,kp(this,EN(this,r=AN(this,e,t)),r);break;default:kp(this,this._t0,r=AN(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function lE(e){this._context=new oE(e)}(lE.prototype=Object.create(gf.prototype)).point=function(e,t){gf.prototype.point.call(this,t,e)};function oE(e){this._context=e}oE.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,a,l,o){this._context.bezierCurveTo(t,e,a,r,o,l)}};function w7(e){return new gf(e)}function N7(e){return new lE(e)}function cE(e){this._context=e}cE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var a=_N(e),l=_N(t),o=0,u=1;u<r;++o,++u)this._context.bezierCurveTo(a[0][o],l[0][o],a[1][o],l[1][o],e[u],t[u]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function _N(e){var t,r=e.length-1,a,l=new Array(r),o=new Array(r),u=new Array(r);for(l[0]=0,o[0]=2,u[0]=e[0]+2*e[1],t=1;t<r-1;++t)l[t]=1,o[t]=4,u[t]=4*e[t]+2*e[t+1];for(l[r-1]=2,o[r-1]=7,u[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)a=l[t]/o[t-1],o[t]-=a,u[t]-=a*u[t-1];for(l[r-1]=u[r-1]/o[r-1],t=r-2;t>=0;--t)l[t]=(u[t]-l[t+1])/o[t];for(o[r-1]=(e[r]+l[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-l[t+1];return[l,o]}function S7(e){return new cE(e)}function pm(e,t){this._context=e,this._t=t}pm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function A7(e){return new pm(e,.5)}function E7(e){return new pm(e,0)}function _7(e){return new pm(e,1)}function $l(e,t){if((u=e.length)>1)for(var r=1,a,l,o=e[t[0]],u,f=o.length;r<u;++r)for(l=o,o=e[t[r]],a=0;a<f;++a)o[a][1]+=o[a][0]=isNaN(l[a][1])?l[a][0]:l[a][1]}function Eg(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function O7(e,t){return e[t]}function C7(e){const t=[];return t.key=e,t}function k7(){var e=yt([]),t=Eg,r=$l,a=O7;function l(o){var u=Array.from(e.apply(this,arguments),C7),f,m=u.length,h=-1,p;for(const x of o)for(f=0,++h;f<m;++f)(u[f][h]=[0,+a(x,u[f].key,h,o)]).data=x;for(f=0,p=$v(t(u));f<m;++f)u[p[f]].index=f;return r(u,p),u}return l.keys=function(o){return arguments.length?(e=typeof o=="function"?o:yt(Array.from(o)),l):e},l.value=function(o){return arguments.length?(a=typeof o=="function"?o:yt(+o),l):a},l.order=function(o){return arguments.length?(t=o==null?Eg:typeof o=="function"?o:yt(Array.from(o)),l):t},l.offset=function(o){return arguments.length?(r=o??$l,l):r},l}function T7(e,t){if((a=e.length)>0){for(var r,a,l=0,o=e[0].length,u;l<o;++l){for(u=r=0;r<a;++r)u+=e[r][l][1]||0;if(u)for(r=0;r<a;++r)e[r][l][1]/=u}$l(e,t)}}function M7(e,t){if((l=e.length)>0){for(var r=0,a=e[t[0]],l,o=a.length;r<o;++r){for(var u=0,f=0;u<l;++u)f+=e[u][r][1]||0;a[r][1]+=a[r][0]=-f/2}$l(e,t)}}function P7(e,t){if(!(!((u=e.length)>0)||!((o=(l=e[t[0]]).length)>0))){for(var r=0,a=1,l,o,u;a<o;++a){for(var f=0,m=0,h=0;f<u;++f){for(var p=e[t[f]],x=p[a][1]||0,b=p[a-1][1]||0,j=(x-b)/2,w=0;w<f;++w){var N=e[t[w]],S=N[a][1]||0,E=N[a-1][1]||0;j+=S-E}m+=x,h+=j*x}l[a-1][1]+=l[a-1][0]=r,m&&(r-=h/m)}l[a-1][1]+=l[a-1][0]=r,$l(e,t)}}var Tp={},Mp={},ON;function D7(){return ON||(ON=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(Mp)),Mp}var Pp={},CN;function uE(){return CN||(CN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(Pp)),Pp}var Dp={},kN;function Uv(){return kN||(kN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="string"||typeof r=="symbol"?r:Object.is(r?.valueOf?.(),-0)?"-0":String(r)}e.toKey=t})(Dp)),Dp}var Rp={},Lp={},TN;function R7(){return TN||(TN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const a=String(r);return a==="0"&&Object.is(Number(r),-0)?"-0":a}e.toString=t})(Lp)),Lp}var MN;function qv(){return MN||(MN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=R7(),r=Uv();function a(l){if(Array.isArray(l))return l.map(r.toKey);if(typeof l=="symbol")return[l];l=t.toString(l);const o=[],u=l.length;if(u===0)return o;let f=0,m="",h="",p=!1;for(l.charCodeAt(0)===46&&(o.push(""),f++);f<u;){const x=l[f];h?x==="\\"&&f+1<u?(f++,m+=l[f]):x===h?h="":m+=x:p?x==='"'||x==="'"?h=x:x==="]"?(p=!1,o.push(m),m=""):m+=x:x==="["?(p=!0,m&&(o.push(m),m="")):x==="."?m&&(o.push(m),m=""):m+=x,f++}return m&&o.push(m),o}e.toPath=a})(Rp)),Rp}var PN;function Fv(){return PN||(PN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=D7(),r=uE(),a=Uv(),l=qv();function o(f,m,h){if(f==null)return h;switch(typeof m){case"string":{if(t.isUnsafeProperty(m))return h;const p=f[m];return p===void 0?r.isDeepKey(m)?o(f,l.toPath(m),h):h:p}case"number":case"symbol":{typeof m=="number"&&(m=a.toKey(m));const p=f[m];return p===void 0?h:p}default:{if(Array.isArray(m))return u(f,m,h);if(Object.is(m?.valueOf(),-0)?m="-0":m=String(m),t.isUnsafeProperty(m))return h;const p=f[m];return p===void 0?h:p}}}function u(f,m,h){if(m.length===0)return h;let p=f;for(let x=0;x<m.length;x++){if(p==null||t.isUnsafeProperty(m[x]))return h;p=p[m[x]]}return p===void 0?h:p}e.get=o})(Tp)),Tp}var zp,DN;function L7(){return DN||(DN=1,zp=Fv().get),zp}var z7=L7();const Ts=Qa(z7);var hr=e=>e===0?0:e>0?1:-1,Gn=e=>typeof e=="number"&&e!=+e,Fa=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,De=e=>(typeof e=="number"||e instanceof Number)&&!Gn(e),ca=e=>De(e)||typeof e=="string",B7=0,Sc=e=>{var t=++B7;return"".concat(e||"").concat(t)},kr=function(t,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!De(t)&&typeof t!="string")return a;var o;if(Fa(t)){if(r==null)return a;var u=t.indexOf("%");o=r*parseFloat(t.slice(0,u))/100}else o=+t;return Gn(o)&&(o=a),l&&r!=null&&o>r&&(o=r),o},dE=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},a=0;a<t;a++)if(!r[e[a]])r[e[a]]=!0;else return!0;return!1};function _t(e,t,r){return De(e)&&De(t)?e+r*(t-e):t}function fE(e,t,r){if(!(!e||!e.length))return e.find(a=>a&&(typeof t=="function"?t(a):Ts(a,t))===r)}var kt=e=>e===null||typeof e>"u",Kc=e=>kt(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function $7(e){return e!=null}function Gc(){}var I7=["type","size","sizeType"];function _g(){return _g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},_g.apply(null,arguments)}function RN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,a)}return r}function LN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RN(Object(r),!0).forEach(function(a){U7(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RN(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function U7(e,t,r){return(t=q7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function q7(e){var t=F7(e,"string");return typeof t=="symbol"?t:t+""}function F7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function H7(e,t){if(e==null)return{};var r,a,l=V7(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function V7(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var mE={symbolCircle:Iv,symbolCross:s7,symbolDiamond:o7,symbolSquare:c7,symbolStar:m7,symbolTriangle:h7,symbolWye:x7},Y7=Math.PI/180,K7=e=>{var t="symbol".concat(Kc(e));return mE[t]||Iv},G7=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*Y7;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.tan(a)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},W7=(e,t)=>{mE["symbol".concat(Kc(e))]=t},Hv=e=>{var{type:t="circle",size:r=64,sizeType:a="area"}=e,l=H7(e,I7),o=LN(LN({},l),{},{type:t,size:r,sizeType:a}),u="circle";typeof t=="string"&&(u=t);var f=()=>{var b=K7(u),j=g7().type(b).size(G7(r,a,u)),w=j();if(w!==null)return w},{className:m,cx:h,cy:p}=o,x=$r(o);return De(h)&&De(p)&&De(r)?v.createElement("path",_g({},x,{className:rt("recharts-symbols",m),transform:"translate(".concat(h,", ").concat(p,")"),d:f()})):null};Hv.registerSymbol=W7;var hE=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,Vv=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(v.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var a={};return Object.keys(r).forEach(l=>{Lv(l)&&(a[l]=(o=>r[l](r,o)))}),a},Q7=(e,t,r)=>a=>(e(t,r,a),null),Wc=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var a=null;return Object.keys(e).forEach(l=>{var o=e[l];Lv(l)&&typeof o=="function"&&(a||(a={}),a[l]=Q7(o,t,r))}),a};function zN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,a)}return r}function X7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zN(Object(r),!0).forEach(function(a){Z7(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zN(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Z7(e,t,r){return(t=J7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function J7(e){var t=eL(e,"string");return typeof t=="symbol"?t:t+""}function eL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function er(e,t){var r=X7({},e),a=t,l=Object.keys(t),o=l.reduce((u,f)=>(u[f]===void 0&&a[f]!==void 0&&(u[f]=a[f]),u),r);return o}function vf(){return vf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},vf.apply(null,arguments)}function BN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,a)}return r}function tL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BN(Object(r),!0).forEach(function(a){rL(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BN(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function rL(e,t,r){return(t=nL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nL(e){var t=aL(e,"string");return typeof t=="symbol"?t:t+""}function aL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Tn=32,iL={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function sL(e){var{data:t,iconType:r,inactiveColor:a}=e,l=Tn/2,o=Tn/6,u=Tn/3,f=t.inactive?a:t.color,m=r??t.type;if(m==="none")return null;if(m==="plainline"){var h;return v.createElement("line",{strokeWidth:4,fill:"none",stroke:f,strokeDasharray:(h=t.payload)===null||h===void 0?void 0:h.strokeDasharray,x1:0,y1:l,x2:Tn,y2:l,className:"recharts-legend-icon"})}if(m==="line")return v.createElement("path",{strokeWidth:4,fill:"none",stroke:f,d:"M0,".concat(l,"h").concat(u,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*u,",").concat(l,`
            H`).concat(Tn,"M").concat(2*u,",").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(u,",").concat(l),className:"recharts-legend-icon"});if(m==="rect")return v.createElement("path",{stroke:"none",fill:f,d:"M0,".concat(Tn/8,"h").concat(Tn,"v").concat(Tn*3/4,"h").concat(-Tn,"z"),className:"recharts-legend-icon"});if(v.isValidElement(t.legendIcon)){var p=tL({},t);return delete p.legendIcon,v.cloneElement(t.legendIcon,p)}return v.createElement(Hv,{fill:f,cx:l,cy:l,size:Tn,sizeType:"diameter",type:m})}function lL(e){var{payload:t,iconSize:r,layout:a,formatter:l,inactiveColor:o,iconType:u}=e,f={x:0,y:0,width:Tn,height:Tn},m={display:a==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((p,x)=>{var b=p.formatter||l,j=rt({"recharts-legend-item":!0,["legend-item-".concat(x)]:!0,inactive:p.inactive});if(p.type==="none")return null;var w=p.inactive?o:p.color,N=b?b(p.value,p,x):p.value;return v.createElement("li",vf({className:j,style:m,key:"legend-item-".concat(x)},Wc(e,p,x)),v.createElement(zv,{width:r,height:r,viewBox:f,style:h,"aria-label":"".concat(N," legend icon")},v.createElement(sL,{data:p,iconType:u,inactiveColor:o})),v.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},N))})}var oL=e=>{var t=er(e,iL),{payload:r,layout:a,align:l}=t;if(!r||!r.length)return null;var o={padding:0,margin:0,textAlign:a==="horizontal"?l:"left"};return v.createElement("ul",{className:"recharts-default-legend",style:o},v.createElement(lL,vf({},t,{payload:r})))},Bp={},$p={},$N;function cL(){return $N||($N=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,a){const l=new Map;for(let o=0;o<r.length;o++){const u=r[o],f=a(u);l.has(f)||l.set(f,u)}return Array.from(l.values())}e.uniqBy=t})($p)),$p}var Ip={},IN;function pE(){return IN||(IN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(Ip)),Ip}var Up={},qp={},Fp={},UN;function uL(){return UN||(UN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(Fp)),Fp}var qN;function Yv(){return qN||(qN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uL();function r(a){return a!=null&&typeof a!="function"&&t.isLength(a.length)}e.isArrayLike=r})(qp)),qp}var Hp={},FN;function dL(){return FN||(FN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(Hp)),Hp}var HN;function fL(){return HN||(HN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Yv(),r=dL();function a(l){return r.isObjectLike(l)&&t.isArrayLike(l)}e.isArrayLikeObject=a})(Up)),Up}var Vp={},Yp={},VN;function mL(){return VN||(VN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Fv();function r(a){return function(l){return t.get(l,a)}}e.property=r})(Yp)),Yp}var Kp={},Gp={},Wp={},Qp={},YN;function xE(){return YN||(YN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(Qp)),Qp}var Xp={},KN;function gE(){return KN||(KN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(Xp)),Xp}var Zp={},GN;function vE(){return GN||(GN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,a){return r===a||Number.isNaN(r)&&Number.isNaN(a)}e.eq=t})(Zp)),Zp}var WN;function hL(){return WN||(WN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xE(),r=gE(),a=vE();function l(p,x,b){return typeof b!="function"?l(p,x,()=>{}):o(p,x,function j(w,N,S,E,O,_){const T=b(w,N,S,E,O,_);return T!==void 0?!!T:o(w,N,j,_)},new Map)}function o(p,x,b,j){if(x===p)return!0;switch(typeof x){case"object":return u(p,x,b,j);case"function":return Object.keys(x).length>0?o(p,{...x},b,j):a.eq(p,x);default:return t.isObject(p)?typeof x=="string"?x==="":!0:a.eq(p,x)}}function u(p,x,b,j){if(x==null)return!0;if(Array.isArray(x))return m(p,x,b,j);if(x instanceof Map)return f(p,x,b,j);if(x instanceof Set)return h(p,x,b,j);const w=Object.keys(x);if(p==null)return w.length===0;if(w.length===0)return!0;if(j?.has(x))return j.get(x)===p;j?.set(x,p);try{for(let N=0;N<w.length;N++){const S=w[N];if(!r.isPrimitive(p)&&!(S in p)||x[S]===void 0&&p[S]!==void 0||x[S]===null&&p[S]!==null||!b(p[S],x[S],S,p,x,j))return!1}return!0}finally{j?.delete(x)}}function f(p,x,b,j){if(x.size===0)return!0;if(!(p instanceof Map))return!1;for(const[w,N]of x.entries()){const S=p.get(w);if(b(S,N,w,p,x,j)===!1)return!1}return!0}function m(p,x,b,j){if(x.length===0)return!0;if(!Array.isArray(p))return!1;const w=new Set;for(let N=0;N<x.length;N++){const S=x[N];let E=!1;for(let O=0;O<p.length;O++){if(w.has(O))continue;const _=p[O];let T=!1;if(b(_,S,N,p,x,j)&&(T=!0),T){w.add(O),E=!0;break}}if(!E)return!1}return!0}function h(p,x,b,j){return x.size===0?!0:p instanceof Set?m([...p],[...x],b,j):!1}e.isMatchWith=l,e.isSetMatch=h})(Wp)),Wp}var QN;function yE(){return QN||(QN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hL();function r(a,l){return t.isMatchWith(a,l,()=>{})}e.isMatch=r})(Gp)),Gp}var Jp={},ex={},tx={},XN;function pL(){return XN||(XN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(a=>Object.prototype.propertyIsEnumerable.call(r,a))}e.getSymbols=t})(tx)),tx}var rx={},ZN;function bE(){return ZN||(ZN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(rx)),rx}var nx={},JN;function jE(){return JN||(JN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",a="[object Number]",l="[object Boolean]",o="[object Arguments]",u="[object Symbol]",f="[object Date]",m="[object Map]",h="[object Set]",p="[object Array]",x="[object Function]",b="[object ArrayBuffer]",j="[object Object]",w="[object Error]",N="[object DataView]",S="[object Uint8Array]",E="[object Uint8ClampedArray]",O="[object Uint16Array]",_="[object Uint32Array]",T="[object BigUint64Array]",k="[object Int8Array]",L="[object Int16Array]",$="[object Int32Array]",G="[object BigInt64Array]",J="[object Float32Array]",ue="[object Float64Array]";e.argumentsTag=o,e.arrayBufferTag=b,e.arrayTag=p,e.bigInt64ArrayTag=G,e.bigUint64ArrayTag=T,e.booleanTag=l,e.dataViewTag=N,e.dateTag=f,e.errorTag=w,e.float32ArrayTag=J,e.float64ArrayTag=ue,e.functionTag=x,e.int16ArrayTag=L,e.int32ArrayTag=$,e.int8ArrayTag=k,e.mapTag=m,e.numberTag=a,e.objectTag=j,e.regexpTag=t,e.setTag=h,e.stringTag=r,e.symbolTag=u,e.uint16ArrayTag=O,e.uint32ArrayTag=_,e.uint8ArrayTag=S,e.uint8ClampedArrayTag=E})(nx)),nx}var ax={},eS;function xL(){return eS||(eS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(ax)),ax}var tS;function wE(){return tS||(tS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pL(),r=bE(),a=jE(),l=gE(),o=xL();function u(p,x){return f(p,void 0,p,new Map,x)}function f(p,x,b,j=new Map,w=void 0){const N=w?.(p,x,b,j);if(N!==void 0)return N;if(l.isPrimitive(p))return p;if(j.has(p))return j.get(p);if(Array.isArray(p)){const S=new Array(p.length);j.set(p,S);for(let E=0;E<p.length;E++)S[E]=f(p[E],E,b,j,w);return Object.hasOwn(p,"index")&&(S.index=p.index),Object.hasOwn(p,"input")&&(S.input=p.input),S}if(p instanceof Date)return new Date(p.getTime());if(p instanceof RegExp){const S=new RegExp(p.source,p.flags);return S.lastIndex=p.lastIndex,S}if(p instanceof Map){const S=new Map;j.set(p,S);for(const[E,O]of p)S.set(E,f(O,E,b,j,w));return S}if(p instanceof Set){const S=new Set;j.set(p,S);for(const E of p)S.add(f(E,void 0,b,j,w));return S}if(typeof Buffer<"u"&&Buffer.isBuffer(p))return p.subarray();if(o.isTypedArray(p)){const S=new(Object.getPrototypeOf(p)).constructor(p.length);j.set(p,S);for(let E=0;E<p.length;E++)S[E]=f(p[E],E,b,j,w);return S}if(p instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&p instanceof SharedArrayBuffer)return p.slice(0);if(p instanceof DataView){const S=new DataView(p.buffer.slice(0),p.byteOffset,p.byteLength);return j.set(p,S),m(S,p,b,j,w),S}if(typeof File<"u"&&p instanceof File){const S=new File([p],p.name,{type:p.type});return j.set(p,S),m(S,p,b,j,w),S}if(typeof Blob<"u"&&p instanceof Blob){const S=new Blob([p],{type:p.type});return j.set(p,S),m(S,p,b,j,w),S}if(p instanceof Error){const S=new p.constructor;return j.set(p,S),S.message=p.message,S.name=p.name,S.stack=p.stack,S.cause=p.cause,m(S,p,b,j,w),S}if(p instanceof Boolean){const S=new Boolean(p.valueOf());return j.set(p,S),m(S,p,b,j,w),S}if(p instanceof Number){const S=new Number(p.valueOf());return j.set(p,S),m(S,p,b,j,w),S}if(p instanceof String){const S=new String(p.valueOf());return j.set(p,S),m(S,p,b,j,w),S}if(typeof p=="object"&&h(p)){const S=Object.create(Object.getPrototypeOf(p));return j.set(p,S),m(S,p,b,j,w),S}return p}function m(p,x,b=p,j,w){const N=[...Object.keys(x),...t.getSymbols(x)];for(let S=0;S<N.length;S++){const E=N[S],O=Object.getOwnPropertyDescriptor(p,E);(O==null||O.writable)&&(p[E]=f(x[E],E,b,j,w))}}function h(p){switch(r.getTag(p)){case a.argumentsTag:case a.arrayTag:case a.arrayBufferTag:case a.dataViewTag:case a.booleanTag:case a.dateTag:case a.float32ArrayTag:case a.float64ArrayTag:case a.int8ArrayTag:case a.int16ArrayTag:case a.int32ArrayTag:case a.mapTag:case a.numberTag:case a.objectTag:case a.regexpTag:case a.setTag:case a.stringTag:case a.symbolTag:case a.uint8ArrayTag:case a.uint8ClampedArrayTag:case a.uint16ArrayTag:case a.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=u,e.cloneDeepWithImpl=f,e.copyProperties=m})(ex)),ex}var rS;function gL(){return rS||(rS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wE();function r(a){return t.cloneDeepWithImpl(a,void 0,a,new Map,void 0)}e.cloneDeep=r})(Jp)),Jp}var nS;function vL(){return nS||(nS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yE(),r=gL();function a(l){return l=r.cloneDeep(l),o=>t.isMatch(o,l)}e.matches=a})(Kp)),Kp}var ix={},sx={},lx={},aS;function yL(){return aS||(aS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wE(),r=jE();function a(l,o){return t.cloneDeepWith(l,(u,f,m,h)=>{const p=o?.(u,f,m,h);if(p!==void 0)return p;if(typeof l=="object")switch(Object.prototype.toString.call(l)){case r.numberTag:case r.stringTag:case r.booleanTag:{const x=new l.constructor(l?.valueOf());return t.copyProperties(x,l),x}case r.argumentsTag:{const x={};return t.copyProperties(x,l),x.length=l.length,x[Symbol.iterator]=l[Symbol.iterator],x}default:return}})}e.cloneDeepWith=a})(lx)),lx}var iS;function bL(){return iS||(iS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yL();function r(a){return t.cloneDeepWith(a)}e.cloneDeep=r})(sx)),sx}var ox={},cx={},sS;function NE(){return sS||(sS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(a,l=Number.MAX_SAFE_INTEGER){switch(typeof a){case"number":return Number.isInteger(a)&&a>=0&&a<l;case"symbol":return!1;case"string":return t.test(a)}}e.isIndex=r})(cx)),cx}var ux={},lS;function jL(){return lS||(lS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bE();function r(a){return a!==null&&typeof a=="object"&&t.getTag(a)==="[object Arguments]"}e.isArguments=r})(ux)),ux}var oS;function wL(){return oS||(oS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uE(),r=NE(),a=jL(),l=qv();function o(u,f){let m;if(Array.isArray(f)?m=f:typeof f=="string"&&t.isDeepKey(f)&&u?.[f]==null?m=l.toPath(f):m=[f],m.length===0)return!1;let h=u;for(let p=0;p<m.length;p++){const x=m[p];if((h==null||!Object.hasOwn(h,x))&&!((Array.isArray(h)||a.isArguments(h))&&r.isIndex(x)&&x<h.length))return!1;h=h[x]}return!0}e.has=o})(ox)),ox}var cS;function NL(){return cS||(cS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yE(),r=Uv(),a=bL(),l=Fv(),o=wL();function u(f,m){switch(typeof f){case"object":{Object.is(f?.valueOf(),-0)&&(f="-0");break}case"number":{f=r.toKey(f);break}}return m=a.cloneDeep(m),function(h){const p=l.get(h,f);return p===void 0?o.has(h,f):m===void 0?p===void 0:t.isMatch(p,m)}}e.matchesProperty=u})(ix)),ix}var uS;function SL(){return uS||(uS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pE(),r=mL(),a=vL(),l=NL();function o(u){if(u==null)return t.identity;switch(typeof u){case"function":return u;case"object":return Array.isArray(u)&&u.length===2?l.matchesProperty(u[0],u[1]):a.matches(u);case"string":case"symbol":case"number":return r.property(u)}}e.iteratee=o})(Vp)),Vp}var dS;function AL(){return dS||(dS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cL(),r=pE(),a=fL(),l=SL();function o(u,f=r.identity){return a.isArrayLikeObject(u)?t.uniqBy(Array.from(u),l.iteratee(f)):[]}e.uniqBy=o})(Bp)),Bp}var dx,fS;function EL(){return fS||(fS=1,dx=AL().uniqBy),dx}var _L=EL();const mS=Qa(_L);function SE(e,t,r){return t===!0?mS(e,r):typeof t=="function"?mS(e,t):e}var fx={exports:{}},mx={},hx={exports:{}},px={};var hS;function OL(){if(hS)return px;hS=1;var e=Gl();function t(x,b){return x===b&&(x!==0||1/x===1/b)||x!==x&&b!==b}var r=typeof Object.is=="function"?Object.is:t,a=e.useState,l=e.useEffect,o=e.useLayoutEffect,u=e.useDebugValue;function f(x,b){var j=b(),w=a({inst:{value:j,getSnapshot:b}}),N=w[0].inst,S=w[1];return o(function(){N.value=j,N.getSnapshot=b,m(N)&&S({inst:N})},[x,j,b]),l(function(){return m(N)&&S({inst:N}),x(function(){m(N)&&S({inst:N})})},[x]),u(j),j}function m(x){var b=x.getSnapshot;x=x.value;try{var j=b();return!r(x,j)}catch{return!0}}function h(x,b){return b()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:f;return px.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:p,px}var pS;function CL(){return pS||(pS=1,hx.exports=OL()),hx.exports}var xS;function kL(){if(xS)return mx;xS=1;var e=Gl(),t=CL();function r(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var a=typeof Object.is=="function"?Object.is:r,l=t.useSyncExternalStore,o=e.useRef,u=e.useEffect,f=e.useMemo,m=e.useDebugValue;return mx.useSyncExternalStoreWithSelector=function(h,p,x,b,j){var w=o(null);if(w.current===null){var N={hasValue:!1,value:null};w.current=N}else N=w.current;w=f(function(){function E(L){if(!O){if(O=!0,_=L,L=b(L),j!==void 0&&N.hasValue){var $=N.value;if(j($,L))return T=$}return T=L}if($=T,a(_,L))return $;var G=b(L);return j!==void 0&&j($,G)?(_=L,$):(_=L,T=G)}var O=!1,_,T,k=x===void 0?null:x;return[function(){return E(p())},k===null?void 0:function(){return E(k())}]},[p,x,b,j]);var S=l(h,w[0],w[1]);return u(function(){N.hasValue=!0,N.value=S},[S]),m(S),S},mx}var gS;function TL(){return gS||(gS=1,fx.exports=kL()),fx.exports}var ML=TL(),Kv=v.createContext(null),PL=e=>e,bt=()=>{var e=v.useContext(Kv);return e?e.store.dispatch:PL},af=()=>{},DL=()=>af,RL=(e,t)=>e===t;function Te(e){var t=v.useContext(Kv);return ML.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:DL,t?t.store.getState:af,t?t.store.getState:af,t?e:af,RL)}function LL(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function zL(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function BL(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(a=>typeof a=="function"?`function ${a.name||"unnamed"}()`:typeof a).join(", ");throw new TypeError(`${t}[${r}]`)}}var vS=e=>Array.isArray(e)?e:[e];function $L(e){const t=Array.isArray(e[0])?e[0]:e;return BL(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function IL(e,t){const r=[],{length:a}=e;for(let l=0;l<a;l++)r.push(e[l].apply(null,t));return r}var UL=class{constructor(e){this.value=e}deref(){return this.value}},qL=typeof WeakRef<"u"?WeakRef:UL,FL=0,yS=1;function zd(){return{s:FL,v:void 0,o:null,p:null}}function AE(e,t={}){let r=zd();const{resultEqualityCheck:a}=t;let l,o=0;function u(){let f=r;const{length:m}=arguments;for(let x=0,b=m;x<b;x++){const j=arguments[x];if(typeof j=="function"||typeof j=="object"&&j!==null){let w=f.o;w===null&&(f.o=w=new WeakMap);const N=w.get(j);N===void 0?(f=zd(),w.set(j,f)):f=N}else{let w=f.p;w===null&&(f.p=w=new Map);const N=w.get(j);N===void 0?(f=zd(),w.set(j,f)):f=N}}const h=f;let p;if(f.s===yS)p=f.v;else if(p=e.apply(null,arguments),o++,a){const x=l?.deref?.()??l;x!=null&&a(x,p)&&(p=x,o!==0&&o--),l=typeof p=="object"&&p!==null||typeof p=="function"?new qL(p):p}return h.s=yS,h.v=p,p}return u.clearCache=()=>{r=zd(),u.resetResultsCount()},u.resultsCount=()=>o,u.resetResultsCount=()=>{o=0},u}function HL(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,a=(...l)=>{let o=0,u=0,f,m={},h=l.pop();typeof h=="object"&&(m=h,h=l.pop()),LL(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const p={...r,...m},{memoize:x,memoizeOptions:b=[],argsMemoize:j=AE,argsMemoizeOptions:w=[]}=p,N=vS(b),S=vS(w),E=$L(l),O=x(function(){return o++,h.apply(null,arguments)},...N),_=j(function(){u++;const k=IL(E,arguments);return f=O.apply(null,k),f},...S);return Object.assign(_,{resultFunc:h,memoizedResultFunc:O,dependencies:E,dependencyRecomputations:()=>u,resetDependencyRecomputations:()=>{u=0},lastResult:()=>f,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:x,argsMemoize:j})};return Object.assign(a,{withTypes:()=>a}),a}var oe=HL(AE),VL=Object.assign((e,t=oe)=>{zL(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),a=r.map(o=>e[o]);return t(a,(...o)=>o.reduce((u,f,m)=>(u[r[m]]=f,u),{}))},{withTypes:()=>VL}),xx={},gx={},vx={},bS;function YL(){return bS||(bS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return typeof a=="symbol"?1:a===null?2:a===void 0?3:a!==a?4:0}const r=(a,l,o)=>{if(a!==l){const u=t(a),f=t(l);if(u===f&&u===0){if(a<l)return o==="desc"?1:-1;if(a>l)return o==="desc"?-1:1}return o==="desc"?f-u:u-f}return 0};e.compareValues=r})(vx)),vx}var yx={},bx={},jS;function EE(){return jS||(jS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(bx)),bx}var wS;function KL(){return wS||(wS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=EE(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;function l(o,u){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||t.isSymbol(o)?!0:typeof o=="string"&&(a.test(o)||!r.test(o))||u!=null&&Object.hasOwn(u,o)}e.isKey=l})(yx)),yx}var NS;function GL(){return NS||(NS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=YL(),r=KL(),a=qv();function l(o,u,f,m){if(o==null)return[];f=m?void 0:f,Array.isArray(o)||(o=Object.values(o)),Array.isArray(u)||(u=u==null?[null]:[u]),u.length===0&&(u=[null]),Array.isArray(f)||(f=f==null?[]:[f]),f=f.map(j=>String(j));const h=(j,w)=>{let N=j;for(let S=0;S<w.length&&N!=null;++S)N=N[w[S]];return N},p=(j,w)=>w==null||j==null?w:typeof j=="object"&&"key"in j?Object.hasOwn(w,j.key)?w[j.key]:h(w,j.path):typeof j=="function"?j(w):Array.isArray(j)?h(w,j):typeof w=="object"?w[j]:w,x=u.map(j=>(Array.isArray(j)&&j.length===1&&(j=j[0]),j==null||typeof j=="function"||Array.isArray(j)||r.isKey(j)?j:{key:j,path:a.toPath(j)}));return o.map(j=>({original:j,criteria:x.map(w=>p(w,j))})).slice().sort((j,w)=>{for(let N=0;N<x.length;N++){const S=t.compareValues(j.criteria[N],w.criteria[N],f[N]);if(S!==0)return S}return 0}).map(j=>j.original)}e.orderBy=l})(gx)),gx}var jx={},SS;function WL(){return SS||(SS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,a=1){const l=[],o=Math.floor(a),u=(f,m)=>{for(let h=0;h<f.length;h++){const p=f[h];Array.isArray(p)&&m<o?u(p,m+1):l.push(p)}};return u(r,0),l}e.flatten=t})(jx)),jx}var wx={},AS;function _E(){return AS||(AS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=NE(),r=Yv(),a=xE(),l=vE();function o(u,f,m){return a.isObject(m)&&(typeof f=="number"&&r.isArrayLike(m)&&t.isIndex(f)&&f<m.length||typeof f=="string"&&f in m)?l.eq(m[f],u):!1}e.isIterateeCall=o})(wx)),wx}var ES;function QL(){return ES||(ES=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=GL(),r=WL(),a=_E();function l(o,...u){const f=u.length;return f>1&&a.isIterateeCall(o,u[0],u[1])?u=[]:f>2&&a.isIterateeCall(u[0],u[1],u[2])&&(u=[u[0]]),t.orderBy(o,r.flatten(u),["asc"])}e.sortBy=l})(xx)),xx}var Nx,_S;function XL(){return _S||(_S=1,Nx=QL().sortBy),Nx}var ZL=XL();const xm=Qa(ZL);var OE=e=>e.legend.settings,JL=e=>e.legend.size,e9=e=>e.legend.payload,t9=oe([e9,OE],(e,t)=>{var{itemSorter:r}=t,a=e.flat(1);return r?xm(a,r):a});function r9(){return Te(t9)}var Bd=1;function CE(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=v.useState({height:0,left:0,top:0,width:0}),a=v.useCallback(l=>{if(l!=null){var o=l.getBoundingClientRect(),u={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(u.height-t.height)>Bd||Math.abs(u.left-t.left)>Bd||Math.abs(u.top-t.top)>Bd||Math.abs(u.width-t.width)>Bd)&&r({height:u.height,left:u.left,top:u.top,width:u.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,a]}function Nr(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var n9=typeof Symbol=="function"&&Symbol.observable||"@@observable",OS=n9,Sx=()=>Math.random().toString(36).substring(7).split("").join("."),a9={INIT:`@@redux/INIT${Sx()}`,REPLACE:`@@redux/REPLACE${Sx()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Sx()}`},yf=a9;function Gv(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function kE(e,t,r){if(typeof e!="function")throw new Error(Nr(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Nr(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Nr(1));return r(kE)(e,t)}let a=e,l=t,o=new Map,u=o,f=0,m=!1;function h(){u===o&&(u=new Map,o.forEach((S,E)=>{u.set(E,S)}))}function p(){if(m)throw new Error(Nr(3));return l}function x(S){if(typeof S!="function")throw new Error(Nr(4));if(m)throw new Error(Nr(5));let E=!0;h();const O=f++;return u.set(O,S),function(){if(E){if(m)throw new Error(Nr(6));E=!1,h(),u.delete(O),o=null}}}function b(S){if(!Gv(S))throw new Error(Nr(7));if(typeof S.type>"u")throw new Error(Nr(8));if(typeof S.type!="string")throw new Error(Nr(17));if(m)throw new Error(Nr(9));try{m=!0,l=a(l,S)}finally{m=!1}return(o=u).forEach(O=>{O()}),S}function j(S){if(typeof S!="function")throw new Error(Nr(10));a=S,b({type:yf.REPLACE})}function w(){const S=x;return{subscribe(E){if(typeof E!="object"||E===null)throw new Error(Nr(11));function O(){const T=E;T.next&&T.next(p())}return O(),{unsubscribe:S(O)}},[OS](){return this}}}return b({type:yf.INIT}),{dispatch:b,subscribe:x,getState:p,replaceReducer:j,[OS]:w}}function i9(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:yf.INIT})>"u")throw new Error(Nr(12));if(typeof r(void 0,{type:yf.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Nr(13))})}function TE(e){const t=Object.keys(e),r={};for(let o=0;o<t.length;o++){const u=t[o];typeof e[u]=="function"&&(r[u]=e[u])}const a=Object.keys(r);let l;try{i9(r)}catch(o){l=o}return function(u={},f){if(l)throw l;let m=!1;const h={};for(let p=0;p<a.length;p++){const x=a[p],b=r[x],j=u[x],w=b(j,f);if(typeof w>"u")throw f&&f.type,new Error(Nr(14));h[x]=w,m=m||w!==j}return m=m||a.length!==Object.keys(u).length,m?h:u}}function bf(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...a)=>t(r(...a)))}function s9(...e){return t=>(r,a)=>{const l=t(r,a);let o=()=>{throw new Error(Nr(15))};const u={getState:l.getState,dispatch:(m,...h)=>o(m,...h)},f=e.map(m=>m(u));return o=bf(...f)(l.dispatch),{...l,dispatch:o}}}function ME(e){return Gv(e)&&"type"in e&&typeof e.type=="string"}var PE=Symbol.for("immer-nothing"),CS=Symbol.for("immer-draftable"),Ir=Symbol.for("immer-state");function Hn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var mn=Object,Il=mn.getPrototypeOf,jf="constructor",gm="prototype",Og="configurable",wf="enumerable",sf="writable",Ac="value",Ha=e=>!!e&&!!e[Ir];function Wn(e){return e?DE(e)||vm(e)||!!e[CS]||!!e[jf]?.[CS]||ym(e)||bm(e):!1}var l9=mn[gm][jf].toString(),kS=new WeakMap;function DE(e){if(!e||!Wv(e))return!1;const t=Il(e);if(t===null||t===mn[gm])return!0;const r=mn.hasOwnProperty.call(t,jf)&&t[jf];if(r===Object)return!0;if(!kl(r))return!1;let a=kS.get(r);return a===void 0&&(a=Function.toString.call(r),kS.set(r,a)),a===l9}function Qc(e,t,r=!0){Xc(e)===0?(r?Reflect.ownKeys(e):mn.keys(e)).forEach(l=>{t(l,e[l],e)}):e.forEach((a,l)=>t(l,a,e))}function Xc(e){const t=e[Ir];return t?t.type_:vm(e)?1:ym(e)?2:bm(e)?3:0}var TS=(e,t,r=Xc(e))=>r===2?e.has(t):mn[gm].hasOwnProperty.call(e,t),Cg=(e,t,r=Xc(e))=>r===2?e.get(t):e[t],Nf=(e,t,r,a=Xc(e))=>{a===2?e.set(t,r):a===3?e.add(r):e[t]=r};function o9(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var vm=Array.isArray,ym=e=>e instanceof Map,bm=e=>e instanceof Set,Wv=e=>typeof e=="object",kl=e=>typeof e=="function",Ax=e=>typeof e=="boolean",Pa=e=>e.copy_||e.base_,Qv=e=>e.modified_?e.copy_:e.base_;function kg(e,t){if(ym(e))return new Map(e);if(bm(e))return new Set(e);if(vm(e))return Array[gm].slice.call(e);const r=DE(e);if(t===!0||t==="class_only"&&!r){const a=mn.getOwnPropertyDescriptors(e);delete a[Ir];let l=Reflect.ownKeys(a);for(let o=0;o<l.length;o++){const u=l[o],f=a[u];f[sf]===!1&&(f[sf]=!0,f[Og]=!0),(f.get||f.set)&&(a[u]={[Og]:!0,[sf]:!0,[wf]:f[wf],[Ac]:e[u]})}return mn.create(Il(e),a)}else{const a=Il(e);if(a!==null&&r)return{...e};const l=mn.create(a);return mn.assign(l,e)}}function Xv(e,t=!1){return jm(e)||Ha(e)||!Wn(e)||(Xc(e)>1&&mn.defineProperties(e,{set:$d,add:$d,clear:$d,delete:$d}),mn.freeze(e),t&&Qc(e,(r,a)=>{Xv(a,!0)},!1)),e}function c9(){Hn(2)}var $d={[Ac]:c9};function jm(e){return e===null||!Wv(e)?!0:mn.isFrozen(e)}var Sf="MapSet",Tg="Patches",RE={};function Ul(e){const t=RE[e];return t||Hn(0,e),t}var u9=e=>!!RE[e],Ec,LE=()=>Ec,d9=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:u9(Sf)?Ul(Sf):void 0});function MS(e,t){t&&(e.patchPlugin_=Ul(Tg),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Mg(e){Pg(e),e.drafts_.forEach(f9),e.drafts_=null}function Pg(e){e===Ec&&(Ec=e.parent_)}var PS=e=>Ec=d9(Ec,e);function f9(e){const t=e[Ir];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function DS(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[Ir].modified_&&(Mg(t),Hn(4)),Wn(e)&&(e=RS(t,e));const{patchPlugin_:l}=t;l&&l.generateReplacementPatches_(r[Ir].base_,e,t)}else e=RS(t,r);return m9(t,e,!0),Mg(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==PE?e:void 0}function RS(e,t){if(jm(t))return t;const r=t[Ir];if(!r)return Zv(t,e.handledSet_,e);if(!wm(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:a}=r;if(a)for(;a.length>0;)a.pop()(e);$E(r,e)}return r.copy_}function m9(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Xv(t,r)}function zE(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var wm=(e,t)=>e.scope_===t,h9=[];function BE(e,t,r,a){const l=Pa(e),o=e.type_;if(a!==void 0&&Cg(l,a,o)===t){Nf(l,a,r,o);return}if(!e.draftLocations_){const f=e.draftLocations_=new Map;Qc(l,(m,h)=>{if(Ha(h)){const p=f.get(h)||[];p.push(m),f.set(h,p)}})}const u=e.draftLocations_.get(t)??h9;for(const f of u)Nf(l,f,r,o)}function p9(e,t,r){e.callbacks_.push(function(l){const o=t;if(!o||!wm(o,l))return;l.mapSetPlugin_?.fixSetContents(o);const u=Qv(o);BE(e,o.draft_??o,u,r),$E(o,l)})}function $E(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||(e.assigned_?.size??0)>0)){const{patchPlugin_:a}=t;if(a){const l=a.getPath(e);l&&a.generatePatches_(e,l,t)}zE(e)}}function x9(e,t,r){const{scope_:a}=e;if(Ha(r)){const l=r[Ir];wm(l,a)&&l.callbacks_.push(function(){lf(e);const u=Qv(l);BE(e,r,u,t)})}else Wn(r)&&e.callbacks_.push(function(){const o=Pa(e);Cg(o,t,e.type_)===r&&a.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Zv(Cg(e.copy_,t,e.type_),a.handledSet_,a)})}function Zv(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||Ha(e)||t.has(e)||!Wn(e)||jm(e)||(t.add(e),Qc(e,(a,l)=>{if(Ha(l)){const o=l[Ir];if(wm(o,r)){const u=Qv(o);Nf(e,a,u,e.type_),zE(o)}}else Wn(l)&&Zv(l,t,r)})),e}function g9(e,t){const r=vm(e),a={type_:r?1:0,scope_:t?t.scope_:LE(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let l=a,o=Jv;r&&(l=[a],o=_c);const{revoke:u,proxy:f}=Proxy.revocable(l,o);return a.draft_=f,a.revoke_=u,[f,a]}var Jv={get(e,t){if(t===Ir)return e;const r=Pa(e);if(!TS(r,t,e.type_))return v9(e,r,t);const a=r[t];if(e.finalized_||!Wn(a))return a;if(a===Ex(e.base_,t)){lf(e);const l=e.type_===1?+t:t,o=Rg(e.scope_,a,e,l);return e.copy_[l]=o}return a},has(e,t){return t in Pa(e)},ownKeys(e){return Reflect.ownKeys(Pa(e))},set(e,t,r){const a=IE(Pa(e),t);if(a?.set)return a.set.call(e.draft_,r),!0;if(!e.modified_){const l=Ex(Pa(e),t),o=l?.[Ir];if(o&&o.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(o9(r,l)&&(r!==void 0||TS(e.base_,t,e.type_)))return!0;lf(e),Dg(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),x9(e,t,r)),!0},deleteProperty(e,t){return lf(e),Ex(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),Dg(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Pa(e),a=Reflect.getOwnPropertyDescriptor(r,t);return a&&{[sf]:!0,[Og]:e.type_!==1||t!=="length",[wf]:a[wf],[Ac]:r[t]}},defineProperty(){Hn(11)},getPrototypeOf(e){return Il(e.base_)},setPrototypeOf(){Hn(12)}},_c={};Qc(Jv,(e,t)=>{_c[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}});_c.deleteProperty=function(e,t){return _c.set.call(this,e,t,void 0)};_c.set=function(e,t,r){return Jv.set.call(this,e[0],t,r,e[0])};function Ex(e,t){const r=e[Ir];return(r?Pa(r):e)[t]}function v9(e,t,r){const a=IE(t,r);return a?Ac in a?a[Ac]:a.get?.call(e.draft_):void 0}function IE(e,t){if(!(t in e))return;let r=Il(e);for(;r;){const a=Object.getOwnPropertyDescriptor(r,t);if(a)return a;r=Il(r)}}function Dg(e){e.modified_||(e.modified_=!0,e.parent_&&Dg(e.parent_))}function lf(e){e.copy_||(e.assigned_=new Map,e.copy_=kg(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var y9=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,a,l)=>{if(kl(r)&&!kl(a)){const u=a;a=r;const f=this;return function(h=u,...p){return f.produce(h,x=>a.call(this,x,...p))}}kl(a)||Hn(6),l!==void 0&&!kl(l)&&Hn(7);let o;if(Wn(r)){const u=PS(this),f=Rg(u,r,void 0);let m=!0;try{o=a(f),m=!1}finally{m?Mg(u):Pg(u)}return MS(u,l),DS(o,u)}else if(!r||!Wv(r)){if(o=a(r),o===void 0&&(o=r),o===PE&&(o=void 0),this.autoFreeze_&&Xv(o,!0),l){const u=[],f=[];Ul(Tg).generateReplacementPatches_(r,o,{patches_:u,inversePatches_:f}),l(u,f)}return o}else Hn(1,r)},this.produceWithPatches=(r,a)=>{if(kl(r))return(f,...m)=>this.produceWithPatches(f,h=>r(h,...m));let l,o;return[this.produce(r,a,(f,m)=>{l=f,o=m}),l,o]},Ax(t?.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),Ax(t?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),Ax(t?.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Wn(t)||Hn(8),Ha(t)&&(t=Kn(t));const r=PS(this),a=Rg(r,t,void 0);return a[Ir].isManual_=!0,Pg(r),a}finishDraft(t,r){const a=t&&t[Ir];(!a||!a.isManual_)&&Hn(9);const{scope_:l}=a;return MS(l,r),DS(void 0,l)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let a;for(a=r.length-1;a>=0;a--){const o=r[a];if(o.path.length===0&&o.op==="replace"){t=o.value;break}}a>-1&&(r=r.slice(a+1));const l=Ul(Tg).applyPatches_;return Ha(t)?l(t,r):this.produce(t,o=>l(o,r))}};function Rg(e,t,r,a){const[l,o]=ym(t)?Ul(Sf).proxyMap_(t,r):bm(t)?Ul(Sf).proxySet_(t,r):g9(t,r);return(r?.scope_??LE()).drafts_.push(l),o.callbacks_=r?.callbacks_??[],o.key_=a,r&&a!==void 0?p9(r,o,a):o.callbacks_.push(function(m){m.mapSetPlugin_?.fixSetContents(o);const{patchPlugin_:h}=m;o.modified_&&h&&h.generatePatches_(o,[],m)}),l}function Kn(e){return Ha(e)||Hn(10,e),UE(e)}function UE(e){if(!Wn(e)||jm(e))return e;const t=e[Ir];let r,a=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=kg(e,t.scope_.immer_.useStrictShallowCopy_),a=t.scope_.immer_.shouldUseStrictIteration()}else r=kg(e,!0);return Qc(r,(l,o)=>{Nf(r,l,UE(o))},a),t&&(t.finalized_=!1),r}var b9=new y9,qE=b9.produce;function FE(e){return({dispatch:r,getState:a})=>l=>o=>typeof o=="function"?o(r,a,e):l(o)}var j9=FE(),w9=FE,N9=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?bf:bf.apply(null,arguments)};function Rn(e,t){function r(...a){if(t){let l=t(...a);if(!l)throw new Error(hn(0));return{type:e,payload:l.payload,..."meta"in l&&{meta:l.meta},..."error"in l&&{error:l.error}}}return{type:e,payload:a[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=a=>ME(a)&&a.type===e,r}var HE=class xc extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,xc.prototype)}static get[Symbol.species](){return xc}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new xc(...t[0].concat(this)):new xc(...t.concat(this))}};function LS(e){return Wn(e)?qE(e,()=>{}):e}function Id(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function S9(e){return typeof e=="boolean"}var A9=()=>function(t){const{thunk:r=!0,immutableCheck:a=!0,serializableCheck:l=!0,actionCreatorCheck:o=!0}=t??{};let u=new HE;return r&&(S9(r)?u.push(j9):u.push(w9(r.extraArgument))),u},VE="RTK_autoBatch",Et=()=>e=>({payload:e,meta:{[VE]:!0}}),zS=e=>t=>{setTimeout(t,e)},YE=(e={type:"raf"})=>t=>(...r)=>{const a=t(...r);let l=!0,o=!1,u=!1;const f=new Set,m=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:zS(10):e.type==="callback"?e.queueNotification:zS(e.timeout),h=()=>{u=!1,o&&(o=!1,f.forEach(p=>p()))};return Object.assign({},a,{subscribe(p){const x=()=>l&&p(),b=a.subscribe(x);return f.add(p),()=>{b(),f.delete(p)}},dispatch(p){try{return l=!p?.meta?.[VE],o=!l,o&&(u||(u=!0,m(h))),a.dispatch(p)}finally{l=!0}}})},E9=e=>function(r){const{autoBatch:a=!0}=r??{};let l=new HE(e);return a&&l.push(YE(typeof a=="object"?a:void 0)),l};function _9(e){const t=A9(),{reducer:r=void 0,middleware:a,devTools:l=!0,preloadedState:o=void 0,enhancers:u=void 0}=e||{};let f;if(typeof r=="function")f=r;else if(Gv(r))f=TE(r);else throw new Error(hn(1));let m;typeof a=="function"?m=a(t):m=t();let h=bf;l&&(h=N9({trace:!1,...typeof l=="object"&&l}));const p=s9(...m),x=E9(p);let b=typeof u=="function"?u(x):x();const j=h(...b);return kE(f,o,j)}function KE(e){const t={},r=[];let a;const l={addCase(o,u){const f=typeof o=="string"?o:o.type;if(!f)throw new Error(hn(28));if(f in t)throw new Error(hn(29));return t[f]=u,l},addAsyncThunk(o,u){return u.pending&&(t[o.pending.type]=u.pending),u.rejected&&(t[o.rejected.type]=u.rejected),u.fulfilled&&(t[o.fulfilled.type]=u.fulfilled),u.settled&&r.push({matcher:o.settled,reducer:u.settled}),l},addMatcher(o,u){return r.push({matcher:o,reducer:u}),l},addDefaultCase(o){return a=o,l}};return e(l),[t,r,a]}function O9(e){return typeof e=="function"}function C9(e,t){let[r,a,l]=KE(t),o;if(O9(e))o=()=>LS(e());else{const f=LS(e);o=()=>f}function u(f=o(),m){let h=[r[m.type],...a.filter(({matcher:p})=>p(m)).map(({reducer:p})=>p)];return h.filter(p=>!!p).length===0&&(h=[l]),h.reduce((p,x)=>{if(x)if(Ha(p)){const j=x(p,m);return j===void 0?p:j}else{if(Wn(p))return qE(p,b=>x(b,m));{const b=x(p,m);if(b===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return b}}return p},f)}return u.getInitialState=o,u}var k9="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",T9=(e=21)=>{let t="",r=e;for(;r--;)t+=k9[Math.random()*64|0];return t},M9=Symbol.for("rtk-slice-createasyncthunk");function P9(e,t){return`${e}/${t}`}function D9({creators:e}={}){const t=e?.asyncThunk?.[M9];return function(a){const{name:l,reducerPath:o=l}=a;if(!l)throw new Error(hn(11));const u=(typeof a.reducers=="function"?a.reducers(L9()):a.reducers)||{},f=Object.keys(u),m={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(_,T){const k=typeof _=="string"?_:_.type;if(!k)throw new Error(hn(12));if(k in m.sliceCaseReducersByType)throw new Error(hn(13));return m.sliceCaseReducersByType[k]=T,h},addMatcher(_,T){return m.sliceMatchers.push({matcher:_,reducer:T}),h},exposeAction(_,T){return m.actionCreators[_]=T,h},exposeCaseReducer(_,T){return m.sliceCaseReducersByName[_]=T,h}};f.forEach(_=>{const T=u[_],k={reducerName:_,type:P9(l,_),createNotation:typeof a.reducers=="function"};B9(T)?I9(k,T,h,t):z9(k,T,h)});function p(){const[_={},T=[],k=void 0]=typeof a.extraReducers=="function"?KE(a.extraReducers):[a.extraReducers],L={..._,...m.sliceCaseReducersByType};return C9(a.initialState,$=>{for(let G in L)$.addCase(G,L[G]);for(let G of m.sliceMatchers)$.addMatcher(G.matcher,G.reducer);for(let G of T)$.addMatcher(G.matcher,G.reducer);k&&$.addDefaultCase(k)})}const x=_=>_,b=new Map,j=new WeakMap;let w;function N(_,T){return w||(w=p()),w(_,T)}function S(){return w||(w=p()),w.getInitialState()}function E(_,T=!1){function k($){let G=$[_];return typeof G>"u"&&T&&(G=Id(j,k,S)),G}function L($=x){const G=Id(b,T,()=>new WeakMap);return Id(G,$,()=>{const J={};for(const[ue,F]of Object.entries(a.selectors??{}))J[ue]=R9(F,$,()=>Id(j,$,S),T);return J})}return{reducerPath:_,getSelectors:L,get selectors(){return L(k)},selectSlice:k}}const O={name:l,reducer:N,actions:m.actionCreators,caseReducers:m.sliceCaseReducersByName,getInitialState:S,...E(o),injectInto(_,{reducerPath:T,...k}={}){const L=T??o;return _.inject({reducerPath:L,reducer:N},k),{...O,...E(L,!0)}}};return O}}function R9(e,t,r,a){function l(o,...u){let f=t(o);return typeof f>"u"&&a&&(f=r()),e(f,...u)}return l.unwrapped=e,l}var en=D9();function L9(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function z9({type:e,reducerName:t,createNotation:r},a,l){let o,u;if("reducer"in a){if(r&&!$9(a))throw new Error(hn(17));o=a.reducer,u=a.prepare}else o=a;l.addCase(e,o).exposeCaseReducer(t,o).exposeAction(t,u?Rn(e,u):Rn(e))}function B9(e){return e._reducerDefinitionType==="asyncThunk"}function $9(e){return e._reducerDefinitionType==="reducerWithPrepare"}function I9({type:e,reducerName:t},r,a,l){if(!l)throw new Error(hn(18));const{payloadCreator:o,fulfilled:u,pending:f,rejected:m,settled:h,options:p}=r,x=l(e,o,p);a.exposeAction(t,x),u&&a.addCase(x.fulfilled,u),f&&a.addCase(x.pending,f),m&&a.addCase(x.rejected,m),h&&a.addMatcher(x.settled,h),a.exposeCaseReducer(t,{fulfilled:u||Ud,pending:f||Ud,rejected:m||Ud,settled:h||Ud})}function Ud(){}var U9="task",GE="listener",WE="completed",ey="cancelled",q9=`task-${ey}`,F9=`task-${WE}`,Lg=`${GE}-${ey}`,H9=`${GE}-${WE}`,Nm=class{constructor(e){this.code=e,this.message=`${U9} ${ey} (reason: ${e})`}name="TaskAbortError";message},ty=(e,t)=>{if(typeof e!="function")throw new TypeError(hn(32))},Af=()=>{},QE=(e,t=Af)=>(e.catch(t),e),XE=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),As=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Es=e=>{if(e.aborted){const{reason:t}=e;throw new Nm(t)}};function ZE(e,t){let r=Af;return new Promise((a,l)=>{const o=()=>l(new Nm(e.reason));if(e.aborted){o();return}r=XE(e,o),t.finally(()=>r()).then(a,l)}).finally(()=>{r=Af})}var V9=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof Nm?"cancelled":"rejected",error:r}}finally{t?.()}},Ef=e=>t=>QE(ZE(e,t).then(r=>(Es(e),r))),JE=e=>{const t=Ef(e);return r=>t(new Promise(a=>setTimeout(a,r)))},{assign:Rl}=Object,BS={},Sm="listenerMiddleware",Y9=(e,t)=>{const r=a=>XE(e,()=>As(a,e.reason));return(a,l)=>{ty(a);const o=new AbortController;r(o);const u=V9(async()=>{Es(e),Es(o.signal);const f=await a({pause:Ef(o.signal),delay:JE(o.signal),signal:o.signal});return Es(o.signal),f},()=>As(o,F9));return l?.autoJoin&&t.push(u.catch(Af)),{result:Ef(e)(u),cancel(){As(o,q9)}}}},K9=(e,t)=>{const r=async(a,l)=>{Es(t);let o=()=>{};const f=[new Promise((m,h)=>{let p=e({predicate:a,effect:(x,b)=>{b.unsubscribe(),m([x,b.getState(),b.getOriginalState()])}});o=()=>{p(),h()}})];l!=null&&f.push(new Promise(m=>setTimeout(m,l,null)));try{const m=await ZE(t,Promise.race(f));return Es(t),m}finally{o()}};return(a,l)=>QE(r(a,l))},e_=e=>{let{type:t,actionCreator:r,matcher:a,predicate:l,effect:o}=e;if(t)l=Rn(t).match;else if(r)t=r.type,l=r.match;else if(a)l=a;else if(!l)throw new Error(hn(21));return ty(o),{predicate:l,type:t,effect:o}},t_=Rl(e=>{const{type:t,predicate:r,effect:a}=e_(e);return{id:T9(),effect:a,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(hn(22))}}},{withTypes:()=>t_}),$S=(e,t)=>{const{type:r,effect:a,predicate:l}=e_(t);return Array.from(e.values()).find(o=>(typeof r=="string"?o.type===r:o.predicate===l)&&o.effect===a)},zg=e=>{e.pending.forEach(t=>{As(t,Lg)})},G9=(e,t)=>()=>{for(const r of t.keys())zg(r);e.clear()},IS=(e,t,r)=>{try{e(t,r)}catch(a){setTimeout(()=>{throw a},0)}},r_=Rl(Rn(`${Sm}/add`),{withTypes:()=>r_}),W9=Rn(`${Sm}/removeAll`),n_=Rl(Rn(`${Sm}/remove`),{withTypes:()=>n_}),Q9=(...e)=>{console.error(`${Sm}/error`,...e)},Zc=(e={})=>{const t=new Map,r=new Map,a=j=>{const w=r.get(j)??0;r.set(j,w+1)},l=j=>{const w=r.get(j)??1;w===1?r.delete(j):r.set(j,w-1)},{extra:o,onError:u=Q9}=e;ty(u);const f=j=>(j.unsubscribe=()=>t.delete(j.id),t.set(j.id,j),w=>{j.unsubscribe(),w?.cancelActive&&zg(j)}),m=j=>{const w=$S(t,j)??t_(j);return f(w)};Rl(m,{withTypes:()=>m});const h=j=>{const w=$S(t,j);return w&&(w.unsubscribe(),j.cancelActive&&zg(w)),!!w};Rl(h,{withTypes:()=>h});const p=async(j,w,N,S)=>{const E=new AbortController,O=K9(m,E.signal),_=[];try{j.pending.add(E),a(j),await Promise.resolve(j.effect(w,Rl({},N,{getOriginalState:S,condition:(T,k)=>O(T,k).then(Boolean),take:O,delay:JE(E.signal),pause:Ef(E.signal),extra:o,signal:E.signal,fork:Y9(E.signal,_),unsubscribe:j.unsubscribe,subscribe:()=>{t.set(j.id,j)},cancelActiveListeners:()=>{j.pending.forEach((T,k,L)=>{T!==E&&(As(T,Lg),L.delete(T))})},cancel:()=>{As(E,Lg),j.pending.delete(E)},throwIfCancelled:()=>{Es(E.signal)}})))}catch(T){T instanceof Nm||IS(u,T,{raisedBy:"effect"})}finally{await Promise.all(_),As(E,H9),l(j),j.pending.delete(E)}},x=G9(t,r);return{middleware:j=>w=>N=>{if(!ME(N))return w(N);if(r_.match(N))return m(N.payload);if(W9.match(N)){x();return}if(n_.match(N))return h(N.payload);let S=j.getState();const E=()=>{if(S===BS)throw new Error(hn(23));return S};let O;try{if(O=w(N),t.size>0){const _=j.getState(),T=Array.from(t.values());for(const k of T){let L=!1;try{L=k.predicate(N,_,S)}catch($){L=!1,IS(u,$,{raisedBy:"predicate"})}L&&p(k,N,j,E)}}}finally{S=BS}return O},startListening:m,stopListening:h,clearListeners:x}};function hn(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var X9={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},a_=en({name:"chartLayout",initialState:X9,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,a,l,o;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(a=t.payload.right)!==null&&a!==void 0?a:0,e.margin.bottom=(l=t.payload.bottom)!==null&&l!==void 0?l:0,e.margin.left=(o=t.payload.left)!==null&&o!==void 0?o:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:Z9,setLayout:J9,setChartSize:ez,setScale:tz}=a_.actions,rz=a_.reducer;function i_(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function US(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,a)}return r}function Tl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?US(Object(r),!0).forEach(function(a){nz(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):US(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function nz(e,t,r){return(t=az(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function az(e){var t=iz(e,"string");return typeof t=="symbol"?t:t+""}function iz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xt(e,t,r){return kt(e)||kt(t)?r:ca(t)?Ts(e,t,r):typeof t=="function"?t(e):r}var sz=(e,t,r)=>{if(t&&r){var{width:a,height:l}=r,{align:o,verticalAlign:u,layout:f}=t;if((f==="vertical"||f==="horizontal"&&u==="middle")&&o!=="center"&&De(e[o]))return Tl(Tl({},e),{},{[o]:e[o]+(a||0)});if((f==="horizontal"||f==="vertical"&&o==="center")&&u!=="middle"&&De(e[u]))return Tl(Tl({},e),{},{[u]:e[u]+(l||0)})}return e},Fi=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",s_=(e,t,r,a)=>{if(a)return e.map(f=>f.coordinate);var l,o,u=e.map(f=>(f.coordinate===t&&(l=!0),f.coordinate===r&&(o=!0),f.coordinate));return l||u.push(t),o||u.push(r),u},l_=(e,t,r)=>{if(!e)return null;var{duplicateDomain:a,type:l,range:o,scale:u,realScaleType:f,isCategorical:m,categoricalDomain:h,tickCount:p,ticks:x,niceTicks:b,axisType:j}=e;if(!u)return null;var w=f==="scaleBand"&&u.bandwidth?u.bandwidth()/2:2,N=l==="category"&&u.bandwidth?u.bandwidth()/w:0;if(N=j==="angleAxis"&&o&&o.length>=2?hr(o[0]-o[1])*2*N:N,x||b){var S=(x||b||[]).map((E,O)=>{var _=a?a.indexOf(E):E;return{coordinate:u(_)+N,value:E,offset:N,index:O}});return S.filter(E=>!Gn(E.coordinate))}return m&&h?h.map((E,O)=>({coordinate:u(E)+N,value:E,index:O,offset:N})):u.ticks&&p!=null?u.ticks(p).map((E,O)=>({coordinate:u(E)+N,value:E,offset:N,index:O})):u.domain().map((E,O)=>({coordinate:u(E)+N,value:a?a[E]:E,index:O,offset:N}))},qS=1e-4,lz=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,a=e.range(),l=Math.min(a[0],a[1])-qS,o=Math.max(a[0],a[1])+qS,u=e(t[0]),f=e(t[r-1]);(u<l||u>o||f<l||f>o)&&e.domain([t[0],t[r-1]])}},oz=(e,t)=>{if(!t||t.length!==2||!De(t[0])||!De(t[1]))return e;var r=Math.min(t[0],t[1]),a=Math.max(t[0],t[1]),l=[e[0],e[1]];return(!De(e[0])||e[0]<r)&&(l[0]=r),(!De(e[1])||e[1]>a)&&(l[1]=a),l[0]>a&&(l[0]=a),l[1]<r&&(l[1]=r),l},cz=e=>{var t=e.length;if(!(t<=0))for(var r=0,a=e[0].length;r<a;++r)for(var l=0,o=0,u=0;u<t;++u){var f=Gn(e[u][r][1])?e[u][r][0]:e[u][r][1];f>=0?(e[u][r][0]=l,e[u][r][1]=l+f,l=e[u][r][1]):(e[u][r][0]=o,e[u][r][1]=o+f,o=e[u][r][1])}},uz=e=>{var t=e.length;if(!(t<=0))for(var r=0,a=e[0].length;r<a;++r)for(var l=0,o=0;o<t;++o){var u=Gn(e[o][r][1])?e[o][r][0]:e[o][r][1];u>=0?(e[o][r][0]=l,e[o][r][1]=l+u,l=e[o][r][1]):(e[o][r][0]=0,e[o][r][1]=0)}},dz={sign:cz,expand:T7,none:$l,silhouette:M7,wiggle:P7,positive:uz},fz=(e,t,r)=>{var a=dz[r],l=k7().keys(t).value((o,u)=>Number(xt(o,u,0))).order(Eg).offset(a);return l(e)};function mz(e){return e==null?void 0:String(e)}function FS(e){var{axis:t,ticks:r,bandSize:a,entry:l,index:o,dataKey:u}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!kt(l[t.dataKey])){var f=fE(r,"value",l[t.dataKey]);if(f)return f.coordinate+a/2}return r[o]?r[o].coordinate+a/2:null}var m=xt(l,kt(u)?t.dataKey:u);return kt(m)?null:t.scale(m)}var HS=e=>{var{axis:t,ticks:r,offset:a,bandSize:l,entry:o,index:u}=e;if(t.type==="category")return r[u]?r[u].coordinate+a:null;var f=xt(o,t.dataKey,t.scale.domain()[u]);return kt(f)?null:t.scale(f)-l/2+a},hz=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var a=Math.min(r[0],r[1]),l=Math.max(r[0],r[1]);return a<=0&&l>=0?0:l<0?l:a}return r[0]},pz=e=>{var t=e.flat(2).filter(De);return[Math.min(...t),Math.max(...t)]},xz=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],gz=(e,t,r)=>{if(e!=null)return xz(Object.keys(e).reduce((a,l)=>{var o=e[l],{stackedData:u}=o,f=u.reduce((m,h)=>{var p=i_(h,t,r),x=pz(p);return[Math.min(m[0],x[0]),Math.max(m[1],x[1])]},[1/0,-1/0]);return[Math.min(f[0],a[0]),Math.max(f[1],a[1])]},[1/0,-1/0]))},VS=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,YS=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ql=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!r||a>0)return a}if(e&&t&&t.length>=2){for(var l=xm(t,p=>p.coordinate),o=1/0,u=1,f=l.length;u<f;u++){var m=l[u],h=l[u-1];o=Math.min((m.coordinate||0)-(h.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0};function KS(e){var{tooltipEntrySettings:t,dataKey:r,payload:a,value:l,name:o}=e;return Tl(Tl({},t),{},{dataKey:r,payload:a,value:l,name:o})}function eo(e,t){if(e)return String(e);if(typeof t=="string")return t}var vz=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},yz=(e,t)=>t==="centric"?e.angle:e.radius,Za=e=>e.layout.width,Ja=e=>e.layout.height,bz=e=>e.layout.scale,o_=e=>e.layout.margin,Am=oe(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Em=oe(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),c_="data-recharts-item-index",u_="data-recharts-item-data-key",Jc=60;function GS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,a)}return r}function qd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GS(Object(r),!0).forEach(function(a){jz(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GS(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function jz(e,t,r){return(t=wz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wz(e){var t=Nz(e,"string");return typeof t=="symbol"?t:t+""}function Nz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Sz=e=>e.brush.height;function Az(e){var t=Em(e);return t.reduce((r,a)=>{if(a.orientation==="left"&&!a.mirror&&!a.hide){var l=typeof a.width=="number"?a.width:Jc;return r+l}return r},0)}function Ez(e){var t=Em(e);return t.reduce((r,a)=>{if(a.orientation==="right"&&!a.mirror&&!a.hide){var l=typeof a.width=="number"?a.width:Jc;return r+l}return r},0)}function _z(e){var t=Am(e);return t.reduce((r,a)=>a.orientation==="top"&&!a.mirror&&!a.hide?r+a.height:r,0)}function Oz(e){var t=Am(e);return t.reduce((r,a)=>a.orientation==="bottom"&&!a.mirror&&!a.hide?r+a.height:r,0)}var ar=oe([Za,Ja,o_,Sz,Az,Ez,_z,Oz,OE,JL],(e,t,r,a,l,o,u,f,m,h)=>{var p={left:(r.left||0)+l,right:(r.right||0)+o},x={top:(r.top||0)+u,bottom:(r.bottom||0)+f},b=qd(qd({},x),p),j=b.bottom;b.bottom+=a,b=sz(b,m,h);var w=e-b.left-b.right,N=t-b.top-b.bottom;return qd(qd({brushBottom:j},b),{},{width:Math.max(w,0),height:Math.max(N,0)})}),Cz=oe(ar,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),ry=oe(Za,Ja,(e,t)=>({x:0,y:0,width:e,height:t})),kz=v.createContext(null),Tr=()=>v.useContext(kz)!=null,_m=e=>e.brush,Om=oe([_m,ar,o_],(e,t,r)=>({height:e.height,x:De(e.x)?e.x:t.left,y:De(e.y)?e.y:t.top+t.height+t.brushBottom-(r?.bottom||0),width:De(e.width)?e.width:t.width})),_x={},Ox={},Cx={},WS;function Tz(){return WS||(WS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,a,{signal:l,edges:o}={}){let u,f=null;const m=o!=null&&o.includes("leading"),h=o==null||o.includes("trailing"),p=()=>{f!==null&&(r.apply(u,f),u=void 0,f=null)},x=()=>{h&&p(),N()};let b=null;const j=()=>{b!=null&&clearTimeout(b),b=setTimeout(()=>{b=null,x()},a)},w=()=>{b!==null&&(clearTimeout(b),b=null)},N=()=>{w(),u=void 0,f=null},S=()=>{p()},E=function(...O){if(l?.aborted)return;u=this,f=O;const _=b==null;j(),m&&_&&p()};return E.schedule=j,E.cancel=N,E.flush=S,l?.addEventListener("abort",N,{once:!0}),E}e.debounce=t})(Cx)),Cx}var QS;function Mz(){return QS||(QS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Tz();function r(a,l=0,o={}){typeof o!="object"&&(o={});const{leading:u=!1,trailing:f=!0,maxWait:m}=o,h=Array(2);u&&(h[0]="leading"),f&&(h[1]="trailing");let p,x=null;const b=t.debounce(function(...N){p=a.apply(this,N),x=null},l,{edges:h}),j=function(...N){return m!=null&&(x===null&&(x=Date.now()),Date.now()-x>=m)?(p=a.apply(this,N),x=Date.now(),b.cancel(),b.schedule(),p):(b.apply(this,N),p)},w=()=>(b.flush(),p);return j.cancel=b.cancel,j.flush=w,j}e.debounce=r})(Ox)),Ox}var XS;function Pz(){return XS||(XS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Mz();function r(a,l=0,o={}){const{leading:u=!0,trailing:f=!0}=o;return t.debounce(a,l,{leading:u,maxWait:l,trailing:f})}e.throttle=r})(_x)),_x}var kx,ZS;function Dz(){return ZS||(ZS=1,kx=Pz().throttle),kx}var Rz=Dz();const Lz=Qa(Rz);var _f=function(t,r){for(var a=arguments.length,l=new Array(a>2?a-2:0),o=2;o<a;o++)l[o-2]=arguments[o];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=0;console.warn(r.replace(/%s/g,()=>l[u++]))}},d_=(e,t,r)=>{var{width:a="100%",height:l="100%",aspect:o,maxHeight:u}=r,f=Fa(a)?e:Number(a),m=Fa(l)?t:Number(l);return o&&o>0&&(f?m=f/o:m&&(f=m*o),u&&m!=null&&m>u&&(m=u)),{calculatedWidth:f,calculatedHeight:m}},zz={width:0,height:0,overflow:"visible"},Bz={width:0,overflowX:"visible"},$z={height:0,overflowY:"visible"},Iz={},Uz=e=>{var{width:t,height:r}=e,a=Fa(t),l=Fa(r);return a&&l?zz:a?Bz:l?$z:Iz};function qz(e){var{width:t,height:r,aspect:a}=e,l=t,o=r;return l===void 0&&o===void 0?(l="100%",o="100%"):l===void 0?l=a&&a>0?void 0:"100%":o===void 0&&(o=a&&a>0?void 0:"100%"),{width:l,height:o}}function Ht(e){return Number.isFinite(e)}function ua(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Bg(){return Bg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Bg.apply(null,arguments)}function JS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,a)}return r}function e4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JS(Object(r),!0).forEach(function(a){Fz(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JS(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Fz(e,t,r){return(t=Hz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hz(e){var t=Vz(e,"string");return typeof t=="symbol"?t:t+""}function Vz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var f_=v.createContext({width:-1,height:-1});function Yz(e){return ua(e.width)&&ua(e.height)}function m_(e){var{children:t,width:r,height:a}=e,l=v.useMemo(()=>({width:r,height:a}),[r,a]);return Yz(l)?v.createElement(f_.Provider,{value:l},t):null}var ny=()=>v.useContext(f_),Kz=v.forwardRef((e,t)=>{var{aspect:r,initialDimension:a={width:-1,height:-1},width:l,height:o,minWidth:u=0,minHeight:f,maxHeight:m,children:h,debounce:p=0,id:x,className:b,onResize:j,style:w={}}=e,N=v.useRef(null),S=v.useRef();S.current=j,v.useImperativeHandle(t,()=>N.current);var[E,O]=v.useState({containerWidth:a.width,containerHeight:a.height}),_=v.useCallback((G,J)=>{O(ue=>{var F=Math.round(G),q=Math.round(J);return ue.containerWidth===F&&ue.containerHeight===q?ue:{containerWidth:F,containerHeight:q}})},[]);v.useEffect(()=>{if(N.current==null||typeof ResizeObserver>"u")return Gc;var G=q=>{var fe,{width:z,height:Y}=q[0].contentRect;_(z,Y),(fe=S.current)===null||fe===void 0||fe.call(S,z,Y)};p>0&&(G=Lz(G,p,{trailing:!0,leading:!1}));var J=new ResizeObserver(G),{width:ue,height:F}=N.current.getBoundingClientRect();return _(ue,F),J.observe(N.current),()=>{J.disconnect()}},[_,p]);var{containerWidth:T,containerHeight:k}=E;_f(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:L,calculatedHeight:$}=d_(T,k,{width:l,height:o,aspect:r,maxHeight:m});return _f(L!=null&&L>0||$!=null&&$>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,L,$,l,o,u,f,r),v.createElement("div",{id:x?"".concat(x):void 0,className:rt("recharts-responsive-container",b),style:e4(e4({},w),{},{width:l,height:o,minWidth:u,minHeight:f,maxHeight:m}),ref:N},v.createElement("div",{style:Uz({width:l,height:o})},v.createElement(m_,{width:L,height:$},h)))}),fs=v.forwardRef((e,t)=>{var r=ny();if(ua(r.width)&&ua(r.height))return e.children;var{width:a,height:l}=qz({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:o,calculatedHeight:u}=d_(void 0,void 0,{width:a,height:l,aspect:e.aspect,maxHeight:e.maxHeight});return De(o)&&De(u)?v.createElement(m_,{width:o,height:u},e.children):v.createElement(Kz,Bg({},e,{width:a,height:l,ref:t}))});function h_(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Cm=()=>{var e,t=Tr(),r=Te(Cz),a=Te(Om),l=(e=Te(_m))===null||e===void 0?void 0:e.padding;return!t||!a||!l?r:{width:a.width-l.left-l.right,height:a.height-l.top-l.bottom,x:l.left,y:l.top}},Gz={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},p_=()=>{var e;return(e=Te(ar))!==null&&e!==void 0?e:Gz},ay=()=>Te(Za),iy=()=>Te(Ja),Wz=()=>Te(e=>e.layout.margin),Je=e=>e.layout.layoutType,eu=()=>Te(Je),Qz=()=>{var e=eu();return e!==void 0},km=e=>{var t=bt(),r=Tr(),{width:a,height:l}=e,o=ny(),u=a,f=l;return o&&(u=o.width>0?o.width:a,f=o.height>0?o.height:l),v.useEffect(()=>{!r&&ua(u)&&ua(f)&&t(ez({width:u,height:f}))},[t,r,u,f]),null},x_=Symbol.for("immer-nothing"),t4=Symbol.for("immer-draftable"),xn=Symbol.for("immer-state");function Vn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Oc=Object.getPrototypeOf;function Fl(e){return!!e&&!!e[xn]}function Ms(e){return e?g_(e)||Array.isArray(e)||!!e[t4]||!!e.constructor?.[t4]||tu(e)||Mm(e):!1}var Xz=Object.prototype.constructor.toString(),r4=new WeakMap;function g_(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let a=r4.get(r);return a===void 0&&(a=Function.toString.call(r),r4.set(r,a)),a===Xz}function Of(e,t,r=!0){Tm(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(l=>{t(l,e[l],e)}):e.forEach((a,l)=>t(l,a,e))}function Tm(e){const t=e[xn];return t?t.type_:Array.isArray(e)?1:tu(e)?2:Mm(e)?3:0}function $g(e,t){return Tm(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function v_(e,t,r){const a=Tm(e);a===2?e.set(t,r):a===3?e.add(r):e[t]=r}function Zz(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function tu(e){return e instanceof Map}function Mm(e){return e instanceof Set}function ms(e){return e.copy_||e.base_}function Ig(e,t){if(tu(e))return new Map(e);if(Mm(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=g_(e);if(t===!0||t==="class_only"&&!r){const a=Object.getOwnPropertyDescriptors(e);delete a[xn];let l=Reflect.ownKeys(a);for(let o=0;o<l.length;o++){const u=l[o],f=a[u];f.writable===!1&&(f.writable=!0,f.configurable=!0),(f.get||f.set)&&(a[u]={configurable:!0,writable:!0,enumerable:f.enumerable,value:e[u]})}return Object.create(Oc(e),a)}else{const a=Oc(e);if(a!==null&&r)return{...e};const l=Object.create(a);return Object.assign(l,e)}}function sy(e,t=!1){return Pm(e)||Fl(e)||!Ms(e)||(Tm(e)>1&&Object.defineProperties(e,{set:Fd,add:Fd,clear:Fd,delete:Fd}),Object.freeze(e),t&&Object.values(e).forEach(r=>sy(r,!0))),e}function Jz(){Vn(2)}var Fd={value:Jz};function Pm(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var eB={};function Ps(e){const t=eB[e];return t||Vn(0,e),t}var Cc;function y_(){return Cc}function tB(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function n4(e,t){t&&(Ps("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Ug(e){qg(e),e.drafts_.forEach(rB),e.drafts_=null}function qg(e){e===Cc&&(Cc=e.parent_)}function a4(e){return Cc=tB(Cc,e)}function rB(e){const t=e[xn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function i4(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[xn].modified_&&(Ug(t),Vn(4)),Ms(e)&&(e=Cf(t,e),t.parent_||kf(t,e)),t.patches_&&Ps("Patches").generateReplacementPatches_(r[xn].base_,e,t.patches_,t.inversePatches_)):e=Cf(t,r,[]),Ug(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==x_?e:void 0}function Cf(e,t,r){if(Pm(t))return t;const a=e.immer_.shouldUseStrictIteration(),l=t[xn];if(!l)return Of(t,(o,u)=>s4(e,l,t,o,u,r),a),t;if(l.scope_!==e)return t;if(!l.modified_)return kf(e,l.base_,!0),l.base_;if(!l.finalized_){l.finalized_=!0,l.scope_.unfinalizedDrafts_--;const o=l.copy_;let u=o,f=!1;l.type_===3&&(u=new Set(o),o.clear(),f=!0),Of(u,(m,h)=>s4(e,l,o,m,h,r,f),a),kf(e,o,!1),r&&e.patches_&&Ps("Patches").generatePatches_(l,r,e.patches_,e.inversePatches_)}return l.copy_}function s4(e,t,r,a,l,o,u){if(l==null||typeof l!="object"&&!u)return;const f=Pm(l);if(!(f&&!u)){if(Fl(l)){const m=o&&t&&t.type_!==3&&!$g(t.assigned_,a)?o.concat(a):void 0,h=Cf(e,l,m);if(v_(r,a,h),Fl(h))e.canAutoFreeze_=!1;else return}else u&&r.add(l);if(Ms(l)&&!f){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[a]===l&&f)return;Cf(e,l),(!t||!t.scope_.parent_)&&typeof a!="symbol"&&(tu(r)?r.has(a):Object.prototype.propertyIsEnumerable.call(r,a))&&kf(e,l)}}}function kf(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&sy(t,r)}function nB(e,t){const r=Array.isArray(e),a={type_:r?1:0,scope_:t?t.scope_:y_(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let l=a,o=ly;r&&(l=[a],o=kc);const{revoke:u,proxy:f}=Proxy.revocable(l,o);return a.draft_=f,a.revoke_=u,f}var ly={get(e,t){if(t===xn)return e;const r=ms(e);if(!$g(r,t))return aB(e,r,t);const a=r[t];return e.finalized_||!Ms(a)?a:a===Tx(e.base_,t)?(Mx(e),e.copy_[t]=Hg(a,e)):a},has(e,t){return t in ms(e)},ownKeys(e){return Reflect.ownKeys(ms(e))},set(e,t,r){const a=b_(ms(e),t);if(a?.set)return a.set.call(e.draft_,r),!0;if(!e.modified_){const l=Tx(ms(e),t),o=l?.[xn];if(o&&o.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(Zz(r,l)&&(r!==void 0||$g(e.base_,t)))return!0;Mx(e),Fg(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Tx(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Mx(e),Fg(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=ms(e),a=Reflect.getOwnPropertyDescriptor(r,t);return a&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:a.enumerable,value:r[t]}},defineProperty(){Vn(11)},getPrototypeOf(e){return Oc(e.base_)},setPrototypeOf(){Vn(12)}},kc={};Of(ly,(e,t)=>{kc[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});kc.deleteProperty=function(e,t){return kc.set.call(this,e,t,void 0)};kc.set=function(e,t,r){return ly.set.call(this,e[0],t,r,e[0])};function Tx(e,t){const r=e[xn];return(r?ms(r):e)[t]}function aB(e,t,r){const a=b_(t,r);return a?"value"in a?a.value:a.get?.call(e.draft_):void 0}function b_(e,t){if(!(t in e))return;let r=Oc(e);for(;r;){const a=Object.getOwnPropertyDescriptor(r,t);if(a)return a;r=Oc(r)}}function Fg(e){e.modified_||(e.modified_=!0,e.parent_&&Fg(e.parent_))}function Mx(e){e.copy_||(e.copy_=Ig(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var iB=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,a)=>{if(typeof t=="function"&&typeof r!="function"){const o=r;r=t;const u=this;return function(m=o,...h){return u.produce(m,p=>r.call(this,p,...h))}}typeof r!="function"&&Vn(6),a!==void 0&&typeof a!="function"&&Vn(7);let l;if(Ms(t)){const o=a4(this),u=Hg(t,void 0);let f=!0;try{l=r(u),f=!1}finally{f?Ug(o):qg(o)}return n4(o,a),i4(l,o)}else if(!t||typeof t!="object"){if(l=r(t),l===void 0&&(l=t),l===x_&&(l=void 0),this.autoFreeze_&&sy(l,!0),a){const o=[],u=[];Ps("Patches").generateReplacementPatches_(t,l,o,u),a(o,u)}return l}else Vn(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(u,...f)=>this.produceWithPatches(u,m=>t(m,...f));let a,l;return[this.produce(t,r,(u,f)=>{a=u,l=f}),a,l]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Ms(e)||Vn(8),Fl(e)&&(e=sB(e));const t=a4(this),r=Hg(e,void 0);return r[xn].isManual_=!0,qg(t),r}finishDraft(e,t){const r=e&&e[xn];(!r||!r.isManual_)&&Vn(9);const{scope_:a}=r;return n4(a,t),i4(void 0,a)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const l=t[r];if(l.path.length===0&&l.op==="replace"){e=l.value;break}}r>-1&&(t=t.slice(r+1));const a=Ps("Patches").applyPatches_;return Fl(e)?a(e,t):this.produce(e,l=>a(l,t))}};function Hg(e,t){const r=tu(e)?Ps("MapSet").proxyMap_(e,t):Mm(e)?Ps("MapSet").proxySet_(e,t):nB(e,t);return(t?t.scope_:y_()).drafts_.push(r),r}function sB(e){return Fl(e)||Vn(10,e),j_(e)}function j_(e){if(!Ms(e)||Pm(e))return e;const t=e[xn];let r,a=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Ig(e,t.scope_.immer_.useStrictShallowCopy_),a=t.scope_.immer_.shouldUseStrictIteration()}else r=Ig(e,!0);return Of(r,(l,o)=>{v_(r,l,j_(o))},a),t&&(t.finalized_=!1),r}var lB=new iB;lB.produce;var oB={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},w_=en({name:"legend",initialState:oB,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Et()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:a}=t.payload,l=Kn(e).payload.indexOf(r);l>-1&&(e.payload[l]=a)},prepare:Et()},removeLegendPayload:{reducer(e,t){var r=Kn(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:Et()}}}),{setLegendSize:l4,setLegendSettings:cB,addLegendPayload:N_,replaceLegendPayload:S_,removeLegendPayload:A_}=w_.actions,uB=w_.reducer,dB=["contextPayload"];function Vg(){return Vg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Vg.apply(null,arguments)}function o4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,a)}return r}function Hl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o4(Object(r),!0).forEach(function(a){fB(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o4(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function fB(e,t,r){return(t=mB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mB(e){var t=hB(e,"string");return typeof t=="symbol"?t:t+""}function hB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pB(e,t){if(e==null)return{};var r,a,l=xB(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function xB(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function gB(e){return e.value}function vB(e){var{contextPayload:t}=e,r=pB(e,dB),a=SE(t,e.payloadUniqBy,gB),l=Hl(Hl({},r),{},{payload:a});return v.isValidElement(e.content)?v.cloneElement(e.content,l):typeof e.content=="function"?v.createElement(e.content,l):v.createElement(oL,l)}function yB(e,t,r,a,l,o){var{layout:u,align:f,verticalAlign:m}=t,h,p;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(f==="center"&&u==="vertical"?h={left:((a||0)-o.width)/2}:h=f==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(m==="middle"?p={top:((l||0)-o.height)/2}:p=m==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),Hl(Hl({},h),p)}function bB(e){var t=bt();return v.useEffect(()=>{t(cB(e))},[t,e]),null}function jB(e){var t=bt();return v.useEffect(()=>(t(l4(e)),()=>{t(l4({width:0,height:0}))}),[t,e]),null}function wB(e,t,r,a){return e==="vertical"&&De(t)?{height:t}:e==="horizontal"?{width:r||a}:null}var NB={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function xs(e){var t=er(e,NB),r=r9(),a=e7(),l=Wz(),{width:o,height:u,wrapperStyle:f,portal:m}=t,[h,p]=CE([r]),x=ay(),b=iy();if(x==null||b==null)return null;var j=x-(l?.left||0)-(l?.right||0),w=wB(t.layout,u,o,j),N=m?f:Hl(Hl({position:"absolute",width:w?.width||o||"auto",height:w?.height||u||"auto"},yB(f,t,l,x,b,h)),f),S=m??a;if(S==null||r==null)return null;var E=v.createElement("div",{className:"recharts-legend-wrapper",style:N,ref:p},v.createElement(bB,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!m&&v.createElement(jB,{width:h.width,height:h.height}),v.createElement(vB,Vg({},t,w,{margin:l,chartWidth:x,chartHeight:b,contextPayload:r})));return kv.createPortal(E,S)}xs.displayName="Legend";function Yg(){return Yg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Yg.apply(null,arguments)}function c4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,a)}return r}function Px(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?c4(Object(r),!0).forEach(function(a){SB(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c4(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function SB(e,t,r){return(t=AB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AB(e){var t=EB(e,"string");return typeof t=="symbol"?t:t+""}function EB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _B(e){return Array.isArray(e)&&ca(e[0])&&ca(e[1])?e.join(" ~ "):e}var OB=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:a={},labelStyle:l={},payload:o,formatter:u,itemSorter:f,wrapperClassName:m,labelClassName:h,label:p,labelFormatter:x,accessibilityLayer:b=!1}=e,j=()=>{if(o&&o.length){var k={padding:0,margin:0},L=(f?xm(o,f):o).map(($,G)=>{if($.type==="none")return null;var J=$.formatter||u||_B,{value:ue,name:F}=$,q=ue,fe=F;if(J){var z=J(ue,F,$,G,o);if(Array.isArray(z))[q,fe]=z;else if(z!=null)q=z;else return null}var Y=Px({display:"block",paddingTop:4,paddingBottom:4,color:$.color||"#000"},a);return v.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(G),style:Y},ca(fe)?v.createElement("span",{className:"recharts-tooltip-item-name"},fe):null,ca(fe)?v.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,v.createElement("span",{className:"recharts-tooltip-item-value"},q),v.createElement("span",{className:"recharts-tooltip-item-unit"},$.unit||""))});return v.createElement("ul",{className:"recharts-tooltip-item-list",style:k},L)}return null},w=Px({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),N=Px({margin:0},l),S=!kt(p),E=S?p:"",O=rt("recharts-default-tooltip",m),_=rt("recharts-tooltip-label",h);S&&x&&o!==void 0&&o!==null&&(E=x(p,o));var T=b?{role:"status","aria-live":"assertive"}:{};return v.createElement("div",Yg({className:O,style:w},T),v.createElement("p",{className:_,style:N},v.isValidElement(E)?E:"".concat(E)),j())},oc="recharts-tooltip-wrapper",CB={visibility:"hidden"};function kB(e){var{coordinate:t,translateX:r,translateY:a}=e;return rt(oc,{["".concat(oc,"-right")]:De(r)&&t&&De(t.x)&&r>=t.x,["".concat(oc,"-left")]:De(r)&&t&&De(t.x)&&r<t.x,["".concat(oc,"-bottom")]:De(a)&&t&&De(t.y)&&a>=t.y,["".concat(oc,"-top")]:De(a)&&t&&De(t.y)&&a<t.y})}function u4(e){var{allowEscapeViewBox:t,coordinate:r,key:a,offsetTopLeft:l,position:o,reverseDirection:u,tooltipDimension:f,viewBox:m,viewBoxDimension:h}=e;if(o&&De(o[a]))return o[a];var p=r[a]-f-(l>0?l:0),x=r[a]+l;if(t[a])return u[a]?p:x;var b=m[a];if(b==null)return 0;if(u[a]){var j=p,w=b;return j<w?Math.max(x,b):Math.max(p,b)}if(h==null)return 0;var N=x+f,S=b+h;return N>S?Math.max(p,b):Math.max(x,b)}function TB(e){var{translateX:t,translateY:r,useTranslate3d:a}=e;return{transform:a?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function MB(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:a,position:l,reverseDirection:o,tooltipBox:u,useTranslate3d:f,viewBox:m}=e,h,p,x;return u.height>0&&u.width>0&&r?(p=u4({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:a,position:l,reverseDirection:o,tooltipDimension:u.width,viewBox:m,viewBoxDimension:m.width}),x=u4({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:a,position:l,reverseDirection:o,tooltipDimension:u.height,viewBox:m,viewBoxDimension:m.height}),h=TB({translateX:p,translateY:x,useTranslate3d:f})):h=CB,{cssProperties:h,cssClasses:kB({translateX:p,translateY:x,coordinate:r})}}function d4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,a)}return r}function Hd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?d4(Object(r),!0).forEach(function(a){Kg(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d4(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Kg(e,t,r){return(t=PB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PB(e){var t=DB(e,"string");return typeof t=="symbol"?t:t+""}function DB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class RB extends v.PureComponent{constructor(){super(...arguments),Kg(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Kg(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,a,l,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(a=this.props.coordinate)===null||a===void 0?void 0:a.x)!==null&&r!==void 0?r:0,y:(l=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&l!==void 0?l:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:a,animationEasing:l,children:o,coordinate:u,hasPayload:f,isAnimationActive:m,offset:h,position:p,reverseDirection:x,useTranslate3d:b,viewBox:j,wrapperStyle:w,lastBoundingBox:N,innerRef:S,hasPortalFromProps:E}=this.props,{cssClasses:O,cssProperties:_}=MB({allowEscapeViewBox:r,coordinate:u,offsetTopLeft:h,position:p,reverseDirection:x,tooltipBox:{height:N.height,width:N.width},useTranslate3d:b,viewBox:j}),T=E?{}:Hd(Hd({transition:m&&t?"transform ".concat(a,"ms ").concat(l):void 0},_),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&f?"visible":"hidden",position:"absolute",top:0,left:0}),k=Hd(Hd({},T),{},{visibility:!this.state.dismissed&&t&&f?"visible":"hidden"},w);return v.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:O,style:k,ref:S},o)}}var E_=()=>{var e;return(e=Te(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function Gg(){return Gg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Gg.apply(null,arguments)}function f4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,a)}return r}function m4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f4(Object(r),!0).forEach(function(a){LB(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f4(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function LB(e,t,r){return(t=zB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zB(e){var t=BB(e,"string");return typeof t=="symbol"?t:t+""}function BB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var h4={curveBasisClosed:y7,curveBasisOpen:b7,curveBasis:v7,curveBumpX:a7,curveBumpY:i7,curveLinearClosed:j7,curveLinear:hm,curveMonotoneX:w7,curveMonotoneY:N7,curveNatural:S7,curveStep:A7,curveStepAfter:_7,curveStepBefore:E7},Tf=e=>Ht(e.x)&&Ht(e.y),p4=e=>e.base!=null&&Tf(e.base)&&Tf(e),cc=e=>e.x,uc=e=>e.y,$B=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Kc(e));return(r==="curveMonotone"||r==="curveBump")&&t?h4["".concat(r).concat(t==="vertical"?"Y":"X")]:h4[r]||hm},IB=e=>{var{type:t="linear",points:r=[],baseLine:a,layout:l,connectNulls:o=!1}=e,u=$B(t,l),f=o?r.filter(Tf):r,m;if(Array.isArray(a)){var h=r.map((j,w)=>m4(m4({},j),{},{base:a[w]}));l==="vertical"?m=Ld().y(uc).x1(cc).x0(j=>j.base.x):m=Ld().x(cc).y1(uc).y0(j=>j.base.y);var p=m.defined(p4).curve(u),x=o?h.filter(p4):h;return p(x)}l==="vertical"&&De(a)?m=Ld().y(uc).x1(cc).x0(a):De(a)?m=Ld().x(cc).y1(uc).y0(a):m=JA().x(cc).y(uc);var b=m.defined(Tf).curve(u);return b(f)},oy=e=>{var{className:t,points:r,path:a,pathRef:l}=e;if((!r||!r.length)&&!a)return null;var o=r&&r.length?IB(e):a;return v.createElement("path",Gg({},pn(e),Vv(e),{className:rt("recharts-curve",t),d:o===null?void 0:o,ref:l}))},UB=["x","y","top","left","width","height","className"];function Wg(){return Wg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Wg.apply(null,arguments)}function x4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,a)}return r}function qB(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x4(Object(r),!0).forEach(function(a){FB(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x4(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function FB(e,t,r){return(t=HB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HB(e){var t=VB(e,"string");return typeof t=="symbol"?t:t+""}function VB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function YB(e,t){if(e==null)return{};var r,a,l=KB(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function KB(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var GB=(e,t,r,a,l,o)=>"M".concat(e,",").concat(l,"v").concat(a,"M").concat(o,",").concat(t,"h").concat(r),WB=e=>{var{x:t=0,y:r=0,top:a=0,left:l=0,width:o=0,height:u=0,className:f}=e,m=YB(e,UB),h=qB({x:t,y:r,top:a,left:l,width:o,height:u},m);return!De(t)||!De(r)||!De(o)||!De(u)||!De(a)||!De(l)?null:v.createElement("path",Wg({},$r(h),{className:rt("recharts-cross",f),d:GB(t,r,o,u,a,l)}))};function QB(e,t,r,a){var l=a/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-l:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-l,width:e==="horizontal"?a:r.width-1,height:e==="horizontal"?r.height-1:a}}function g4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,a)}return r}function v4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g4(Object(r),!0).forEach(function(a){XB(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g4(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function XB(e,t,r){return(t=ZB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZB(e){var t=JB(e,"string");return typeof t=="symbol"?t:t+""}function JB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var e$=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),__=(e,t,r)=>e.map(a=>"".concat(e$(a)," ").concat(t,"ms ").concat(r)).join(","),t$=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,a)=>r.filter(l=>a.includes(l))),Tc=(e,t)=>Object.keys(t).reduce((r,a)=>v4(v4({},r),{},{[a]:e(a,t[a])}),{});function y4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,a)}return r}function rr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?y4(Object(r),!0).forEach(function(a){r$(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y4(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function r$(e,t,r){return(t=n$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n$(e){var t=a$(e,"string");return typeof t=="symbol"?t:t+""}function a$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mf=(e,t,r)=>e+(t-e)*r,Qg=e=>{var{from:t,to:r}=e;return t!==r},O_=(e,t,r)=>{var a=Tc((l,o)=>{if(Qg(o)){var[u,f]=e(o.from,o.to,o.velocity);return rr(rr({},o),{},{from:u,velocity:f})}return o},t);return r<1?Tc((l,o)=>Qg(o)?rr(rr({},o),{},{velocity:Mf(o.velocity,a[l].velocity,r),from:Mf(o.from,a[l].from,r)}):o,t):O_(e,a,r-1)};function i$(e,t,r,a,l,o){var u,f=a.reduce((b,j)=>rr(rr({},b),{},{[j]:{from:e[j],velocity:0,to:t[j]}}),{}),m=()=>Tc((b,j)=>j.from,f),h=()=>!Object.values(f).filter(Qg).length,p=null,x=b=>{u||(u=b);var j=b-u,w=j/r.dt;f=O_(r,f,w),l(rr(rr(rr({},e),t),m())),u=b,h()||(p=o.setTimeout(x))};return()=>(p=o.setTimeout(x),()=>{var b;(b=p)===null||b===void 0||b()})}function s$(e,t,r,a,l,o,u){var f=null,m=l.reduce((x,b)=>rr(rr({},x),{},{[b]:[e[b],t[b]]}),{}),h,p=x=>{h||(h=x);var b=(x-h)/a,j=Tc((N,S)=>Mf(...S,r(b)),m);if(o(rr(rr(rr({},e),t),j)),b<1)f=u.setTimeout(p);else{var w=Tc((N,S)=>Mf(...S,r(1)),m);o(rr(rr(rr({},e),t),w))}};return()=>(f=u.setTimeout(p),()=>{var x;(x=f)===null||x===void 0||x()})}const l$=(e,t,r,a,l,o)=>{var u=t$(e,t);return r==null?()=>(l(rr(rr({},e),t)),()=>{}):r.isStepper===!0?i$(e,t,r,u,l,o):s$(e,t,r,a,u,l,o)};var Pf=1e-4,C_=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],k_=(e,t)=>e.map((r,a)=>r*t**a).reduce((r,a)=>r+a),b4=(e,t)=>r=>{var a=C_(e,t);return k_(a,r)},o$=(e,t)=>r=>{var a=C_(e,t),l=[...a.map((o,u)=>o*u).slice(1),0];return k_(l,r)},c$=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var l,o=r[0].split("(");if(o[0]==="cubic-bezier"&&((l=o[1])===null||l===void 0?void 0:l.split(")")[0].split(",").length)===4){var u=o[1].split(")")[0].split(",").map(f=>parseFloat(f));return[u[0],u[1],u[2],u[3]]}}}return r.length===4?r:[0,0,1,1]},u$=(e,t,r,a)=>{var l=b4(e,r),o=b4(t,a),u=o$(e,r),f=h=>h>1?1:h<0?0:h,m=h=>{for(var p=h>1?1:h,x=p,b=0;b<8;++b){var j=l(x)-p,w=u(x);if(Math.abs(j-p)<Pf||w<Pf)return o(x);x=f(x-j/w)}return o(x)};return m.isStepper=!1,m},j4=function(){return u$(...c$(...arguments))},d$=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:a=8,dt:l=17}=t,o=(u,f,m)=>{var h=-(u-f)*r,p=m*a,x=m+(h-p)*l/1e3,b=m*l/1e3+u;return Math.abs(b-f)<Pf&&Math.abs(x)<Pf?[f,0]:[b,x]};return o.isStepper=!0,o.dt=l,o},f$=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return j4(e);case"spring":return d$();default:if(e.split("(")[0]==="cubic-bezier")return j4(e)}return typeof e=="function"?e:null};function m$(e){var t,r=()=>null,a=!1,l=null,o=u=>{if(!a){if(Array.isArray(u)){if(!u.length)return;var f=u,[m,...h]=f;if(typeof m=="number"){l=e.setTimeout(o.bind(null,h),m);return}o(m),l=e.setTimeout(o.bind(null,h));return}typeof u=="string"&&(t=u,r(t)),typeof u=="object"&&(t=u,r(t)),typeof u=="function"&&u()}};return{stop:()=>{a=!0},start:u=>{a=!1,l&&(l(),l=null),o(u)},subscribe:u=>(r=u,()=>{r=()=>null}),getTimeoutController:()=>e}}class h${setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=performance.now(),l=null,o=u=>{u-a>=r?t(u):typeof requestAnimationFrame=="function"&&(l=requestAnimationFrame(o))};return l=requestAnimationFrame(o),()=>{l!=null&&cancelAnimationFrame(l)}}}function p$(){return m$(new h$)}var x$=v.createContext(p$);function g$(e,t){var r=v.useContext(x$);return v.useMemo(()=>t??r(e),[e,t,r])}var v$=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),ru={devToolsEnabled:!1,isSsr:v$()},y$={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},w4={t:0},Dx={t:1};function nu(e){var t=er(e,y$),{isActive:r,canBegin:a,duration:l,easing:o,begin:u,onAnimationEnd:f,onAnimationStart:m,children:h}=t,p=r==="auto"?!ru.isSsr:r,x=g$(t.animationId,t.animationManager),[b,j]=v.useState(p?w4:Dx),w=v.useRef(null);return v.useEffect(()=>{p||j(Dx)},[p]),v.useEffect(()=>{if(!p||!a)return Gc;var N=l$(w4,Dx,f$(o),l,j,x.getTimeoutController()),S=()=>{w.current=N()};return x.start([m,u,S,l,f]),()=>{x.stop(),w.current&&w.current(),f()}},[p,a,l,o,u,m,f,x]),h(b.t)}function au(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=v.useRef(Sc(t)),a=v.useRef(e);return a.current!==e&&(r.current=Sc(t),a.current=e),r.current}var b$=["radius"],j$=["radius"];function N4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,a)}return r}function S4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?N4(Object(r),!0).forEach(function(a){w$(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N4(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function w$(e,t,r){return(t=N$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N$(e){var t=S$(e,"string");return typeof t=="symbol"?t:t+""}function S$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Df(){return Df=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Df.apply(null,arguments)}function A4(e,t){if(e==null)return{};var r,a,l=A$(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function A$(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var E4=(e,t,r,a,l)=>{var o=Math.min(Math.abs(r)/2,Math.abs(a)/2),u=a>=0?1:-1,f=r>=0?1:-1,m=a>=0&&r>=0||a<0&&r<0?1:0,h;if(o>0&&l instanceof Array){for(var p=[0,0,0,0],x=0,b=4;x<b;x++)p[x]=l[x]>o?o:l[x];h="M".concat(e,",").concat(t+u*p[0]),p[0]>0&&(h+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(m,",").concat(e+f*p[0],",").concat(t)),h+="L ".concat(e+r-f*p[1],",").concat(t),p[1]>0&&(h+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(m,`,
        `).concat(e+r,",").concat(t+u*p[1])),h+="L ".concat(e+r,",").concat(t+a-u*p[2]),p[2]>0&&(h+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(m,`,
        `).concat(e+r-f*p[2],",").concat(t+a)),h+="L ".concat(e+f*p[3],",").concat(t+a),p[3]>0&&(h+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(m,`,
        `).concat(e,",").concat(t+a-u*p[3])),h+="Z"}else if(o>0&&l===+l&&l>0){var j=Math.min(o,l);h="M ".concat(e,",").concat(t+u*j,`
            A `).concat(j,",").concat(j,",0,0,").concat(m,",").concat(e+f*j,",").concat(t,`
            L `).concat(e+r-f*j,",").concat(t,`
            A `).concat(j,",").concat(j,",0,0,").concat(m,",").concat(e+r,",").concat(t+u*j,`
            L `).concat(e+r,",").concat(t+a-u*j,`
            A `).concat(j,",").concat(j,",0,0,").concat(m,",").concat(e+r-f*j,",").concat(t+a,`
            L `).concat(e+f*j,",").concat(t+a,`
            A `).concat(j,",").concat(j,",0,0,").concat(m,",").concat(e,",").concat(t+a-u*j," Z")}else h="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(a," h ").concat(-r," Z");return h},_4={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},T_=e=>{var t=er(e,_4),r=v.useRef(null),[a,l]=v.useState(-1);v.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var V=r.current.getTotalLength();V&&l(V)}catch{}},[]);var{x:o,y:u,width:f,height:m,radius:h,className:p}=t,{animationEasing:x,animationDuration:b,animationBegin:j,isAnimationActive:w,isUpdateAnimationActive:N}=t,S=v.useRef(f),E=v.useRef(m),O=v.useRef(o),_=v.useRef(u),T=v.useMemo(()=>({x:o,y:u,width:f,height:m,radius:h}),[o,u,f,m,h]),k=au(T,"rectangle-");if(o!==+o||u!==+u||f!==+f||m!==+m||f===0||m===0)return null;var L=rt("recharts-rectangle",p);if(!N){var $=$r(t),{radius:G}=$,J=A4($,b$);return v.createElement("path",Df({},J,{radius:typeof h=="number"?h:void 0,className:L,d:E4(o,u,f,m,h)}))}var ue=S.current,F=E.current,q=O.current,fe=_.current,z="0px ".concat(a===-1?1:a,"px"),Y="".concat(a,"px 0px"),C=__(["strokeDasharray"],b,typeof x=="string"?x:_4.animationEasing);return v.createElement(nu,{animationId:k,key:k,canBegin:a>0,duration:b,easing:x,isActive:N,begin:j},V=>{var ae=_t(ue,f,V),ve=_t(F,m,V),ce=_t(q,o,V),R=_t(fe,u,V);r.current&&(S.current=ae,E.current=ve,O.current=ce,_.current=R);var K;w?V>0?K={transition:C,strokeDasharray:Y}:K={strokeDasharray:z}:K={strokeDasharray:Y};var re=$r(t),{radius:W}=re,le=A4(re,j$);return v.createElement("path",Df({},le,{radius:typeof h=="number"?h:void 0,className:L,d:E4(ce,R,ae,ve,h),ref:r,style:S4(S4({},K),t.style)}))})};function O4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,a)}return r}function C4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?O4(Object(r),!0).forEach(function(a){E$(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O4(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function E$(e,t,r){return(t=_$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _$(e){var t=O$(e,"string");return typeof t=="symbol"?t:t+""}function O$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rf=Math.PI/180,C$=e=>e*180/Math.PI,Xt=(e,t,r,a)=>({x:e+Math.cos(-Rf*a)*r,y:t+Math.sin(-Rf*a)*r}),M_=function(t,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(a.left||0)-(a.right||0)),Math.abs(r-(a.top||0)-(a.bottom||0)))/2},k$=(e,t)=>{var{x:r,y:a}=e,{x:l,y:o}=t;return Math.sqrt((r-l)**2+(a-o)**2)},T$=(e,t)=>{var{x:r,y:a}=e,{cx:l,cy:o}=t,u=k$({x:r,y:a},{x:l,y:o});if(u<=0)return{radius:u,angle:0};var f=(r-l)/u,m=Math.acos(f);return a>o&&(m=2*Math.PI-m),{radius:u,angle:C$(m),angleInRadian:m}},M$=e=>{var{startAngle:t,endAngle:r}=e,a=Math.floor(t/360),l=Math.floor(r/360),o=Math.min(a,l);return{startAngle:t-o*360,endAngle:r-o*360}},P$=(e,t)=>{var{startAngle:r,endAngle:a}=t,l=Math.floor(r/360),o=Math.floor(a/360),u=Math.min(l,o);return e+u*360},D$=(e,t)=>{var{chartX:r,chartY:a}=e,{radius:l,angle:o}=T$({x:r,y:a},t),{innerRadius:u,outerRadius:f}=t;if(l<u||l>f||l===0)return null;var{startAngle:m,endAngle:h}=M$(t),p=o,x;if(m<=h){for(;p>h;)p-=360;for(;p<m;)p+=360;x=p>=m&&p<=h}else{for(;p>m;)p-=360;for(;p<h;)p+=360;x=p>=h&&p<=m}return x?C4(C4({},t),{},{radius:l,angle:P$(p,t)}):null};function P_(e){var{cx:t,cy:r,radius:a,startAngle:l,endAngle:o}=e,u=Xt(t,r,a,l),f=Xt(t,r,a,o);return{points:[u,f],cx:t,cy:r,radius:a,startAngle:l,endAngle:o}}function Xg(){return Xg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Xg.apply(null,arguments)}var R$=(e,t)=>{var r=hr(t-e),a=Math.min(Math.abs(t-e),359.999);return r*a},Vd=e=>{var{cx:t,cy:r,radius:a,angle:l,sign:o,isExternal:u,cornerRadius:f,cornerIsExternal:m}=e,h=f*(u?1:-1)+a,p=Math.asin(f/h)/Rf,x=m?l:l+o*p,b=Xt(t,r,h,x),j=Xt(t,r,a,x),w=m?l-o*p:l,N=Xt(t,r,h*Math.cos(p*Rf),w);return{center:b,circleTangency:j,lineTangency:N,theta:p}},D_=e=>{var{cx:t,cy:r,innerRadius:a,outerRadius:l,startAngle:o,endAngle:u}=e,f=R$(o,u),m=o+f,h=Xt(t,r,l,o),p=Xt(t,r,l,m),x="M ".concat(h.x,",").concat(h.y,`
    A `).concat(l,",").concat(l,`,0,
    `).concat(+(Math.abs(f)>180),",").concat(+(o>m),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(a>0){var b=Xt(t,r,a,o),j=Xt(t,r,a,m);x+="L ".concat(j.x,",").concat(j.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(f)>180),",").concat(+(o<=m),`,
            `).concat(b.x,",").concat(b.y," Z")}else x+="L ".concat(t,",").concat(r," Z");return x},L$=e=>{var{cx:t,cy:r,innerRadius:a,outerRadius:l,cornerRadius:o,forceCornerRadius:u,cornerIsExternal:f,startAngle:m,endAngle:h}=e,p=hr(h-m),{circleTangency:x,lineTangency:b,theta:j}=Vd({cx:t,cy:r,radius:l,angle:m,sign:p,cornerRadius:o,cornerIsExternal:f}),{circleTangency:w,lineTangency:N,theta:S}=Vd({cx:t,cy:r,radius:l,angle:h,sign:-p,cornerRadius:o,cornerIsExternal:f}),E=f?Math.abs(m-h):Math.abs(m-h)-j-S;if(E<0)return u?"M ".concat(b.x,",").concat(b.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):D_({cx:t,cy:r,innerRadius:a,outerRadius:l,startAngle:m,endAngle:h});var O="M ".concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(l,",").concat(l,",0,").concat(+(E>180),",").concat(+(p<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(N.x,",").concat(N.y,`
  `);if(a>0){var{circleTangency:_,lineTangency:T,theta:k}=Vd({cx:t,cy:r,radius:a,angle:m,sign:p,isExternal:!0,cornerRadius:o,cornerIsExternal:f}),{circleTangency:L,lineTangency:$,theta:G}=Vd({cx:t,cy:r,radius:a,angle:h,sign:-p,isExternal:!0,cornerRadius:o,cornerIsExternal:f}),J=f?Math.abs(m-h):Math.abs(m-h)-k-G;if(J<0&&o===0)return"".concat(O,"L").concat(t,",").concat(r,"Z");O+="L".concat($.x,",").concat($.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(L.x,",").concat(L.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(J>180),",").concat(+(p>0),",").concat(_.x,",").concat(_.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(T.x,",").concat(T.y,"Z")}else O+="L".concat(t,",").concat(r,"Z");return O},z$={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},R_=e=>{var t=er(e,z$),{cx:r,cy:a,innerRadius:l,outerRadius:o,cornerRadius:u,forceCornerRadius:f,cornerIsExternal:m,startAngle:h,endAngle:p,className:x}=t;if(o<l||h===p)return null;var b=rt("recharts-sector",x),j=o-l,w=kr(u,j,0,!0),N;return w>0&&Math.abs(h-p)<360?N=L$({cx:r,cy:a,innerRadius:l,outerRadius:o,cornerRadius:Math.min(w,j/2),forceCornerRadius:f,cornerIsExternal:m,startAngle:h,endAngle:p}):N=D_({cx:r,cy:a,innerRadius:l,outerRadius:o,startAngle:h,endAngle:p}),v.createElement("path",Xg({},$r(t),{className:b,d:N}))};function B$(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(hE(t)){if(e==="centric"){var{cx:a,cy:l,innerRadius:o,outerRadius:u,angle:f}=t,m=Xt(a,l,o,f),h=Xt(a,l,u,f);return[{x:m.x,y:m.y},{x:h.x,y:h.y}]}return P_(t)}}var Rx={},Lx={},zx={},k4;function $$(){return k4||(k4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=EE();function r(a){return t.isSymbol(a)?NaN:Number(a)}e.toNumber=r})(zx)),zx}var T4;function I$(){return T4||(T4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$$();function r(a){return a?(a=t.toNumber(a),a===1/0||a===-1/0?(a<0?-1:1)*Number.MAX_VALUE:a===a?a:0):a===0?a:0}e.toFinite=r})(Lx)),Lx}var M4;function U$(){return M4||(M4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_E(),r=I$();function a(l,o,u){u&&typeof u!="number"&&t.isIterateeCall(l,o,u)&&(o=u=void 0),l=r.toFinite(l),o===void 0?(o=l,l=0):o=r.toFinite(o),u=u===void 0?l<o?1:-1:r.toFinite(u);const f=Math.max(Math.ceil((o-l)/(u||1)),0),m=new Array(f);for(let h=0;h<f;h++)m[h]=l,l+=u;return m}e.range=a})(Rx)),Rx}var Bx,P4;function q$(){return P4||(P4=1,Bx=U$().range),Bx}var F$=q$();const L_=Qa(F$);function Li(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function H$(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function cy(e){let t,r,a;e.length!==2?(t=Li,r=(f,m)=>Li(e(f),m),a=(f,m)=>e(f)-m):(t=e===Li||e===H$?e:V$,r=e,a=e);function l(f,m,h=0,p=f.length){if(h<p){if(t(m,m)!==0)return p;do{const x=h+p>>>1;r(f[x],m)<0?h=x+1:p=x}while(h<p)}return h}function o(f,m,h=0,p=f.length){if(h<p){if(t(m,m)!==0)return p;do{const x=h+p>>>1;r(f[x],m)<=0?h=x+1:p=x}while(h<p)}return h}function u(f,m,h=0,p=f.length){const x=l(f,m,h,p-1);return x>h&&a(f[x-1],m)>-a(f[x],m)?x-1:x}return{left:l,center:u,right:o}}function V$(){return 0}function z_(e){return e===null?NaN:+e}function*Y$(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const K$=cy(Li),iu=K$.right;cy(z_).center;class D4 extends Map{constructor(t,r=Q$){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[a,l]of t)this.set(a,l)}get(t){return super.get(R4(this,t))}has(t){return super.has(R4(this,t))}set(t,r){return super.set(G$(this,t),r)}delete(t){return super.delete(W$(this,t))}}function R4({_intern:e,_key:t},r){const a=t(r);return e.has(a)?e.get(a):r}function G$({_intern:e,_key:t},r){const a=t(r);return e.has(a)?e.get(a):(e.set(a,r),r)}function W$({_intern:e,_key:t},r){const a=t(r);return e.has(a)&&(r=e.get(a),e.delete(a)),r}function Q$(e){return e!==null&&typeof e=="object"?e.valueOf():e}function X$(e=Li){if(e===Li)return B_;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const a=e(t,r);return a||a===0?a:(e(r,r)===0)-(e(t,t)===0)}}function B_(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Z$=Math.sqrt(50),J$=Math.sqrt(10),eI=Math.sqrt(2);function Lf(e,t,r){const a=(t-e)/Math.max(0,r),l=Math.floor(Math.log10(a)),o=a/Math.pow(10,l),u=o>=Z$?10:o>=J$?5:o>=eI?2:1;let f,m,h;return l<0?(h=Math.pow(10,-l)/u,f=Math.round(e*h),m=Math.round(t*h),f/h<e&&++f,m/h>t&&--m,h=-h):(h=Math.pow(10,l)*u,f=Math.round(e/h),m=Math.round(t/h),f*h<e&&++f,m*h>t&&--m),m<f&&.5<=r&&r<2?Lf(e,t,r*2):[f,m,h]}function Zg(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const a=t<e,[l,o,u]=a?Lf(t,e,r):Lf(e,t,r);if(!(o>=l))return[];const f=o-l+1,m=new Array(f);if(a)if(u<0)for(let h=0;h<f;++h)m[h]=(o-h)/-u;else for(let h=0;h<f;++h)m[h]=(o-h)*u;else if(u<0)for(let h=0;h<f;++h)m[h]=(l+h)/-u;else for(let h=0;h<f;++h)m[h]=(l+h)*u;return m}function Jg(e,t,r){return t=+t,e=+e,r=+r,Lf(e,t,r)[2]}function ev(e,t,r){t=+t,e=+e,r=+r;const a=t<e,l=a?Jg(t,e,r):Jg(e,t,r);return(a?-1:1)*(l<0?1/-l:l)}function L4(e,t){let r;for(const a of e)a!=null&&(r<a||r===void 0&&a>=a)&&(r=a);return r}function z4(e,t){let r;for(const a of e)a!=null&&(r>a||r===void 0&&a>=a)&&(r=a);return r}function $_(e,t,r=0,a=1/0,l){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),a=Math.floor(Math.min(e.length-1,a)),!(r<=t&&t<=a))return e;for(l=l===void 0?B_:X$(l);a>r;){if(a-r>600){const m=a-r+1,h=t-r+1,p=Math.log(m),x=.5*Math.exp(2*p/3),b=.5*Math.sqrt(p*x*(m-x)/m)*(h-m/2<0?-1:1),j=Math.max(r,Math.floor(t-h*x/m+b)),w=Math.min(a,Math.floor(t+(m-h)*x/m+b));$_(e,t,j,w,l)}const o=e[t];let u=r,f=a;for(dc(e,r,t),l(e[a],o)>0&&dc(e,r,a);u<f;){for(dc(e,u,f),++u,--f;l(e[u],o)<0;)++u;for(;l(e[f],o)>0;)--f}l(e[r],o)===0?dc(e,r,f):(++f,dc(e,f,a)),f<=t&&(r=f+1),t<=f&&(a=f-1)}return e}function dc(e,t,r){const a=e[t];e[t]=e[r],e[r]=a}function tI(e,t,r){if(e=Float64Array.from(Y$(e)),!(!(a=e.length)||isNaN(t=+t))){if(t<=0||a<2)return z4(e);if(t>=1)return L4(e);var a,l=(a-1)*t,o=Math.floor(l),u=L4($_(e,o).subarray(0,o+1)),f=z4(e.subarray(o+1));return u+(f-u)*(l-o)}}function rI(e,t,r=z_){if(!(!(a=e.length)||isNaN(t=+t))){if(t<=0||a<2)return+r(e[0],0,e);if(t>=1)return+r(e[a-1],a-1,e);var a,l=(a-1)*t,o=Math.floor(l),u=+r(e[o],o,e),f=+r(e[o+1],o+1,e);return u+(f-u)*(l-o)}}function nI(e,t,r){e=+e,t=+t,r=(l=arguments.length)<2?(t=e,e=0,1):l<3?1:+r;for(var a=-1,l=Math.max(0,Math.ceil((t-e)/r))|0,o=new Array(l);++a<l;)o[a]=e+a*r;return o}function zn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ei(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const tv=Symbol("implicit");function uy(){var e=new D4,t=[],r=[],a=tv;function l(o){let u=e.get(o);if(u===void 0){if(a!==tv)return a;e.set(o,u=t.push(o)-1)}return r[u%r.length]}return l.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new D4;for(const u of o)e.has(u)||e.set(u,t.push(u)-1);return l},l.range=function(o){return arguments.length?(r=Array.from(o),l):r.slice()},l.unknown=function(o){return arguments.length?(a=o,l):a},l.copy=function(){return uy(t,r).unknown(a)},zn.apply(l,arguments),l}function dy(){var e=uy().unknown(void 0),t=e.domain,r=e.range,a=0,l=1,o,u,f=!1,m=0,h=0,p=.5;delete e.unknown;function x(){var b=t().length,j=l<a,w=j?l:a,N=j?a:l;o=(N-w)/Math.max(1,b-m+h*2),f&&(o=Math.floor(o)),w+=(N-w-o*(b-m))*p,u=o*(1-m),f&&(w=Math.round(w),u=Math.round(u));var S=nI(b).map(function(E){return w+o*E});return r(j?S.reverse():S)}return e.domain=function(b){return arguments.length?(t(b),x()):t()},e.range=function(b){return arguments.length?([a,l]=b,a=+a,l=+l,x()):[a,l]},e.rangeRound=function(b){return[a,l]=b,a=+a,l=+l,f=!0,x()},e.bandwidth=function(){return u},e.step=function(){return o},e.round=function(b){return arguments.length?(f=!!b,x()):f},e.padding=function(b){return arguments.length?(m=Math.min(1,h=+b),x()):m},e.paddingInner=function(b){return arguments.length?(m=Math.min(1,b),x()):m},e.paddingOuter=function(b){return arguments.length?(h=+b,x()):h},e.align=function(b){return arguments.length?(p=Math.max(0,Math.min(1,b)),x()):p},e.copy=function(){return dy(t(),[a,l]).round(f).paddingInner(m).paddingOuter(h).align(p)},zn.apply(x(),arguments)}function I_(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return I_(t())},e}function aI(){return I_(dy.apply(null,arguments).paddingInner(1))}function fy(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function U_(e,t){var r=Object.create(e.prototype);for(var a in t)r[a]=t[a];return r}function su(){}var Mc=.7,zf=1/Mc,Ll="\\s*([+-]?\\d+)\\s*",Pc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",oa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",iI=/^#([0-9a-f]{3,8})$/,sI=new RegExp(`^rgb\\(${Ll},${Ll},${Ll}\\)$`),lI=new RegExp(`^rgb\\(${oa},${oa},${oa}\\)$`),oI=new RegExp(`^rgba\\(${Ll},${Ll},${Ll},${Pc}\\)$`),cI=new RegExp(`^rgba\\(${oa},${oa},${oa},${Pc}\\)$`),uI=new RegExp(`^hsl\\(${Pc},${oa},${oa}\\)$`),dI=new RegExp(`^hsla\\(${Pc},${oa},${oa},${Pc}\\)$`),B4={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};fy(su,Dc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:$4,formatHex:$4,formatHex8:fI,formatHsl:mI,formatRgb:I4,toString:I4});function $4(){return this.rgb().formatHex()}function fI(){return this.rgb().formatHex8()}function mI(){return q_(this).formatHsl()}function I4(){return this.rgb().formatRgb()}function Dc(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=iI.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?U4(t):r===3?new Qr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Yd(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Yd(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=sI.exec(e))?new Qr(t[1],t[2],t[3],1):(t=lI.exec(e))?new Qr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=oI.exec(e))?Yd(t[1],t[2],t[3],t[4]):(t=cI.exec(e))?Yd(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=uI.exec(e))?H4(t[1],t[2]/100,t[3]/100,1):(t=dI.exec(e))?H4(t[1],t[2]/100,t[3]/100,t[4]):B4.hasOwnProperty(e)?U4(B4[e]):e==="transparent"?new Qr(NaN,NaN,NaN,0):null}function U4(e){return new Qr(e>>16&255,e>>8&255,e&255,1)}function Yd(e,t,r,a){return a<=0&&(e=t=r=NaN),new Qr(e,t,r,a)}function hI(e){return e instanceof su||(e=Dc(e)),e?(e=e.rgb(),new Qr(e.r,e.g,e.b,e.opacity)):new Qr}function rv(e,t,r,a){return arguments.length===1?hI(e):new Qr(e,t,r,a??1)}function Qr(e,t,r,a){this.r=+e,this.g=+t,this.b=+r,this.opacity=+a}fy(Qr,rv,U_(su,{brighter(e){return e=e==null?zf:Math.pow(zf,e),new Qr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Mc:Math.pow(Mc,e),new Qr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Qr(_s(this.r),_s(this.g),_s(this.b),Bf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:q4,formatHex:q4,formatHex8:pI,formatRgb:F4,toString:F4}));function q4(){return`#${js(this.r)}${js(this.g)}${js(this.b)}`}function pI(){return`#${js(this.r)}${js(this.g)}${js(this.b)}${js((isNaN(this.opacity)?1:this.opacity)*255)}`}function F4(){const e=Bf(this.opacity);return`${e===1?"rgb(":"rgba("}${_s(this.r)}, ${_s(this.g)}, ${_s(this.b)}${e===1?")":`, ${e})`}`}function Bf(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function _s(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function js(e){return e=_s(e),(e<16?"0":"")+e.toString(16)}function H4(e,t,r,a){return a<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Yn(e,t,r,a)}function q_(e){if(e instanceof Yn)return new Yn(e.h,e.s,e.l,e.opacity);if(e instanceof su||(e=Dc(e)),!e)return new Yn;if(e instanceof Yn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,a=e.b/255,l=Math.min(t,r,a),o=Math.max(t,r,a),u=NaN,f=o-l,m=(o+l)/2;return f?(t===o?u=(r-a)/f+(r<a)*6:r===o?u=(a-t)/f+2:u=(t-r)/f+4,f/=m<.5?o+l:2-o-l,u*=60):f=m>0&&m<1?0:u,new Yn(u,f,m,e.opacity)}function xI(e,t,r,a){return arguments.length===1?q_(e):new Yn(e,t,r,a??1)}function Yn(e,t,r,a){this.h=+e,this.s=+t,this.l=+r,this.opacity=+a}fy(Yn,xI,U_(su,{brighter(e){return e=e==null?zf:Math.pow(zf,e),new Yn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Mc:Math.pow(Mc,e),new Yn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,a=r+(r<.5?r:1-r)*t,l=2*r-a;return new Qr($x(e>=240?e-240:e+120,l,a),$x(e,l,a),$x(e<120?e+240:e-120,l,a),this.opacity)},clamp(){return new Yn(V4(this.h),Kd(this.s),Kd(this.l),Bf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Bf(this.opacity);return`${e===1?"hsl(":"hsla("}${V4(this.h)}, ${Kd(this.s)*100}%, ${Kd(this.l)*100}%${e===1?")":`, ${e})`}`}}));function V4(e){return e=(e||0)%360,e<0?e+360:e}function Kd(e){return Math.max(0,Math.min(1,e||0))}function $x(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const my=e=>()=>e;function gI(e,t){return function(r){return e+r*t}}function vI(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(a){return Math.pow(e+a*t,r)}}function yI(e){return(e=+e)==1?F_:function(t,r){return r-t?vI(t,r,e):my(isNaN(t)?r:t)}}function F_(e,t){var r=t-e;return r?gI(e,r):my(isNaN(e)?t:e)}const Y4=(function e(t){var r=yI(t);function a(l,o){var u=r((l=rv(l)).r,(o=rv(o)).r),f=r(l.g,o.g),m=r(l.b,o.b),h=F_(l.opacity,o.opacity);return function(p){return l.r=u(p),l.g=f(p),l.b=m(p),l.opacity=h(p),l+""}}return a.gamma=e,a})(1);function bI(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,a=t.slice(),l;return function(o){for(l=0;l<r;++l)a[l]=e[l]*(1-o)+t[l]*o;return a}}function jI(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function wI(e,t){var r=t?t.length:0,a=e?Math.min(r,e.length):0,l=new Array(a),o=new Array(r),u;for(u=0;u<a;++u)l[u]=to(e[u],t[u]);for(;u<r;++u)o[u]=t[u];return function(f){for(u=0;u<a;++u)o[u]=l[u](f);return o}}function NI(e,t){var r=new Date;return e=+e,t=+t,function(a){return r.setTime(e*(1-a)+t*a),r}}function $f(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function SI(e,t){var r={},a={},l;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(l in t)l in e?r[l]=to(e[l],t[l]):a[l]=t[l];return function(o){for(l in r)a[l]=r[l](o);return a}}var nv=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ix=new RegExp(nv.source,"g");function AI(e){return function(){return e}}function EI(e){return function(t){return e(t)+""}}function _I(e,t){var r=nv.lastIndex=Ix.lastIndex=0,a,l,o,u=-1,f=[],m=[];for(e=e+"",t=t+"";(a=nv.exec(e))&&(l=Ix.exec(t));)(o=l.index)>r&&(o=t.slice(r,o),f[u]?f[u]+=o:f[++u]=o),(a=a[0])===(l=l[0])?f[u]?f[u]+=l:f[++u]=l:(f[++u]=null,m.push({i:u,x:$f(a,l)})),r=Ix.lastIndex;return r<t.length&&(o=t.slice(r),f[u]?f[u]+=o:f[++u]=o),f.length<2?m[0]?EI(m[0].x):AI(t):(t=m.length,function(h){for(var p=0,x;p<t;++p)f[(x=m[p]).i]=x.x(h);return f.join("")})}function to(e,t){var r=typeof t,a;return t==null||r==="boolean"?my(t):(r==="number"?$f:r==="string"?(a=Dc(t))?(t=a,Y4):_I:t instanceof Dc?Y4:t instanceof Date?NI:jI(t)?bI:Array.isArray(t)?wI:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?SI:$f)(e,t)}function hy(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function OI(e,t){t===void 0&&(t=e,e=to);for(var r=0,a=t.length-1,l=t[0],o=new Array(a<0?0:a);r<a;)o[r]=e(l,l=t[++r]);return function(u){var f=Math.max(0,Math.min(a-1,Math.floor(u*=a)));return o[f](u-f)}}function CI(e){return function(){return e}}function If(e){return+e}var K4=[0,1];function Rr(e){return e}function av(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:CI(isNaN(t)?NaN:.5)}function kI(e,t){var r;return e>t&&(r=e,e=t,t=r),function(a){return Math.max(e,Math.min(t,a))}}function TI(e,t,r){var a=e[0],l=e[1],o=t[0],u=t[1];return l<a?(a=av(l,a),o=r(u,o)):(a=av(a,l),o=r(o,u)),function(f){return o(a(f))}}function MI(e,t,r){var a=Math.min(e.length,t.length)-1,l=new Array(a),o=new Array(a),u=-1;for(e[a]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++u<a;)l[u]=av(e[u],e[u+1]),o[u]=r(t[u],t[u+1]);return function(f){var m=iu(e,f,1,a)-1;return o[m](l[m](f))}}function lu(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Dm(){var e=K4,t=K4,r=to,a,l,o,u=Rr,f,m,h;function p(){var b=Math.min(e.length,t.length);return u!==Rr&&(u=kI(e[0],e[b-1])),f=b>2?MI:TI,m=h=null,x}function x(b){return b==null||isNaN(b=+b)?o:(m||(m=f(e.map(a),t,r)))(a(u(b)))}return x.invert=function(b){return u(l((h||(h=f(t,e.map(a),$f)))(b)))},x.domain=function(b){return arguments.length?(e=Array.from(b,If),p()):e.slice()},x.range=function(b){return arguments.length?(t=Array.from(b),p()):t.slice()},x.rangeRound=function(b){return t=Array.from(b),r=hy,p()},x.clamp=function(b){return arguments.length?(u=b?!0:Rr,p()):u!==Rr},x.interpolate=function(b){return arguments.length?(r=b,p()):r},x.unknown=function(b){return arguments.length?(o=b,x):o},function(b,j){return a=b,l=j,p()}}function py(){return Dm()(Rr,Rr)}function PI(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Uf(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,a=e.slice(0,r);return[a.length>1?a[0]+a.slice(2):a,+e.slice(r+1)]}function Vl(e){return e=Uf(Math.abs(e)),e?e[1]:NaN}function DI(e,t){return function(r,a){for(var l=r.length,o=[],u=0,f=e[0],m=0;l>0&&f>0&&(m+f+1>a&&(f=Math.max(1,a-m)),o.push(r.substring(l-=f,l+f)),!((m+=f+1)>a));)f=e[u=(u+1)%e.length];return o.reverse().join(t)}}function RI(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var LI=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Rc(e){if(!(t=LI.exec(e)))throw new Error("invalid format: "+e);var t;return new xy({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Rc.prototype=xy.prototype;function xy(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}xy.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function zI(e){e:for(var t=e.length,r=1,a=-1,l;r<t;++r)switch(e[r]){case".":a=l=r;break;case"0":a===0&&(a=r),l=r;break;default:if(!+e[r])break e;a>0&&(a=0);break}return a>0?e.slice(0,a)+e.slice(l+1):e}var H_;function BI(e,t){var r=Uf(e,t);if(!r)return e+"";var a=r[0],l=r[1],o=l-(H_=Math.max(-8,Math.min(8,Math.floor(l/3)))*3)+1,u=a.length;return o===u?a:o>u?a+new Array(o-u+1).join("0"):o>0?a.slice(0,o)+"."+a.slice(o):"0."+new Array(1-o).join("0")+Uf(e,Math.max(0,t+o-1))[0]}function G4(e,t){var r=Uf(e,t);if(!r)return e+"";var a=r[0],l=r[1];return l<0?"0."+new Array(-l).join("0")+a:a.length>l+1?a.slice(0,l+1)+"."+a.slice(l+1):a+new Array(l-a.length+2).join("0")}const W4={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:PI,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>G4(e*100,t),r:G4,s:BI,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Q4(e){return e}var X4=Array.prototype.map,Z4=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function $I(e){var t=e.grouping===void 0||e.thousands===void 0?Q4:DI(X4.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",a=e.currency===void 0?"":e.currency[1]+"",l=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?Q4:RI(X4.call(e.numerals,String)),u=e.percent===void 0?"%":e.percent+"",f=e.minus===void 0?"":e.minus+"",m=e.nan===void 0?"NaN":e.nan+"";function h(x){x=Rc(x);var b=x.fill,j=x.align,w=x.sign,N=x.symbol,S=x.zero,E=x.width,O=x.comma,_=x.precision,T=x.trim,k=x.type;k==="n"?(O=!0,k="g"):W4[k]||(_===void 0&&(_=12),T=!0,k="g"),(S||b==="0"&&j==="=")&&(S=!0,b="0",j="=");var L=N==="$"?r:N==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",$=N==="$"?a:/[%p]/.test(k)?u:"",G=W4[k],J=/[defgprs%]/.test(k);_=_===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function ue(F){var q=L,fe=$,z,Y,C;if(k==="c")fe=G(F)+fe,F="";else{F=+F;var V=F<0||1/F<0;if(F=isNaN(F)?m:G(Math.abs(F),_),T&&(F=zI(F)),V&&+F==0&&w!=="+"&&(V=!1),q=(V?w==="("?w:f:w==="-"||w==="("?"":w)+q,fe=(k==="s"?Z4[8+H_/3]:"")+fe+(V&&w==="("?")":""),J){for(z=-1,Y=F.length;++z<Y;)if(C=F.charCodeAt(z),48>C||C>57){fe=(C===46?l+F.slice(z+1):F.slice(z))+fe,F=F.slice(0,z);break}}}O&&!S&&(F=t(F,1/0));var ae=q.length+F.length+fe.length,ve=ae<E?new Array(E-ae+1).join(b):"";switch(O&&S&&(F=t(ve+F,ve.length?E-fe.length:1/0),ve=""),j){case"<":F=q+F+fe+ve;break;case"=":F=q+ve+F+fe;break;case"^":F=ve.slice(0,ae=ve.length>>1)+q+F+fe+ve.slice(ae);break;default:F=ve+q+F+fe;break}return o(F)}return ue.toString=function(){return x+""},ue}function p(x,b){var j=h((x=Rc(x),x.type="f",x)),w=Math.max(-8,Math.min(8,Math.floor(Vl(b)/3)))*3,N=Math.pow(10,-w),S=Z4[8+w/3];return function(E){return j(N*E)+S}}return{format:h,formatPrefix:p}}var Gd,gy,V_;II({thousands:",",grouping:[3],currency:["$",""]});function II(e){return Gd=$I(e),gy=Gd.format,V_=Gd.formatPrefix,Gd}function UI(e){return Math.max(0,-Vl(Math.abs(e)))}function qI(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Vl(t)/3)))*3-Vl(Math.abs(e)))}function FI(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Vl(t)-Vl(e))+1}function Y_(e,t,r,a){var l=ev(e,t,r),o;switch(a=Rc(a??",f"),a.type){case"s":{var u=Math.max(Math.abs(e),Math.abs(t));return a.precision==null&&!isNaN(o=qI(l,u))&&(a.precision=o),V_(a,u)}case"":case"e":case"g":case"p":case"r":{a.precision==null&&!isNaN(o=FI(l,Math.max(Math.abs(e),Math.abs(t))))&&(a.precision=o-(a.type==="e"));break}case"f":case"%":{a.precision==null&&!isNaN(o=UI(l))&&(a.precision=o-(a.type==="%")*2);break}}return gy(a)}function Hi(e){var t=e.domain;return e.ticks=function(r){var a=t();return Zg(a[0],a[a.length-1],r??10)},e.tickFormat=function(r,a){var l=t();return Y_(l[0],l[l.length-1],r??10,a)},e.nice=function(r){r==null&&(r=10);var a=t(),l=0,o=a.length-1,u=a[l],f=a[o],m,h,p=10;for(f<u&&(h=u,u=f,f=h,h=l,l=o,o=h);p-- >0;){if(h=Jg(u,f,r),h===m)return a[l]=u,a[o]=f,t(a);if(h>0)u=Math.floor(u/h)*h,f=Math.ceil(f/h)*h;else if(h<0)u=Math.ceil(u*h)/h,f=Math.floor(f*h)/h;else break;m=h}return e},e}function K_(){var e=py();return e.copy=function(){return lu(e,K_())},zn.apply(e,arguments),Hi(e)}function G_(e){var t;function r(a){return a==null||isNaN(a=+a)?t:a}return r.invert=r,r.domain=r.range=function(a){return arguments.length?(e=Array.from(a,If),r):e.slice()},r.unknown=function(a){return arguments.length?(t=a,r):t},r.copy=function(){return G_(e).unknown(t)},e=arguments.length?Array.from(e,If):[0,1],Hi(r)}function W_(e,t){e=e.slice();var r=0,a=e.length-1,l=e[r],o=e[a],u;return o<l&&(u=r,r=a,a=u,u=l,l=o,o=u),e[r]=t.floor(l),e[a]=t.ceil(o),e}function J4(e){return Math.log(e)}function e5(e){return Math.exp(e)}function HI(e){return-Math.log(-e)}function VI(e){return-Math.exp(-e)}function YI(e){return isFinite(e)?+("1e"+e):e<0?0:e}function KI(e){return e===10?YI:e===Math.E?Math.exp:t=>Math.pow(e,t)}function GI(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function t5(e){return(t,r)=>-e(-t,r)}function vy(e){const t=e(J4,e5),r=t.domain;let a=10,l,o;function u(){return l=GI(a),o=KI(a),r()[0]<0?(l=t5(l),o=t5(o),e(HI,VI)):e(J4,e5),t}return t.base=function(f){return arguments.length?(a=+f,u()):a},t.domain=function(f){return arguments.length?(r(f),u()):r()},t.ticks=f=>{const m=r();let h=m[0],p=m[m.length-1];const x=p<h;x&&([h,p]=[p,h]);let b=l(h),j=l(p),w,N;const S=f==null?10:+f;let E=[];if(!(a%1)&&j-b<S){if(b=Math.floor(b),j=Math.ceil(j),h>0){for(;b<=j;++b)for(w=1;w<a;++w)if(N=b<0?w/o(-b):w*o(b),!(N<h)){if(N>p)break;E.push(N)}}else for(;b<=j;++b)for(w=a-1;w>=1;--w)if(N=b>0?w/o(-b):w*o(b),!(N<h)){if(N>p)break;E.push(N)}E.length*2<S&&(E=Zg(h,p,S))}else E=Zg(b,j,Math.min(j-b,S)).map(o);return x?E.reverse():E},t.tickFormat=(f,m)=>{if(f==null&&(f=10),m==null&&(m=a===10?"s":","),typeof m!="function"&&(!(a%1)&&(m=Rc(m)).precision==null&&(m.trim=!0),m=gy(m)),f===1/0)return m;const h=Math.max(1,a*f/t.ticks().length);return p=>{let x=p/o(Math.round(l(p)));return x*a<a-.5&&(x*=a),x<=h?m(p):""}},t.nice=()=>r(W_(r(),{floor:f=>o(Math.floor(l(f))),ceil:f=>o(Math.ceil(l(f)))})),t}function Q_(){const e=vy(Dm()).domain([1,10]);return e.copy=()=>lu(e,Q_()).base(e.base()),zn.apply(e,arguments),e}function r5(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function n5(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function yy(e){var t=1,r=e(r5(t),n5(t));return r.constant=function(a){return arguments.length?e(r5(t=+a),n5(t)):t},Hi(r)}function X_(){var e=yy(Dm());return e.copy=function(){return lu(e,X_()).constant(e.constant())},zn.apply(e,arguments)}function a5(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function WI(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function QI(e){return e<0?-e*e:e*e}function by(e){var t=e(Rr,Rr),r=1;function a(){return r===1?e(Rr,Rr):r===.5?e(WI,QI):e(a5(r),a5(1/r))}return t.exponent=function(l){return arguments.length?(r=+l,a()):r},Hi(t)}function jy(){var e=by(Dm());return e.copy=function(){return lu(e,jy()).exponent(e.exponent())},zn.apply(e,arguments),e}function XI(){return jy.apply(null,arguments).exponent(.5)}function i5(e){return Math.sign(e)*e*e}function ZI(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function Z_(){var e=py(),t=[0,1],r=!1,a;function l(o){var u=ZI(e(o));return isNaN(u)?a:r?Math.round(u):u}return l.invert=function(o){return e.invert(i5(o))},l.domain=function(o){return arguments.length?(e.domain(o),l):e.domain()},l.range=function(o){return arguments.length?(e.range((t=Array.from(o,If)).map(i5)),l):t.slice()},l.rangeRound=function(o){return l.range(o).round(!0)},l.round=function(o){return arguments.length?(r=!!o,l):r},l.clamp=function(o){return arguments.length?(e.clamp(o),l):e.clamp()},l.unknown=function(o){return arguments.length?(a=o,l):a},l.copy=function(){return Z_(e.domain(),t).round(r).clamp(e.clamp()).unknown(a)},zn.apply(l,arguments),Hi(l)}function J_(){var e=[],t=[],r=[],a;function l(){var u=0,f=Math.max(1,t.length);for(r=new Array(f-1);++u<f;)r[u-1]=rI(e,u/f);return o}function o(u){return u==null||isNaN(u=+u)?a:t[iu(r,u)]}return o.invertExtent=function(u){var f=t.indexOf(u);return f<0?[NaN,NaN]:[f>0?r[f-1]:e[0],f<r.length?r[f]:e[e.length-1]]},o.domain=function(u){if(!arguments.length)return e.slice();e=[];for(let f of u)f!=null&&!isNaN(f=+f)&&e.push(f);return e.sort(Li),l()},o.range=function(u){return arguments.length?(t=Array.from(u),l()):t.slice()},o.unknown=function(u){return arguments.length?(a=u,o):a},o.quantiles=function(){return r.slice()},o.copy=function(){return J_().domain(e).range(t).unknown(a)},zn.apply(o,arguments)}function e6(){var e=0,t=1,r=1,a=[.5],l=[0,1],o;function u(m){return m!=null&&m<=m?l[iu(a,m,0,r)]:o}function f(){var m=-1;for(a=new Array(r);++m<r;)a[m]=((m+1)*t-(m-r)*e)/(r+1);return u}return u.domain=function(m){return arguments.length?([e,t]=m,e=+e,t=+t,f()):[e,t]},u.range=function(m){return arguments.length?(r=(l=Array.from(m)).length-1,f()):l.slice()},u.invertExtent=function(m){var h=l.indexOf(m);return h<0?[NaN,NaN]:h<1?[e,a[0]]:h>=r?[a[r-1],t]:[a[h-1],a[h]]},u.unknown=function(m){return arguments.length&&(o=m),u},u.thresholds=function(){return a.slice()},u.copy=function(){return e6().domain([e,t]).range(l).unknown(o)},zn.apply(Hi(u),arguments)}function t6(){var e=[.5],t=[0,1],r,a=1;function l(o){return o!=null&&o<=o?t[iu(e,o,0,a)]:r}return l.domain=function(o){return arguments.length?(e=Array.from(o),a=Math.min(e.length,t.length-1),l):e.slice()},l.range=function(o){return arguments.length?(t=Array.from(o),a=Math.min(e.length,t.length-1),l):t.slice()},l.invertExtent=function(o){var u=t.indexOf(o);return[e[u-1],e[u]]},l.unknown=function(o){return arguments.length?(r=o,l):r},l.copy=function(){return t6().domain(e).range(t).unknown(r)},zn.apply(l,arguments)}const Ux=new Date,qx=new Date;function ir(e,t,r,a){function l(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return l.floor=o=>(e(o=new Date(+o)),o),l.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),l.round=o=>{const u=l(o),f=l.ceil(o);return o-u<f-o?u:f},l.offset=(o,u)=>(t(o=new Date(+o),u==null?1:Math.floor(u)),o),l.range=(o,u,f)=>{const m=[];if(o=l.ceil(o),f=f==null?1:Math.floor(f),!(o<u)||!(f>0))return m;let h;do m.push(h=new Date(+o)),t(o,f),e(o);while(h<o&&o<u);return m},l.filter=o=>ir(u=>{if(u>=u)for(;e(u),!o(u);)u.setTime(u-1)},(u,f)=>{if(u>=u)if(f<0)for(;++f<=0;)for(;t(u,-1),!o(u););else for(;--f>=0;)for(;t(u,1),!o(u););}),r&&(l.count=(o,u)=>(Ux.setTime(+o),qx.setTime(+u),e(Ux),e(qx),Math.floor(r(Ux,qx))),l.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?l.filter(a?u=>a(u)%o===0:u=>l.count(0,u)%o===0):l)),l}const qf=ir(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);qf.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ir(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):qf);qf.range;const La=1e3,Mn=La*60,za=Mn*60,Va=za*24,wy=Va*7,s5=Va*30,Fx=Va*365,ws=ir(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*La)},(e,t)=>(t-e)/La,e=>e.getUTCSeconds());ws.range;const Ny=ir(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*La)},(e,t)=>{e.setTime(+e+t*Mn)},(e,t)=>(t-e)/Mn,e=>e.getMinutes());Ny.range;const Sy=ir(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Mn)},(e,t)=>(t-e)/Mn,e=>e.getUTCMinutes());Sy.range;const Ay=ir(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*La-e.getMinutes()*Mn)},(e,t)=>{e.setTime(+e+t*za)},(e,t)=>(t-e)/za,e=>e.getHours());Ay.range;const Ey=ir(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*za)},(e,t)=>(t-e)/za,e=>e.getUTCHours());Ey.range;const ou=ir(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Mn)/Va,e=>e.getDate()-1);ou.range;const Rm=ir(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Va,e=>e.getUTCDate()-1);Rm.range;const r6=ir(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Va,e=>Math.floor(e/Va));r6.range;function Bs(e){return ir(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Mn)/wy)}const Lm=Bs(0),Ff=Bs(1),JI=Bs(2),eU=Bs(3),Yl=Bs(4),tU=Bs(5),rU=Bs(6);Lm.range;Ff.range;JI.range;eU.range;Yl.range;tU.range;rU.range;function $s(e){return ir(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/wy)}const zm=$s(0),Hf=$s(1),nU=$s(2),aU=$s(3),Kl=$s(4),iU=$s(5),sU=$s(6);zm.range;Hf.range;nU.range;aU.range;Kl.range;iU.range;sU.range;const _y=ir(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());_y.range;const Oy=ir(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Oy.range;const Ya=ir(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ya.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ir(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Ya.range;const Ka=ir(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ka.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ir(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Ka.range;function n6(e,t,r,a,l,o){const u=[[ws,1,La],[ws,5,5*La],[ws,15,15*La],[ws,30,30*La],[o,1,Mn],[o,5,5*Mn],[o,15,15*Mn],[o,30,30*Mn],[l,1,za],[l,3,3*za],[l,6,6*za],[l,12,12*za],[a,1,Va],[a,2,2*Va],[r,1,wy],[t,1,s5],[t,3,3*s5],[e,1,Fx]];function f(h,p,x){const b=p<h;b&&([h,p]=[p,h]);const j=x&&typeof x.range=="function"?x:m(h,p,x),w=j?j.range(h,+p+1):[];return b?w.reverse():w}function m(h,p,x){const b=Math.abs(p-h)/x,j=cy(([,,S])=>S).right(u,b);if(j===u.length)return e.every(ev(h/Fx,p/Fx,x));if(j===0)return qf.every(Math.max(ev(h,p,x),1));const[w,N]=u[b/u[j-1][2]<u[j][2]/b?j-1:j];return w.every(N)}return[f,m]}const[lU,oU]=n6(Ka,Oy,zm,r6,Ey,Sy),[cU,uU]=n6(Ya,_y,Lm,ou,Ay,Ny);function Hx(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Vx(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function fc(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function dU(e){var t=e.dateTime,r=e.date,a=e.time,l=e.periods,o=e.days,u=e.shortDays,f=e.months,m=e.shortMonths,h=mc(l),p=hc(l),x=mc(o),b=hc(o),j=mc(u),w=hc(u),N=mc(f),S=hc(f),E=mc(m),O=hc(m),_={a:V,A:ae,b:ve,B:ce,c:null,d:f5,e:f5,f:DU,g:HU,G:YU,H:TU,I:MU,j:PU,L:a6,m:RU,M:LU,p:R,q:K,Q:p5,s:x5,S:zU,u:BU,U:$U,V:IU,w:UU,W:qU,x:null,X:null,y:FU,Y:VU,Z:KU,"%":h5},T={a:re,A:W,b:le,B:Ne,c:null,d:m5,e:m5,f:XU,g:lq,G:cq,H:GU,I:WU,j:QU,L:s6,m:ZU,M:JU,p:Ae,q:Ce,Q:p5,s:x5,S:eq,u:tq,U:rq,V:nq,w:aq,W:iq,x:null,X:null,y:sq,Y:oq,Z:uq,"%":h5},k={a:ue,A:F,b:q,B:fe,c:z,d:u5,e:u5,f:_U,g:c5,G:o5,H:d5,I:d5,j:NU,L:EU,m:wU,M:SU,p:J,q:jU,Q:CU,s:kU,S:AU,u:xU,U:gU,V:vU,w:pU,W:yU,x:Y,X:C,y:c5,Y:o5,Z:bU,"%":OU};_.x=L(r,_),_.X=L(a,_),_.c=L(t,_),T.x=L(r,T),T.X=L(a,T),T.c=L(t,T);function L(U,ge){return function(Ee){var ye=[],ke=-1,Oe=0,te=U.length,B,he,I;for(Ee instanceof Date||(Ee=new Date(+Ee));++ke<te;)U.charCodeAt(ke)===37&&(ye.push(U.slice(Oe,ke)),(he=l5[B=U.charAt(++ke)])!=null?B=U.charAt(++ke):he=B==="e"?" ":"0",(I=ge[B])&&(B=I(Ee,he)),ye.push(B),Oe=ke+1);return ye.push(U.slice(Oe,ke)),ye.join("")}}function $(U,ge){return function(Ee){var ye=fc(1900,void 0,1),ke=G(ye,U,Ee+="",0),Oe,te;if(ke!=Ee.length)return null;if("Q"in ye)return new Date(ye.Q);if("s"in ye)return new Date(ye.s*1e3+("L"in ye?ye.L:0));if(ge&&!("Z"in ye)&&(ye.Z=0),"p"in ye&&(ye.H=ye.H%12+ye.p*12),ye.m===void 0&&(ye.m="q"in ye?ye.q:0),"V"in ye){if(ye.V<1||ye.V>53)return null;"w"in ye||(ye.w=1),"Z"in ye?(Oe=Vx(fc(ye.y,0,1)),te=Oe.getUTCDay(),Oe=te>4||te===0?Hf.ceil(Oe):Hf(Oe),Oe=Rm.offset(Oe,(ye.V-1)*7),ye.y=Oe.getUTCFullYear(),ye.m=Oe.getUTCMonth(),ye.d=Oe.getUTCDate()+(ye.w+6)%7):(Oe=Hx(fc(ye.y,0,1)),te=Oe.getDay(),Oe=te>4||te===0?Ff.ceil(Oe):Ff(Oe),Oe=ou.offset(Oe,(ye.V-1)*7),ye.y=Oe.getFullYear(),ye.m=Oe.getMonth(),ye.d=Oe.getDate()+(ye.w+6)%7)}else("W"in ye||"U"in ye)&&("w"in ye||(ye.w="u"in ye?ye.u%7:"W"in ye?1:0),te="Z"in ye?Vx(fc(ye.y,0,1)).getUTCDay():Hx(fc(ye.y,0,1)).getDay(),ye.m=0,ye.d="W"in ye?(ye.w+6)%7+ye.W*7-(te+5)%7:ye.w+ye.U*7-(te+6)%7);return"Z"in ye?(ye.H+=ye.Z/100|0,ye.M+=ye.Z%100,Vx(ye)):Hx(ye)}}function G(U,ge,Ee,ye){for(var ke=0,Oe=ge.length,te=Ee.length,B,he;ke<Oe;){if(ye>=te)return-1;if(B=ge.charCodeAt(ke++),B===37){if(B=ge.charAt(ke++),he=k[B in l5?ge.charAt(ke++):B],!he||(ye=he(U,Ee,ye))<0)return-1}else if(B!=Ee.charCodeAt(ye++))return-1}return ye}function J(U,ge,Ee){var ye=h.exec(ge.slice(Ee));return ye?(U.p=p.get(ye[0].toLowerCase()),Ee+ye[0].length):-1}function ue(U,ge,Ee){var ye=j.exec(ge.slice(Ee));return ye?(U.w=w.get(ye[0].toLowerCase()),Ee+ye[0].length):-1}function F(U,ge,Ee){var ye=x.exec(ge.slice(Ee));return ye?(U.w=b.get(ye[0].toLowerCase()),Ee+ye[0].length):-1}function q(U,ge,Ee){var ye=E.exec(ge.slice(Ee));return ye?(U.m=O.get(ye[0].toLowerCase()),Ee+ye[0].length):-1}function fe(U,ge,Ee){var ye=N.exec(ge.slice(Ee));return ye?(U.m=S.get(ye[0].toLowerCase()),Ee+ye[0].length):-1}function z(U,ge,Ee){return G(U,t,ge,Ee)}function Y(U,ge,Ee){return G(U,r,ge,Ee)}function C(U,ge,Ee){return G(U,a,ge,Ee)}function V(U){return u[U.getDay()]}function ae(U){return o[U.getDay()]}function ve(U){return m[U.getMonth()]}function ce(U){return f[U.getMonth()]}function R(U){return l[+(U.getHours()>=12)]}function K(U){return 1+~~(U.getMonth()/3)}function re(U){return u[U.getUTCDay()]}function W(U){return o[U.getUTCDay()]}function le(U){return m[U.getUTCMonth()]}function Ne(U){return f[U.getUTCMonth()]}function Ae(U){return l[+(U.getUTCHours()>=12)]}function Ce(U){return 1+~~(U.getUTCMonth()/3)}return{format:function(U){var ge=L(U+="",_);return ge.toString=function(){return U},ge},parse:function(U){var ge=$(U+="",!1);return ge.toString=function(){return U},ge},utcFormat:function(U){var ge=L(U+="",T);return ge.toString=function(){return U},ge},utcParse:function(U){var ge=$(U+="",!0);return ge.toString=function(){return U},ge}}}var l5={"-":"",_:" ",0:"0"},xr=/^\s*\d+/,fU=/^%/,mU=/[\\^$*+?|[\]().{}]/g;function nt(e,t,r){var a=e<0?"-":"",l=(a?-e:e)+"",o=l.length;return a+(o<r?new Array(r-o+1).join(t)+l:l)}function hU(e){return e.replace(mU,"\\$&")}function mc(e){return new RegExp("^(?:"+e.map(hU).join("|")+")","i")}function hc(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function pU(e,t,r){var a=xr.exec(t.slice(r,r+1));return a?(e.w=+a[0],r+a[0].length):-1}function xU(e,t,r){var a=xr.exec(t.slice(r,r+1));return a?(e.u=+a[0],r+a[0].length):-1}function gU(e,t,r){var a=xr.exec(t.slice(r,r+2));return a?(e.U=+a[0],r+a[0].length):-1}function vU(e,t,r){var a=xr.exec(t.slice(r,r+2));return a?(e.V=+a[0],r+a[0].length):-1}function yU(e,t,r){var a=xr.exec(t.slice(r,r+2));return a?(e.W=+a[0],r+a[0].length):-1}function o5(e,t,r){var a=xr.exec(t.slice(r,r+4));return a?(e.y=+a[0],r+a[0].length):-1}function c5(e,t,r){var a=xr.exec(t.slice(r,r+2));return a?(e.y=+a[0]+(+a[0]>68?1900:2e3),r+a[0].length):-1}function bU(e,t,r){var a=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return a?(e.Z=a[1]?0:-(a[2]+(a[3]||"00")),r+a[0].length):-1}function jU(e,t,r){var a=xr.exec(t.slice(r,r+1));return a?(e.q=a[0]*3-3,r+a[0].length):-1}function wU(e,t,r){var a=xr.exec(t.slice(r,r+2));return a?(e.m=a[0]-1,r+a[0].length):-1}function u5(e,t,r){var a=xr.exec(t.slice(r,r+2));return a?(e.d=+a[0],r+a[0].length):-1}function NU(e,t,r){var a=xr.exec(t.slice(r,r+3));return a?(e.m=0,e.d=+a[0],r+a[0].length):-1}function d5(e,t,r){var a=xr.exec(t.slice(r,r+2));return a?(e.H=+a[0],r+a[0].length):-1}function SU(e,t,r){var a=xr.exec(t.slice(r,r+2));return a?(e.M=+a[0],r+a[0].length):-1}function AU(e,t,r){var a=xr.exec(t.slice(r,r+2));return a?(e.S=+a[0],r+a[0].length):-1}function EU(e,t,r){var a=xr.exec(t.slice(r,r+3));return a?(e.L=+a[0],r+a[0].length):-1}function _U(e,t,r){var a=xr.exec(t.slice(r,r+6));return a?(e.L=Math.floor(a[0]/1e3),r+a[0].length):-1}function OU(e,t,r){var a=fU.exec(t.slice(r,r+1));return a?r+a[0].length:-1}function CU(e,t,r){var a=xr.exec(t.slice(r));return a?(e.Q=+a[0],r+a[0].length):-1}function kU(e,t,r){var a=xr.exec(t.slice(r));return a?(e.s=+a[0],r+a[0].length):-1}function f5(e,t){return nt(e.getDate(),t,2)}function TU(e,t){return nt(e.getHours(),t,2)}function MU(e,t){return nt(e.getHours()%12||12,t,2)}function PU(e,t){return nt(1+ou.count(Ya(e),e),t,3)}function a6(e,t){return nt(e.getMilliseconds(),t,3)}function DU(e,t){return a6(e,t)+"000"}function RU(e,t){return nt(e.getMonth()+1,t,2)}function LU(e,t){return nt(e.getMinutes(),t,2)}function zU(e,t){return nt(e.getSeconds(),t,2)}function BU(e){var t=e.getDay();return t===0?7:t}function $U(e,t){return nt(Lm.count(Ya(e)-1,e),t,2)}function i6(e){var t=e.getDay();return t>=4||t===0?Yl(e):Yl.ceil(e)}function IU(e,t){return e=i6(e),nt(Yl.count(Ya(e),e)+(Ya(e).getDay()===4),t,2)}function UU(e){return e.getDay()}function qU(e,t){return nt(Ff.count(Ya(e)-1,e),t,2)}function FU(e,t){return nt(e.getFullYear()%100,t,2)}function HU(e,t){return e=i6(e),nt(e.getFullYear()%100,t,2)}function VU(e,t){return nt(e.getFullYear()%1e4,t,4)}function YU(e,t){var r=e.getDay();return e=r>=4||r===0?Yl(e):Yl.ceil(e),nt(e.getFullYear()%1e4,t,4)}function KU(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+nt(t/60|0,"0",2)+nt(t%60,"0",2)}function m5(e,t){return nt(e.getUTCDate(),t,2)}function GU(e,t){return nt(e.getUTCHours(),t,2)}function WU(e,t){return nt(e.getUTCHours()%12||12,t,2)}function QU(e,t){return nt(1+Rm.count(Ka(e),e),t,3)}function s6(e,t){return nt(e.getUTCMilliseconds(),t,3)}function XU(e,t){return s6(e,t)+"000"}function ZU(e,t){return nt(e.getUTCMonth()+1,t,2)}function JU(e,t){return nt(e.getUTCMinutes(),t,2)}function eq(e,t){return nt(e.getUTCSeconds(),t,2)}function tq(e){var t=e.getUTCDay();return t===0?7:t}function rq(e,t){return nt(zm.count(Ka(e)-1,e),t,2)}function l6(e){var t=e.getUTCDay();return t>=4||t===0?Kl(e):Kl.ceil(e)}function nq(e,t){return e=l6(e),nt(Kl.count(Ka(e),e)+(Ka(e).getUTCDay()===4),t,2)}function aq(e){return e.getUTCDay()}function iq(e,t){return nt(Hf.count(Ka(e)-1,e),t,2)}function sq(e,t){return nt(e.getUTCFullYear()%100,t,2)}function lq(e,t){return e=l6(e),nt(e.getUTCFullYear()%100,t,2)}function oq(e,t){return nt(e.getUTCFullYear()%1e4,t,4)}function cq(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Kl(e):Kl.ceil(e),nt(e.getUTCFullYear()%1e4,t,4)}function uq(){return"+0000"}function h5(){return"%"}function p5(e){return+e}function x5(e){return Math.floor(+e/1e3)}var El,o6,c6;dq({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function dq(e){return El=dU(e),o6=El.format,El.parse,c6=El.utcFormat,El.utcParse,El}function fq(e){return new Date(e)}function mq(e){return e instanceof Date?+e:+new Date(+e)}function Cy(e,t,r,a,l,o,u,f,m,h){var p=py(),x=p.invert,b=p.domain,j=h(".%L"),w=h(":%S"),N=h("%I:%M"),S=h("%I %p"),E=h("%a %d"),O=h("%b %d"),_=h("%B"),T=h("%Y");function k(L){return(m(L)<L?j:f(L)<L?w:u(L)<L?N:o(L)<L?S:a(L)<L?l(L)<L?E:O:r(L)<L?_:T)(L)}return p.invert=function(L){return new Date(x(L))},p.domain=function(L){return arguments.length?b(Array.from(L,mq)):b().map(fq)},p.ticks=function(L){var $=b();return e($[0],$[$.length-1],L??10)},p.tickFormat=function(L,$){return $==null?k:h($)},p.nice=function(L){var $=b();return(!L||typeof L.range!="function")&&(L=t($[0],$[$.length-1],L??10)),L?b(W_($,L)):p},p.copy=function(){return lu(p,Cy(e,t,r,a,l,o,u,f,m,h))},p}function hq(){return zn.apply(Cy(cU,uU,Ya,_y,Lm,ou,Ay,Ny,ws,o6).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function pq(){return zn.apply(Cy(lU,oU,Ka,Oy,zm,Rm,Ey,Sy,ws,c6).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Bm(){var e=0,t=1,r,a,l,o,u=Rr,f=!1,m;function h(x){return x==null||isNaN(x=+x)?m:u(l===0?.5:(x=(o(x)-r)*l,f?Math.max(0,Math.min(1,x)):x))}h.domain=function(x){return arguments.length?([e,t]=x,r=o(e=+e),a=o(t=+t),l=r===a?0:1/(a-r),h):[e,t]},h.clamp=function(x){return arguments.length?(f=!!x,h):f},h.interpolator=function(x){return arguments.length?(u=x,h):u};function p(x){return function(b){var j,w;return arguments.length?([j,w]=b,u=x(j,w),h):[u(0),u(1)]}}return h.range=p(to),h.rangeRound=p(hy),h.unknown=function(x){return arguments.length?(m=x,h):m},function(x){return o=x,r=x(e),a=x(t),l=r===a?0:1/(a-r),h}}function Vi(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function u6(){var e=Hi(Bm()(Rr));return e.copy=function(){return Vi(e,u6())},ei.apply(e,arguments)}function d6(){var e=vy(Bm()).domain([1,10]);return e.copy=function(){return Vi(e,d6()).base(e.base())},ei.apply(e,arguments)}function f6(){var e=yy(Bm());return e.copy=function(){return Vi(e,f6()).constant(e.constant())},ei.apply(e,arguments)}function ky(){var e=by(Bm());return e.copy=function(){return Vi(e,ky()).exponent(e.exponent())},ei.apply(e,arguments)}function xq(){return ky.apply(null,arguments).exponent(.5)}function m6(){var e=[],t=Rr;function r(a){if(a!=null&&!isNaN(a=+a))return t((iu(e,a,1)-1)/(e.length-1))}return r.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let l of a)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Li),r},r.interpolator=function(a){return arguments.length?(t=a,r):t},r.range=function(){return e.map((a,l)=>t(l/(e.length-1)))},r.quantiles=function(a){return Array.from({length:a+1},(l,o)=>tI(e,o/a))},r.copy=function(){return m6(t).domain(e)},ei.apply(r,arguments)}function $m(){var e=0,t=.5,r=1,a=1,l,o,u,f,m,h=Rr,p,x=!1,b;function j(N){return isNaN(N=+N)?b:(N=.5+((N=+p(N))-o)*(a*N<a*o?f:m),h(x?Math.max(0,Math.min(1,N)):N))}j.domain=function(N){return arguments.length?([e,t,r]=N,l=p(e=+e),o=p(t=+t),u=p(r=+r),f=l===o?0:.5/(o-l),m=o===u?0:.5/(u-o),a=o<l?-1:1,j):[e,t,r]},j.clamp=function(N){return arguments.length?(x=!!N,j):x},j.interpolator=function(N){return arguments.length?(h=N,j):h};function w(N){return function(S){var E,O,_;return arguments.length?([E,O,_]=S,h=OI(N,[E,O,_]),j):[h(0),h(.5),h(1)]}}return j.range=w(to),j.rangeRound=w(hy),j.unknown=function(N){return arguments.length?(b=N,j):b},function(N){return p=N,l=N(e),o=N(t),u=N(r),f=l===o?0:.5/(o-l),m=o===u?0:.5/(u-o),a=o<l?-1:1,j}}function h6(){var e=Hi($m()(Rr));return e.copy=function(){return Vi(e,h6())},ei.apply(e,arguments)}function p6(){var e=vy($m()).domain([.1,1,10]);return e.copy=function(){return Vi(e,p6()).base(e.base())},ei.apply(e,arguments)}function x6(){var e=yy($m());return e.copy=function(){return Vi(e,x6()).constant(e.constant())},ei.apply(e,arguments)}function Ty(){var e=by($m());return e.copy=function(){return Vi(e,Ty()).exponent(e.exponent())},ei.apply(e,arguments)}function gq(){return Ty.apply(null,arguments).exponent(.5)}const gc=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:dy,scaleDiverging:h6,scaleDivergingLog:p6,scaleDivergingPow:Ty,scaleDivergingSqrt:gq,scaleDivergingSymlog:x6,scaleIdentity:G_,scaleImplicit:tv,scaleLinear:K_,scaleLog:Q_,scaleOrdinal:uy,scalePoint:aI,scalePow:jy,scaleQuantile:J_,scaleQuantize:e6,scaleRadial:Z_,scaleSequential:u6,scaleSequentialLog:d6,scaleSequentialPow:ky,scaleSequentialQuantile:m6,scaleSequentialSqrt:xq,scaleSequentialSymlog:f6,scaleSqrt:XI,scaleSymlog:X_,scaleThreshold:t6,scaleTime:hq,scaleUtc:pq,tickFormat:Y_},Symbol.toStringTag,{value:"Module"}));var Yi=e=>e.chartData,My=oe([Yi],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Im=(e,t,r,a)=>a?My(e):Yi(e);function Bi(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(Ht(t)&&Ht(r))return!0}return!1}function g5(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function g6(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,a]=e,l,o;if(Ht(r))l=r;else if(typeof r=="function")return;if(Ht(a))o=a;else if(typeof a=="function")return;var u=[l,o];if(Bi(u))return u}}function vq(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var a=e(t,r);if(Bi(a))return g5(a,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[l,o]=e,u,f;if(l==="auto")t!=null&&(u=Math.min(...t));else if(De(l))u=l;else if(typeof l=="function")try{t!=null&&(u=l(t?.[0]))}catch{}else if(typeof l=="string"&&VS.test(l)){var m=VS.exec(l);if(m==null||t==null)u=void 0;else{var h=+m[1];u=t[0]-h}}else u=t?.[0];if(o==="auto")t!=null&&(f=Math.max(...t));else if(De(o))f=o;else if(typeof o=="function")try{t!=null&&(f=o(t?.[1]))}catch{}else if(typeof o=="string"&&YS.test(o)){var p=YS.exec(o);if(p==null||t==null)f=void 0;else{var x=+p[1];f=t[1]+x}}else f=t?.[1];var b=[u,f];if(Bi(b))return t==null?b:g5(b,t,r)}}}var ro=1e9,yq={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Dy,Ot=!0,Ln="[DecimalError] ",Os=Ln+"Invalid argument: ",Py=Ln+"Exponent out of range: ",no=Math.floor,hs=Math.pow,bq=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,fn,fr=1e7,Nt=7,v6=9007199254740991,Vf=no(v6/Nt),Me={};Me.absoluteValue=Me.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Me.comparedTo=Me.cmp=function(e){var t,r,a,l,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(a=o.d.length,l=e.d.length,t=0,r=a<l?a:l;t<r;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return a===l?0:a>l^o.s<0?1:-1};Me.decimalPlaces=Me.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Nt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Me.dividedBy=Me.div=function(e){return Ia(this,new this.constructor(e))};Me.dividedToIntegerBy=Me.idiv=function(e){var t=this,r=t.constructor;return gt(Ia(t,new r(e),0,1),r.precision)};Me.equals=Me.eq=function(e){return!this.cmp(e)};Me.exponent=function(){return Jt(this)};Me.greaterThan=Me.gt=function(e){return this.cmp(e)>0};Me.greaterThanOrEqualTo=Me.gte=function(e){return this.cmp(e)>=0};Me.isInteger=Me.isint=function(){return this.e>this.d.length-2};Me.isNegative=Me.isneg=function(){return this.s<0};Me.isPositive=Me.ispos=function(){return this.s>0};Me.isZero=function(){return this.s===0};Me.lessThan=Me.lt=function(e){return this.cmp(e)<0};Me.lessThanOrEqualTo=Me.lte=function(e){return this.cmp(e)<1};Me.logarithm=Me.log=function(e){var t,r=this,a=r.constructor,l=a.precision,o=l+5;if(e===void 0)e=new a(10);else if(e=new a(e),e.s<1||e.eq(fn))throw Error(Ln+"NaN");if(r.s<1)throw Error(Ln+(r.s?"NaN":"-Infinity"));return r.eq(fn)?new a(0):(Ot=!1,t=Ia(Lc(r,o),Lc(e,o),o),Ot=!0,gt(t,l))};Me.minus=Me.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?j6(t,e):y6(t,(e.s=-e.s,e))};Me.modulo=Me.mod=function(e){var t,r=this,a=r.constructor,l=a.precision;if(e=new a(e),!e.s)throw Error(Ln+"NaN");return r.s?(Ot=!1,t=Ia(r,e,0,1).times(e),Ot=!0,r.minus(t)):gt(new a(r),l)};Me.naturalExponential=Me.exp=function(){return b6(this)};Me.naturalLogarithm=Me.ln=function(){return Lc(this)};Me.negated=Me.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Me.plus=Me.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?y6(t,e):j6(t,(e.s=-e.s,e))};Me.precision=Me.sd=function(e){var t,r,a,l=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Os+e);if(t=Jt(l)+1,a=l.d.length-1,r=a*Nt+1,a=l.d[a],a){for(;a%10==0;a/=10)r--;for(a=l.d[0];a>=10;a/=10)r++}return e&&t>r?t:r};Me.squareRoot=Me.sqrt=function(){var e,t,r,a,l,o,u,f=this,m=f.constructor;if(f.s<1){if(!f.s)return new m(0);throw Error(Ln+"NaN")}for(e=Jt(f),Ot=!1,l=Math.sqrt(+f),l==0||l==1/0?(t=sa(f.d),(t.length+e)%2==0&&(t+="0"),l=Math.sqrt(t),e=no((e+1)/2)-(e<0||e%2),l==1/0?t="5e"+e:(t=l.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),a=new m(t)):a=new m(l.toString()),r=m.precision,l=u=r+3;;)if(o=a,a=o.plus(Ia(f,o,u+2)).times(.5),sa(o.d).slice(0,u)===(t=sa(a.d)).slice(0,u)){if(t=t.slice(u-3,u+1),l==u&&t=="4999"){if(gt(o,r+1,0),o.times(o).eq(f)){a=o;break}}else if(t!="9999")break;u+=4}return Ot=!0,gt(a,r)};Me.times=Me.mul=function(e){var t,r,a,l,o,u,f,m,h,p=this,x=p.constructor,b=p.d,j=(e=new x(e)).d;if(!p.s||!e.s)return new x(0);for(e.s*=p.s,r=p.e+e.e,m=b.length,h=j.length,m<h&&(o=b,b=j,j=o,u=m,m=h,h=u),o=[],u=m+h,a=u;a--;)o.push(0);for(a=h;--a>=0;){for(t=0,l=m+a;l>a;)f=o[l]+j[a]*b[l-a-1]+t,o[l--]=f%fr|0,t=f/fr|0;o[l]=(o[l]+t)%fr|0}for(;!o[--u];)o.pop();return t?++r:o.shift(),e.d=o,e.e=r,Ot?gt(e,x.precision):e};Me.toDecimalPlaces=Me.todp=function(e,t){var r=this,a=r.constructor;return r=new a(r),e===void 0?r:(da(e,0,ro),t===void 0?t=a.rounding:da(t,0,8),gt(r,e+Jt(r)+1,t))};Me.toExponential=function(e,t){var r,a=this,l=a.constructor;return e===void 0?r=Ds(a,!0):(da(e,0,ro),t===void 0?t=l.rounding:da(t,0,8),a=gt(new l(a),e+1,t),r=Ds(a,!0,e+1)),r};Me.toFixed=function(e,t){var r,a,l=this,o=l.constructor;return e===void 0?Ds(l):(da(e,0,ro),t===void 0?t=o.rounding:da(t,0,8),a=gt(new o(l),e+Jt(l)+1,t),r=Ds(a.abs(),!1,e+Jt(a)+1),l.isneg()&&!l.isZero()?"-"+r:r)};Me.toInteger=Me.toint=function(){var e=this,t=e.constructor;return gt(new t(e),Jt(e)+1,t.rounding)};Me.toNumber=function(){return+this};Me.toPower=Me.pow=function(e){var t,r,a,l,o,u,f=this,m=f.constructor,h=12,p=+(e=new m(e));if(!e.s)return new m(fn);if(f=new m(f),!f.s){if(e.s<1)throw Error(Ln+"Infinity");return f}if(f.eq(fn))return f;if(a=m.precision,e.eq(fn))return gt(f,a);if(t=e.e,r=e.d.length-1,u=t>=r,o=f.s,u){if((r=p<0?-p:p)<=v6){for(l=new m(fn),t=Math.ceil(a/Nt+4),Ot=!1;r%2&&(l=l.times(f),y5(l.d,t)),r=no(r/2),r!==0;)f=f.times(f),y5(f.d,t);return Ot=!0,e.s<0?new m(fn).div(l):gt(l,a)}}else if(o<0)throw Error(Ln+"NaN");return o=o<0&&e.d[Math.max(t,r)]&1?-1:1,f.s=1,Ot=!1,l=e.times(Lc(f,a+h)),Ot=!0,l=b6(l),l.s=o,l};Me.toPrecision=function(e,t){var r,a,l=this,o=l.constructor;return e===void 0?(r=Jt(l),a=Ds(l,r<=o.toExpNeg||r>=o.toExpPos)):(da(e,1,ro),t===void 0?t=o.rounding:da(t,0,8),l=gt(new o(l),e,t),r=Jt(l),a=Ds(l,e<=r||r<=o.toExpNeg,e)),a};Me.toSignificantDigits=Me.tosd=function(e,t){var r=this,a=r.constructor;return e===void 0?(e=a.precision,t=a.rounding):(da(e,1,ro),t===void 0?t=a.rounding:da(t,0,8)),gt(new a(r),e,t)};Me.toString=Me.valueOf=Me.val=Me.toJSON=Me[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Jt(e),r=e.constructor;return Ds(e,t<=r.toExpNeg||t>=r.toExpPos)};function y6(e,t){var r,a,l,o,u,f,m,h,p=e.constructor,x=p.precision;if(!e.s||!t.s)return t.s||(t=new p(e)),Ot?gt(t,x):t;if(m=e.d,h=t.d,u=e.e,l=t.e,m=m.slice(),o=u-l,o){for(o<0?(a=m,o=-o,f=h.length):(a=h,l=u,f=m.length),u=Math.ceil(x/Nt),f=u>f?u+1:f+1,o>f&&(o=f,a.length=1),a.reverse();o--;)a.push(0);a.reverse()}for(f=m.length,o=h.length,f-o<0&&(o=f,a=h,h=m,m=a),r=0;o;)r=(m[--o]=m[o]+h[o]+r)/fr|0,m[o]%=fr;for(r&&(m.unshift(r),++l),f=m.length;m[--f]==0;)m.pop();return t.d=m,t.e=l,Ot?gt(t,x):t}function da(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Os+e)}function sa(e){var t,r,a,l=e.length-1,o="",u=e[0];if(l>0){for(o+=u,t=1;t<l;t++)a=e[t]+"",r=Nt-a.length,r&&(o+=Ti(r)),o+=a;u=e[t],a=u+"",r=Nt-a.length,r&&(o+=Ti(r))}else if(u===0)return"0";for(;u%10===0;)u/=10;return o+u}var Ia=(function(){function e(a,l){var o,u=0,f=a.length;for(a=a.slice();f--;)o=a[f]*l+u,a[f]=o%fr|0,u=o/fr|0;return u&&a.unshift(u),a}function t(a,l,o,u){var f,m;if(o!=u)m=o>u?1:-1;else for(f=m=0;f<o;f++)if(a[f]!=l[f]){m=a[f]>l[f]?1:-1;break}return m}function r(a,l,o){for(var u=0;o--;)a[o]-=u,u=a[o]<l[o]?1:0,a[o]=u*fr+a[o]-l[o];for(;!a[0]&&a.length>1;)a.shift()}return function(a,l,o,u){var f,m,h,p,x,b,j,w,N,S,E,O,_,T,k,L,$,G,J=a.constructor,ue=a.s==l.s?1:-1,F=a.d,q=l.d;if(!a.s)return new J(a);if(!l.s)throw Error(Ln+"Division by zero");for(m=a.e-l.e,$=q.length,k=F.length,j=new J(ue),w=j.d=[],h=0;q[h]==(F[h]||0);)++h;if(q[h]>(F[h]||0)&&--m,o==null?O=o=J.precision:u?O=o+(Jt(a)-Jt(l))+1:O=o,O<0)return new J(0);if(O=O/Nt+2|0,h=0,$==1)for(p=0,q=q[0],O++;(h<k||p)&&O--;h++)_=p*fr+(F[h]||0),w[h]=_/q|0,p=_%q|0;else{for(p=fr/(q[0]+1)|0,p>1&&(q=e(q,p),F=e(F,p),$=q.length,k=F.length),T=$,N=F.slice(0,$),S=N.length;S<$;)N[S++]=0;G=q.slice(),G.unshift(0),L=q[0],q[1]>=fr/2&&++L;do p=0,f=t(q,N,$,S),f<0?(E=N[0],$!=S&&(E=E*fr+(N[1]||0)),p=E/L|0,p>1?(p>=fr&&(p=fr-1),x=e(q,p),b=x.length,S=N.length,f=t(x,N,b,S),f==1&&(p--,r(x,$<b?G:q,b))):(p==0&&(f=p=1),x=q.slice()),b=x.length,b<S&&x.unshift(0),r(N,x,S),f==-1&&(S=N.length,f=t(q,N,$,S),f<1&&(p++,r(N,$<S?G:q,S))),S=N.length):f===0&&(p++,N=[0]),w[h++]=p,f&&N[0]?N[S++]=F[T]||0:(N=[F[T]],S=1);while((T++<k||N[0]!==void 0)&&O--)}return w[0]||w.shift(),j.e=m,gt(j,u?o+Jt(j)+1:o)}})();function b6(e,t){var r,a,l,o,u,f,m=0,h=0,p=e.constructor,x=p.precision;if(Jt(e)>16)throw Error(Py+Jt(e));if(!e.s)return new p(fn);for(Ot=!1,f=x,u=new p(.03125);e.abs().gte(.1);)e=e.times(u),h+=5;for(a=Math.log(hs(2,h))/Math.LN10*2+5|0,f+=a,r=l=o=new p(fn),p.precision=f;;){if(l=gt(l.times(e),f),r=r.times(++m),u=o.plus(Ia(l,r,f)),sa(u.d).slice(0,f)===sa(o.d).slice(0,f)){for(;h--;)o=gt(o.times(o),f);return p.precision=x,t==null?(Ot=!0,gt(o,x)):o}o=u}}function Jt(e){for(var t=e.e*Nt,r=e.d[0];r>=10;r/=10)t++;return t}function Yx(e,t,r){if(t>e.LN10.sd())throw Ot=!0,r&&(e.precision=r),Error(Ln+"LN10 precision limit exceeded");return gt(new e(e.LN10),t)}function Ti(e){for(var t="";e--;)t+="0";return t}function Lc(e,t){var r,a,l,o,u,f,m,h,p,x=1,b=10,j=e,w=j.d,N=j.constructor,S=N.precision;if(j.s<1)throw Error(Ln+(j.s?"NaN":"-Infinity"));if(j.eq(fn))return new N(0);if(t==null?(Ot=!1,h=S):h=t,j.eq(10))return t==null&&(Ot=!0),Yx(N,h);if(h+=b,N.precision=h,r=sa(w),a=r.charAt(0),o=Jt(j),Math.abs(o)<15e14){for(;a<7&&a!=1||a==1&&r.charAt(1)>3;)j=j.times(e),r=sa(j.d),a=r.charAt(0),x++;o=Jt(j),a>1?(j=new N("0."+r),o++):j=new N(a+"."+r.slice(1))}else return m=Yx(N,h+2,S).times(o+""),j=Lc(new N(a+"."+r.slice(1)),h-b).plus(m),N.precision=S,t==null?(Ot=!0,gt(j,S)):j;for(f=u=j=Ia(j.minus(fn),j.plus(fn),h),p=gt(j.times(j),h),l=3;;){if(u=gt(u.times(p),h),m=f.plus(Ia(u,new N(l),h)),sa(m.d).slice(0,h)===sa(f.d).slice(0,h))return f=f.times(2),o!==0&&(f=f.plus(Yx(N,h+2,S).times(o+""))),f=Ia(f,new N(x),h),N.precision=S,t==null?(Ot=!0,gt(f,S)):f;f=m,l+=2}}function v5(e,t){var r,a,l;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(a=t.search(/e/i))>0?(r<0&&(r=a),r+=+t.slice(a+1),t=t.substring(0,a)):r<0&&(r=t.length),a=0;t.charCodeAt(a)===48;)++a;for(l=t.length;t.charCodeAt(l-1)===48;)--l;if(t=t.slice(a,l),t){if(l-=a,r=r-a-1,e.e=no(r/Nt),e.d=[],a=(r+1)%Nt,r<0&&(a+=Nt),a<l){for(a&&e.d.push(+t.slice(0,a)),l-=Nt;a<l;)e.d.push(+t.slice(a,a+=Nt));t=t.slice(a),a=Nt-t.length}else a-=l;for(;a--;)t+="0";if(e.d.push(+t),Ot&&(e.e>Vf||e.e<-Vf))throw Error(Py+r)}else e.s=0,e.e=0,e.d=[0];return e}function gt(e,t,r){var a,l,o,u,f,m,h,p,x=e.d;for(u=1,o=x[0];o>=10;o/=10)u++;if(a=t-u,a<0)a+=Nt,l=t,h=x[p=0];else{if(p=Math.ceil((a+1)/Nt),o=x.length,p>=o)return e;for(h=o=x[p],u=1;o>=10;o/=10)u++;a%=Nt,l=a-Nt+u}if(r!==void 0&&(o=hs(10,u-l-1),f=h/o%10|0,m=t<0||x[p+1]!==void 0||h%o,m=r<4?(f||m)&&(r==0||r==(e.s<0?3:2)):f>5||f==5&&(r==4||m||r==6&&(a>0?l>0?h/hs(10,u-l):0:x[p-1])%10&1||r==(e.s<0?8:7))),t<1||!x[0])return m?(o=Jt(e),x.length=1,t=t-o-1,x[0]=hs(10,(Nt-t%Nt)%Nt),e.e=no(-t/Nt)||0):(x.length=1,x[0]=e.e=e.s=0),e;if(a==0?(x.length=p,o=1,p--):(x.length=p+1,o=hs(10,Nt-a),x[p]=l>0?(h/hs(10,u-l)%hs(10,l)|0)*o:0),m)for(;;)if(p==0){(x[0]+=o)==fr&&(x[0]=1,++e.e);break}else{if(x[p]+=o,x[p]!=fr)break;x[p--]=0,o=1}for(a=x.length;x[--a]===0;)x.pop();if(Ot&&(e.e>Vf||e.e<-Vf))throw Error(Py+Jt(e));return e}function j6(e,t){var r,a,l,o,u,f,m,h,p,x,b=e.constructor,j=b.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new b(e),Ot?gt(t,j):t;if(m=e.d,x=t.d,a=t.e,h=e.e,m=m.slice(),u=h-a,u){for(p=u<0,p?(r=m,u=-u,f=x.length):(r=x,a=h,f=m.length),l=Math.max(Math.ceil(j/Nt),f)+2,u>l&&(u=l,r.length=1),r.reverse(),l=u;l--;)r.push(0);r.reverse()}else{for(l=m.length,f=x.length,p=l<f,p&&(f=l),l=0;l<f;l++)if(m[l]!=x[l]){p=m[l]<x[l];break}u=0}for(p&&(r=m,m=x,x=r,t.s=-t.s),f=m.length,l=x.length-f;l>0;--l)m[f++]=0;for(l=x.length;l>u;){if(m[--l]<x[l]){for(o=l;o&&m[--o]===0;)m[o]=fr-1;--m[o],m[l]+=fr}m[l]-=x[l]}for(;m[--f]===0;)m.pop();for(;m[0]===0;m.shift())--a;return m[0]?(t.d=m,t.e=a,Ot?gt(t,j):t):new b(0)}function Ds(e,t,r){var a,l=Jt(e),o=sa(e.d),u=o.length;return t?(r&&(a=r-u)>0?o=o.charAt(0)+"."+o.slice(1)+Ti(a):u>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(l<0?"e":"e+")+l):l<0?(o="0."+Ti(-l-1)+o,r&&(a=r-u)>0&&(o+=Ti(a))):l>=u?(o+=Ti(l+1-u),r&&(a=r-l-1)>0&&(o=o+"."+Ti(a))):((a=l+1)<u&&(o=o.slice(0,a)+"."+o.slice(a)),r&&(a=r-u)>0&&(l+1===u&&(o+="."),o+=Ti(a))),e.s<0?"-"+o:o}function y5(e,t){if(e.length>t)return e.length=t,!0}function w6(e){var t,r,a;function l(o){var u=this;if(!(u instanceof l))return new l(o);if(u.constructor=l,o instanceof l){u.s=o.s,u.e=o.e,u.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Os+o);if(o>0)u.s=1;else if(o<0)o=-o,u.s=-1;else{u.s=0,u.e=0,u.d=[0];return}if(o===~~o&&o<1e7){u.e=0,u.d=[o];return}return v5(u,o.toString())}else if(typeof o!="string")throw Error(Os+o);if(o.charCodeAt(0)===45?(o=o.slice(1),u.s=-1):u.s=1,bq.test(o))v5(u,o);else throw Error(Os+o)}if(l.prototype=Me,l.ROUND_UP=0,l.ROUND_DOWN=1,l.ROUND_CEIL=2,l.ROUND_FLOOR=3,l.ROUND_HALF_UP=4,l.ROUND_HALF_DOWN=5,l.ROUND_HALF_EVEN=6,l.ROUND_HALF_CEIL=7,l.ROUND_HALF_FLOOR=8,l.clone=w6,l.config=l.set=jq,e===void 0&&(e={}),e)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<a.length;)e.hasOwnProperty(r=a[t++])||(e[r]=this[r]);return l.config(e),l}function jq(e){if(!e||typeof e!="object")throw Error(Ln+"Object expected");var t,r,a,l=["precision",1,ro,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<l.length;t+=3)if((a=e[r=l[t]])!==void 0)if(no(a)===a&&a>=l[t+1]&&a<=l[t+2])this[r]=a;else throw Error(Os+r+": "+a);if((a=e[r="LN10"])!==void 0)if(a==Math.LN10)this[r]=new this(a);else throw Error(Os+r+": "+a);return this}var Dy=w6(yq);fn=new Dy(1);const ot=Dy;var wq=e=>e,N6={},S6=e=>e===N6,b5=e=>function t(){return arguments.length===0||arguments.length===1&&S6(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},A6=(e,t)=>e===1?t:b5(function(){for(var r=arguments.length,a=new Array(r),l=0;l<r;l++)a[l]=arguments[l];var o=a.filter(u=>u!==N6).length;return o>=e?t(...a):A6(e-o,b5(function(){for(var u=arguments.length,f=new Array(u),m=0;m<u;m++)f[m]=arguments[m];var h=a.map(p=>S6(p)?f.shift():p);return t(...h,...f)}))}),Nq=e=>A6(e.length,e),iv=(e,t)=>{for(var r=[],a=e;a<t;++a)r[a-e]=a;return r},Sq=Nq((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),Aq=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];if(!r.length)return wq;var l=r.reverse(),o=l[0],u=l.slice(1);return function(){return u.reduce((f,m)=>m(f),o(...arguments))}},sv=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function E6(e){var t;return e===0?t=1:t=Math.floor(new ot(e).abs().log(10).toNumber())+1,t}function _6(e,t,r){for(var a=new ot(e),l=0,o=[];a.lt(t)&&l<1e5;)o.push(a.toNumber()),a=a.add(r),l++;return o}var O6=e=>{var[t,r]=e,[a,l]=[t,r];return t>r&&([a,l]=[r,t]),[a,l]},C6=(e,t,r)=>{if(e.lte(0))return new ot(0);var a=E6(e.toNumber()),l=new ot(10).pow(a),o=e.div(l),u=a!==1?.05:.1,f=new ot(Math.ceil(o.div(u).toNumber())).add(r).mul(u),m=f.mul(l);return t?new ot(m.toNumber()):new ot(Math.ceil(m.toNumber()))},Eq=(e,t,r)=>{var a=new ot(1),l=new ot(e);if(!l.isint()&&r){var o=Math.abs(e);o<1?(a=new ot(10).pow(E6(e)-1),l=new ot(Math.floor(l.div(a).toNumber())).mul(a)):o>1&&(l=new ot(Math.floor(e)))}else e===0?l=new ot(Math.floor((t-1)/2)):r||(l=new ot(Math.floor(e)));var u=Math.floor((t-1)/2),f=Aq(Sq(m=>l.add(new ot(m-u).mul(a)).toNumber()),iv);return f(0,t)},k6=function(t,r,a,l){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(a-1)))return{step:new ot(0),tickMin:new ot(0),tickMax:new ot(0)};var u=C6(new ot(r).sub(t).div(a-1),l,o),f;t<=0&&r>=0?f=new ot(0):(f=new ot(t).add(r).div(2),f=f.sub(new ot(f).mod(u)));var m=Math.ceil(f.sub(t).div(u).toNumber()),h=Math.ceil(new ot(r).sub(f).div(u).toNumber()),p=m+h+1;return p>a?k6(t,r,a,l,o+1):(p<a&&(h=r>0?h+(a-p):h,m=r>0?m:m+(a-p)),{step:u,tickMin:f.sub(new ot(m).mul(u)),tickMax:f.add(new ot(h).mul(u))})},_q=function(t){var[r,a]=t,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,u=Math.max(l,2),[f,m]=O6([r,a]);if(f===-1/0||m===1/0){var h=m===1/0?[f,...iv(0,l-1).map(()=>1/0)]:[...iv(0,l-1).map(()=>-1/0),m];return r>a?sv(h):h}if(f===m)return Eq(f,l,o);var{step:p,tickMin:x,tickMax:b}=k6(f,m,u,o,0),j=_6(x,b.add(new ot(.1).mul(p)),p);return r>a?sv(j):j},Oq=function(t,r){var[a,l]=t,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[u,f]=O6([a,l]);if(u===-1/0||f===1/0)return[a,l];if(u===f)return[u];var m=Math.max(r,2),h=C6(new ot(f).sub(u).div(m-1),o,0),p=[..._6(new ot(u),new ot(f),h),f];return o===!1&&(p=p.map(x=>Math.round(x))),a>l?sv(p):p},T6=e=>e.rootProps.maxBarSize,Cq=e=>e.rootProps.barGap,M6=e=>e.rootProps.barCategoryGap,kq=e=>e.rootProps.barSize,cu=e=>e.rootProps.stackOffset,P6=e=>e.rootProps.reverseStackOrder,Ry=e=>e.options.chartName,Ly=e=>e.rootProps.syncId,D6=e=>e.rootProps.syncMethod,zy=e=>e.options.eventEmitter,Zt={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Da={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},dn={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Um=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},Tq={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Da.angleAxisId,includeHidden:!1,name:void 0,reversed:Da.reversed,scale:Da.scale,tick:Da.tick,tickCount:void 0,ticks:void 0,type:Da.type,unit:void 0},Mq={allowDataOverflow:dn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:dn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:dn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:dn.scale,tick:dn.tick,tickCount:dn.tickCount,ticks:void 0,type:dn.type,unit:void 0},Pq={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Da.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Da.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Da.scale,tick:Da.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Dq={allowDataOverflow:dn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:dn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:dn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:dn.scale,tick:dn.tick,tickCount:dn.tickCount,ticks:void 0,type:"category",unit:void 0},By=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?Pq:Tq,$y=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?Dq:Mq,qm=e=>e.polarOptions,Iy=oe([Za,Ja,ar],M_),R6=oe([qm,Iy],(e,t)=>{if(e!=null)return kr(e.innerRadius,t,0)}),L6=oe([qm,Iy],(e,t)=>{if(e!=null)return kr(e.outerRadius,t,t*.8)}),Rq=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},z6=oe([qm],Rq);oe([By,z6],Um);var B6=oe([Iy,R6,L6],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});oe([$y,B6],Um);var $6=oe([Je,qm,R6,L6,Za,Ja],(e,t,r,a,l,o)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||a==null)){var{cx:u,cy:f,startAngle:m,endAngle:h}=t;return{cx:kr(u,l,l/2),cy:kr(f,o,o/2),innerRadius:r,outerRadius:a,startAngle:m,endAngle:h,clockWise:!1}}}),Tt=(e,t)=>t,uu=(e,t,r)=>r;function Uy(e){return e?.id}function I6(e,t,r){var{chartData:a=[]}=t,{allowDuplicatedCategory:l,dataKey:o}=r,u=new Map;return e.forEach(f=>{var m,h=(m=f.data)!==null&&m!==void 0?m:a;if(!(h==null||h.length===0)){var p=Uy(f);h.forEach((x,b)=>{var j=o==null||l?b:String(xt(x,o,null)),w=xt(x,f.dataKey,0),N;u.has(j)?N=u.get(j):N={},Object.assign(N,{[p]:w}),u.set(j,N)})}}),Array.from(u.values())}function Fm(e){return e.stackId!=null&&e.dataKey!=null}var Hm=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Vm(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function Lq(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var sr=e=>{var t=Je(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},ao=e=>e.tooltip.settings.axisId;function j5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,a)}return r}function Yf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j5(Object(r),!0).forEach(function(a){zq(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j5(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function zq(e,t,r){return(t=Bq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bq(e){var t=$q(e,"string");return typeof t=="symbol"?t:t+""}function $q(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lv=[0,"auto"],ur={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},U6=(e,t)=>e.cartesianAxis.xAxis[t],ti=(e,t)=>{var r=U6(e,t);return r??ur},dr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:lv,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Jc},q6=(e,t)=>e.cartesianAxis.yAxis[t],ri=(e,t)=>{var r=q6(e,t);return r??dr},Iq={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},qy=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??Iq},Pt=(e,t,r)=>{switch(t){case"xAxis":return ti(e,r);case"yAxis":return ri(e,r);case"zAxis":return qy(e,r);case"angleAxis":return By(e,r);case"radiusAxis":return $y(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Uq=(e,t,r)=>{switch(t){case"xAxis":return ti(e,r);case"yAxis":return ri(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},du=(e,t,r)=>{switch(t){case"xAxis":return ti(e,r);case"yAxis":return ri(e,r);case"angleAxis":return By(e,r);case"radiusAxis":return $y(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},F6=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function Fy(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var Ym=e=>e.graphicalItems.cartesianItems,qq=oe([Tt,uu],Fy),Hy=(e,t,r)=>e.filter(r).filter(a=>t?.includeHidden===!0?!0:!a.hide),fu=oe([Ym,Pt,qq],Hy,{memoizeOptions:{resultEqualityCheck:Vm}}),H6=oe([fu],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Fm)),V6=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),Fq=oe([fu],V6),Vy=e=>e.map(t=>t.data).filter(Boolean).flat(1),Hq=oe([fu],Vy,{memoizeOptions:{resultEqualityCheck:Vm}}),Yy=(e,t)=>{var{chartData:r=[],dataStartIndex:a,dataEndIndex:l}=t;return e.length>0?e:r.slice(a,l+1)},Ky=oe([Hq,Im],Yy),Gy=(e,t,r)=>t?.dataKey!=null?e.map(a=>({value:xt(a,t.dataKey)})):r.length>0?r.map(a=>a.dataKey).flatMap(a=>e.map(l=>({value:xt(l,a)}))):e.map(a=>({value:a})),Km=oe([Ky,Pt,fu],Gy);function Y6(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function of(e){if(ca(e)||e instanceof Date){var t=Number(e);if(Ht(t))return t}}function w5(e){if(Array.isArray(e)){var t=[of(e[0]),of(e[1])];return Bi(t)?t:void 0}var r=of(e);if(r!=null)return[r,r]}function Ga(e){return e.map(of).filter($7)}function Vq(e,t,r){return!r||typeof t!="number"||Gn(t)?[]:r.length?Ga(r.flatMap(a=>{var l=xt(e,a.dataKey),o,u;if(Array.isArray(l)?[o,u]=l:o=u=l,!(!Ht(o)||!Ht(u)))return[t-o,t+u]})):[]}var lr=e=>{var t=sr(e),r=ao(e);return du(e,t,r)},mu=oe([lr],e=>e?.dataKey),Yq=oe([H6,Im,lr],I6),K6=(e,t,r,a)=>{var l={},o=t.reduce((u,f)=>(f.stackId==null||(u[f.stackId]==null&&(u[f.stackId]=[]),u[f.stackId].push(f)),u),l);return Object.fromEntries(Object.entries(o).map(u=>{var[f,m]=u,h=a?[...m].reverse():m,p=h.map(Uy);return[f,{stackedData:fz(e,p,r),graphicalItems:h}]}))},ov=oe([Yq,H6,cu,P6],K6),G6=(e,t,r,a)=>{var{dataStartIndex:l,dataEndIndex:o}=t;if(a==null&&r!=="zAxis"){var u=gz(e,l,o);if(!(u!=null&&u[0]===0&&u[1]===0))return u}},Kq=oe([Pt],e=>e.allowDataOverflow),Wy=e=>{var t;if(e==null||!("domain"in e))return lv;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=Ga(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:lv},Qy=oe([Pt],Wy),Xy=oe([Qy,Kq],g6),Gq=oe([ov,Yi,Tt,Xy],G6,{memoizeOptions:{resultEqualityCheck:Hm}}),Gm=e=>e.errorBars,Wq=(e,t,r)=>e.flatMap(a=>t[a.id]).filter(Boolean).filter(a=>Y6(r,a)),Kf=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];var l=r.filter(Boolean);if(l.length!==0){var o=l.flat(),u=Math.min(...o),f=Math.max(...o);return[u,f]}},Zy=(e,t,r,a,l)=>{var o,u;if(r.length>0&&e.forEach(f=>{r.forEach(m=>{var h,p,x=(h=a[m.id])===null||h===void 0?void 0:h.filter(E=>Y6(l,E)),b=xt(f,(p=t.dataKey)!==null&&p!==void 0?p:m.dataKey),j=Vq(f,b,x);if(j.length>=2){var w=Math.min(...j),N=Math.max(...j);(o==null||w<o)&&(o=w),(u==null||N>u)&&(u=N)}var S=w5(b);S!=null&&(o=o==null?S[0]:Math.min(o,S[0]),u=u==null?S[1]:Math.max(u,S[1]))})}),t?.dataKey!=null&&e.forEach(f=>{var m=w5(xt(f,t.dataKey));m!=null&&(o=o==null?m[0]:Math.min(o,m[0]),u=u==null?m[1]:Math.max(u,m[1]))}),Ht(o)&&Ht(u))return[o,u]},Qq=oe([Ky,Pt,Fq,Gm,Tt],Zy,{memoizeOptions:{resultEqualityCheck:Hm}});function Xq(e){var{value:t}=e;if(ca(t)||t instanceof Date)return t}var Zq=(e,t,r)=>{var a=e.map(Xq).filter(l=>l!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&dE(a))?L_(0,e.length):t.allowDuplicatedCategory?a:Array.from(new Set(a))},W6=e=>e.referenceElements.dots,io=(e,t,r)=>e.filter(a=>a.ifOverflow==="extendDomain").filter(a=>t==="xAxis"?a.xAxisId===r:a.yAxisId===r),Jq=oe([W6,Tt,uu],io),Q6=e=>e.referenceElements.areas,eF=oe([Q6,Tt,uu],io),X6=e=>e.referenceElements.lines,tF=oe([X6,Tt,uu],io),Z6=(e,t)=>{var r=Ga(e.map(a=>t==="xAxis"?a.x:a.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},rF=oe(Jq,Tt,Z6),J6=(e,t)=>{var r=Ga(e.flatMap(a=>[t==="xAxis"?a.x1:a.y1,t==="xAxis"?a.x2:a.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},nF=oe([eF,Tt],J6);function aF(e){var t;if(e.x!=null)return Ga([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(a=>a.x);return r==null||r.length===0?[]:Ga(r)}function iF(e){var t;if(e.y!=null)return Ga([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(a=>a.y);return r==null||r.length===0?[]:Ga(r)}var eO=(e,t)=>{var r=e.flatMap(a=>t==="xAxis"?aF(a):iF(a));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},sF=oe([tF,Tt],eO),lF=oe(rF,sF,nF,(e,t,r)=>Kf(e,r,t)),Jy=(e,t,r,a,l,o,u,f)=>{if(r!=null)return r;var m=u==="vertical"&&f==="xAxis"||u==="horizontal"&&f==="yAxis",h=m?Kf(a,o,l):Kf(o,l);return vq(t,h,e.allowDataOverflow)},oF=oe([Pt,Qy,Xy,Gq,Qq,lF,Je,Tt],Jy,{memoizeOptions:{resultEqualityCheck:Hm}}),cF=[0,1],eb=(e,t,r,a,l,o,u)=>{if(!((e==null||r==null||r.length===0)&&u===void 0)){var{dataKey:f,type:m}=e,h=Fi(t,o);if(h&&f==null){var p;return L_(0,(p=r?.length)!==null&&p!==void 0?p:0)}return m==="category"?Zq(a,e,h):l==="expand"?cF:u}},tb=oe([Pt,Je,Ky,Km,cu,Tt,oF],eb),tO=(e,t,r,a,l)=>{if(e!=null){var{scale:o,type:u}=e;if(o==="auto")return t==="radial"&&l==="radiusAxis"?"band":t==="radial"&&l==="angleAxis"?"linear":u==="category"&&a&&(a.indexOf("LineChart")>=0||a.indexOf("AreaChart")>=0||a.indexOf("ComposedChart")>=0&&!r)?"point":u==="category"?"band":"linear";if(typeof o=="string"){var f="scale".concat(Kc(o));return f in gc?f:"point"}}},so=oe([Pt,Je,F6,Ry,Tt],tO);function uF(e){if(e!=null){if(e in gc)return gc[e]();var t="scale".concat(Kc(e));if(t in gc)return gc[t]()}}function rb(e,t,r,a){if(!(r==null||a==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(a);var l=uF(t);if(l!=null){var o=l.domain(r).range(a);return lz(o),o}}}var nb=(e,t,r)=>{var a=Wy(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(a)&&(a[0]==="auto"||a[1]==="auto")&&Bi(e))return _q(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Bi(e))return Oq(e,t.tickCount,t.allowDecimals)}},ab=oe([tb,du,so],nb),ib=(e,t,r,a)=>{if(a!=="angleAxis"&&e?.type==="number"&&Bi(t)&&Array.isArray(r)&&r.length>0){var l=t[0],o=r[0],u=t[1],f=r[r.length-1];return[Math.min(l,o),Math.max(u,f)]}return t},dF=oe([Pt,tb,ab,Tt],ib),fF=oe(Km,Pt,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,a=Array.from(Ga(e.map(f=>f.value))).sort((f,m)=>f-m);if(a.length<2)return 1/0;var l=a[a.length-1]-a[0];if(l===0)return 1/0;for(var o=0;o<a.length-1;o++){var u=a[o+1]-a[o];r=Math.min(r,u)}return r/l}}),rO=oe(fF,Je,M6,ar,(e,t,r,a)=>a,(e,t,r,a,l)=>{if(!Ht(e))return 0;var o=t==="vertical"?a.height:a.width;if(l==="gap")return e*o/2;if(l==="no-gap"){var u=kr(r,e*o),f=e*o/2;return f-u-(f-u)/o*u}return 0}),mF=(e,t)=>{var r=ti(e,t);return r==null||typeof r.padding!="string"?0:rO(e,"xAxis",t,r.padding)},hF=(e,t)=>{var r=ri(e,t);return r==null||typeof r.padding!="string"?0:rO(e,"yAxis",t,r.padding)},pF=oe(ti,mF,(e,t)=>{var r,a;if(e==null)return{left:0,right:0};var{padding:l}=e;return typeof l=="string"?{left:t,right:t}:{left:((r=l.left)!==null&&r!==void 0?r:0)+t,right:((a=l.right)!==null&&a!==void 0?a:0)+t}}),xF=oe(ri,hF,(e,t)=>{var r,a;if(e==null)return{top:0,bottom:0};var{padding:l}=e;return typeof l=="string"?{top:t,bottom:t}:{top:((r=l.top)!==null&&r!==void 0?r:0)+t,bottom:((a=l.bottom)!==null&&a!==void 0?a:0)+t}}),gF=oe([ar,pF,Om,_m,(e,t,r)=>r],(e,t,r,a,l)=>{var{padding:o}=a;return l?[o.left,r.width-o.right]:[e.left+t.left,e.left+e.width-t.right]}),vF=oe([ar,Je,xF,Om,_m,(e,t,r)=>r],(e,t,r,a,l,o)=>{var{padding:u}=l;return o?[a.height-u.bottom,u.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),hu=(e,t,r,a)=>{var l;switch(t){case"xAxis":return gF(e,r,a);case"yAxis":return vF(e,r,a);case"zAxis":return(l=qy(e,r))===null||l===void 0?void 0:l.range;case"angleAxis":return z6(e);case"radiusAxis":return B6(e,r);default:return}},nO=oe([Pt,hu],Um),lo=oe([Pt,so,dF,nO],rb);oe([fu,Gm,Tt],Wq);function aO(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Wm=(e,t)=>t,Qm=(e,t,r)=>r,yF=oe(Am,Wm,Qm,(e,t,r)=>e.filter(a=>a.orientation===t).filter(a=>a.mirror===r).sort(aO)),bF=oe(Em,Wm,Qm,(e,t,r)=>e.filter(a=>a.orientation===t).filter(a=>a.mirror===r).sort(aO)),iO=(e,t)=>({width:e.width,height:t.height}),jF=(e,t)=>{var r=typeof t.width=="number"?t.width:Jc;return{width:r,height:e.height}},sO=oe(ar,ti,iO),wF=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},NF=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},SF=oe(Ja,ar,yF,Wm,Qm,(e,t,r,a,l)=>{var o={},u;return r.forEach(f=>{var m=iO(t,f);u==null&&(u=wF(t,a,e));var h=a==="top"&&!l||a==="bottom"&&l;o[f.id]=u-Number(h)*m.height,u+=(h?-1:1)*m.height}),o}),AF=oe(Za,ar,bF,Wm,Qm,(e,t,r,a,l)=>{var o={},u;return r.forEach(f=>{var m=jF(t,f);u==null&&(u=NF(t,a,e));var h=a==="left"&&!l||a==="right"&&l;o[f.id]=u-Number(h)*m.width,u+=(h?-1:1)*m.width}),o}),EF=(e,t)=>{var r=ti(e,t);if(r!=null)return SF(e,r.orientation,r.mirror)},_F=oe([ar,ti,EF,(e,t)=>t],(e,t,r,a)=>{if(t!=null){var l=r?.[a];return l==null?{x:e.left,y:0}:{x:e.left,y:l}}}),OF=(e,t)=>{var r=ri(e,t);if(r!=null)return AF(e,r.orientation,r.mirror)},CF=oe([ar,ri,OF,(e,t)=>t],(e,t,r,a)=>{if(t!=null){var l=r?.[a];return l==null?{x:0,y:e.top}:{x:l,y:e.top}}}),lO=oe(ar,ri,(e,t)=>{var r=typeof t.width=="number"?t.width:Jc;return{width:r,height:e.height}}),N5=(e,t,r)=>{switch(t){case"xAxis":return sO(e,r).width;case"yAxis":return lO(e,r).height;default:return}},oO=(e,t,r,a)=>{if(r!=null){var{allowDuplicatedCategory:l,type:o,dataKey:u}=r,f=Fi(e,a),m=t.map(h=>h.value);if(u&&f&&o==="category"&&l&&dE(m))return m}},sb=oe([Je,Km,Pt,Tt],oO),cO=(e,t,r,a)=>{if(!(r==null||r.dataKey==null)){var{type:l,scale:o}=r,u=Fi(e,a);if(u&&(l==="number"||o!=="auto"))return t.map(f=>f.value)}},lb=oe([Je,Km,du,Tt],cO),S5=oe([Je,Uq,so,lo,sb,lb,hu,ab,Tt],(e,t,r,a,l,o,u,f,m)=>{if(t!=null){var h=Fi(e,m);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:m,categoricalDomain:o,duplicateDomain:l,isCategorical:h,niceTicks:f,range:u,realScaleType:r,scale:a}}}),kF=(e,t,r,a,l,o,u,f,m)=>{if(!(t==null||a==null)){var h=Fi(e,m),{type:p,ticks:x,tickCount:b}=t,j=r==="scaleBand"&&typeof a.bandwidth=="function"?a.bandwidth()/2:2,w=p==="category"&&a.bandwidth?a.bandwidth()/j:0;w=m==="angleAxis"&&o!=null&&o.length>=2?hr(o[0]-o[1])*2*w:w;var N=x||l;if(N){var S=N.map((E,O)=>{var _=u?u.indexOf(E):E;return{index:O,coordinate:a(_)+w,value:E,offset:w}});return S.filter(E=>Ht(E.coordinate))}return h&&f?f.map((E,O)=>({coordinate:a(E)+w,value:E,index:O,offset:w})).filter(E=>Ht(E.coordinate)):a.ticks?a.ticks(b).map(E=>({coordinate:a(E)+w,value:E,offset:w})):a.domain().map((E,O)=>({coordinate:a(E)+w,value:u?u[E]:E,index:O,offset:w}))}},uO=oe([Je,du,so,lo,ab,hu,sb,lb,Tt],kF),TF=(e,t,r,a,l,o,u)=>{if(!(t==null||r==null||a==null||a[0]===a[1])){var f=Fi(e,u),{tickCount:m}=t,h=0;return h=u==="angleAxis"&&a?.length>=2?hr(a[0]-a[1])*2*h:h,f&&o?o.map((p,x)=>({coordinate:r(p)+h,value:p,index:x,offset:h})):r.ticks?r.ticks(m).map(p=>({coordinate:r(p)+h,value:p,offset:h})):r.domain().map((p,x)=>({coordinate:r(p)+h,value:l?l[p]:p,index:x,offset:h}))}},$i=oe([Je,du,lo,hu,sb,lb,Tt],TF),Ii=oe(Pt,lo,(e,t)=>{if(!(e==null||t==null))return Yf(Yf({},e),{},{scale:t})}),MF=oe([Pt,so,tb,nO],rb);oe((e,t,r)=>qy(e,r),MF,(e,t)=>{if(!(e==null||t==null))return Yf(Yf({},e),{},{scale:t})});var PF=oe([Je,Am,Em],(e,t,r)=>{switch(e){case"horizontal":return t.some(a=>a.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(a=>a.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),dO=e=>e.options.defaultTooltipEventType,fO=e=>e.options.validateTooltipEventTypes;function mO(e,t,r){if(e==null)return t;var a=e?"axis":"item";return r==null?t:r.includes(a)?a:t}function ob(e,t){var r=dO(e),a=fO(e);return mO(t,r,a)}function DF(e){return Te(t=>ob(t,e))}var hO=(e,t)=>{var r,a=Number(t);if(!(Gn(a)||t==null))return a>=0?e==null||(r=e[a])===null||r===void 0?void 0:r.value:void 0},RF=e=>e.tooltip.settings,Pi={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},LF={itemInteraction:{click:Pi,hover:Pi},axisInteraction:{click:Pi,hover:Pi},keyboardInteraction:Pi,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},pO=en({name:"tooltip",initialState:LF,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Et()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:a}=t.payload,l=Kn(e).tooltipItemPayloads.indexOf(r);l>-1&&(e.tooltipItemPayloads[l]=a)},prepare:Et()},removeTooltipEntrySettings:{reducer(e,t){var r=Kn(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:Et()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:zF,replaceTooltipEntrySettings:BF,removeTooltipEntrySettings:$F,setTooltipSettingsState:IF,setActiveMouseOverItemIndex:xO,mouseLeaveItem:UF,mouseLeaveChart:gO,setActiveClickItemIndex:qF,setMouseOverAxisIndex:vO,setMouseClickAxisIndex:FF,setSyncInteraction:cv,setKeyboardInteraction:uv}=pO.actions,HF=pO.reducer;function A5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,a)}return r}function Wd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?A5(Object(r),!0).forEach(function(a){VF(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A5(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function VF(e,t,r){return(t=YF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YF(e){var t=KF(e,"string");return typeof t=="symbol"?t:t+""}function KF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function GF(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function WF(e){return e.index!=null}var yO=(e,t,r,a)=>{if(t==null)return Pi;var l=GF(e,t,r);if(l==null)return Pi;if(l.active)return l;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var o=e.settings.active===!0;if(WF(l)){if(o)return Wd(Wd({},l),{},{active:!0})}else if(a!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:a,graphicalItemId:void 0};return Wd(Wd({},Pi),{},{coordinate:l.coordinate})};function QF(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function XF(e,t){var r=QF(e),a=t[0],l=t[1];if(r===void 0)return!1;var o=Math.min(a,l),u=Math.max(a,l);return r>=o&&r<=u}function ZF(e,t,r){if(r==null||t==null)return!0;var a=xt(e,t);return a==null||!Bi(r)?!0:XF(a,r)}var cb=(e,t,r,a)=>{var l=e?.index;if(l==null)return null;var o=Number(l);if(!Ht(o))return l;var u=0,f=1/0;t.length>0&&(f=t.length-1);var m=Math.max(u,Math.min(o,f)),h=t[m];return h==null||ZF(h,r,a)?String(m):null},bO=(e,t,r,a,l,o,u,f)=>{if(!(o==null||f==null)){var m=u[0],h=m==null?void 0:f(m.positions,o);if(h!=null)return h;var p=l?.[Number(o)];if(p)switch(r){case"horizontal":return{x:p.coordinate,y:(a.top+t)/2};default:return{x:(a.left+e)/2,y:p.coordinate}}}},jO=(e,t,r,a)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var l;return r==="hover"?l=e.itemInteraction.hover.dataKey:l=e.itemInteraction.click.dataKey,l==null&&a!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(o=>{var u;return((u=o.settings)===null||u===void 0?void 0:u.dataKey)===l})},pu=e=>e.options.tooltipPayloadSearcher,oo=e=>e.tooltip;function E5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,a)}return r}function _5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?E5(Object(r),!0).forEach(function(a){JF(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E5(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function JF(e,t,r){return(t=eH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eH(e){var t=tH(e,"string");return typeof t=="symbol"?t:t+""}function tH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rH(e,t){return e??t}var wO=(e,t,r,a,l,o,u)=>{if(!(t==null||o==null)){var{chartData:f,computedData:m,dataStartIndex:h,dataEndIndex:p}=r,x=[];return e.reduce((b,j)=>{var w,{dataDefinedOnItem:N,settings:S}=j,E=rH(N,f),O=Array.isArray(E)?i_(E,h,p):E,_=(w=S?.dataKey)!==null&&w!==void 0?w:a,T=S?.nameKey,k;if(a&&Array.isArray(O)&&!Array.isArray(O[0])&&u==="axis"?k=fE(O,a,l):k=o(O,t,m,T),Array.isArray(k))k.forEach($=>{var G=_5(_5({},S),{},{name:$.name,unit:$.unit,color:void 0,fill:void 0});b.push(KS({tooltipEntrySettings:G,dataKey:$.dataKey,payload:$.payload,value:xt($.payload,$.dataKey),name:$.name}))});else{var L;b.push(KS({tooltipEntrySettings:S,dataKey:_,payload:k,value:xt(k,_),name:(L=xt(k,T))!==null&&L!==void 0?L:S?.name}))}return b},x)}},ub=oe([lr,Je,F6,Ry,sr],tO),nH=oe([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),aH=oe([sr,ao],Fy),xu=oe([nH,lr,aH],Hy,{memoizeOptions:{resultEqualityCheck:Vm}}),iH=oe([xu],e=>e.filter(Fm)),sH=oe([xu],Vy,{memoizeOptions:{resultEqualityCheck:Vm}}),co=oe([sH,Yi],Yy),lH=oe([iH,Yi,lr],I6),db=oe([co,lr,xu],Gy),NO=oe([lr],Wy),oH=oe([lr],e=>e.allowDataOverflow),SO=oe([NO,oH],g6),cH=oe([xu],e=>e.filter(Fm)),uH=oe([lH,cH,cu,P6],K6),dH=oe([uH,Yi,sr,SO],G6),fH=oe([xu],V6),mH=oe([co,lr,fH,Gm,sr],Zy,{memoizeOptions:{resultEqualityCheck:Hm}}),hH=oe([W6,sr,ao],io),pH=oe([hH,sr],Z6),xH=oe([Q6,sr,ao],io),gH=oe([xH,sr],J6),vH=oe([X6,sr,ao],io),yH=oe([vH,sr],eO),bH=oe([pH,yH,gH],Kf),jH=oe([lr,NO,SO,dH,mH,bH,Je,sr],Jy),gu=oe([lr,Je,co,db,cu,sr,jH],eb),wH=oe([gu,lr,ub],nb),NH=oe([lr,gu,wH,sr],ib),AO=e=>{var t=sr(e),r=ao(e),a=!1;return hu(e,t,r,a)},EO=oe([lr,AO],Um),_O=oe([lr,ub,NH,EO],rb),SH=oe([Je,db,lr,sr],oO),AH=oe([Je,db,lr,sr],cO),EH=(e,t,r,a,l,o,u,f)=>{if(t){var{type:m}=t,h=Fi(e,f);if(a){var p=r==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,x=m==="category"&&a.bandwidth?a.bandwidth()/p:0;return x=f==="angleAxis"&&l!=null&&l?.length>=2?hr(l[0]-l[1])*2*x:x,h&&u?u.map((b,j)=>({coordinate:a(b)+x,value:b,index:j,offset:x})):a.domain().map((b,j)=>({coordinate:a(b)+x,value:o?o[b]:b,index:j,offset:x}))}}},ni=oe([Je,lr,ub,_O,AO,SH,AH,sr],EH),fb=oe([dO,fO,RF],(e,t,r)=>mO(r.shared,e,t)),OO=e=>e.tooltip.settings.trigger,mb=e=>e.tooltip.settings.defaultIndex,vu=oe([oo,fb,OO,mb],yO),Ui=oe([vu,co,mu,gu],cb),CO=oe([ni,Ui],hO),hb=oe([vu],e=>{if(e)return e.dataKey}),_H=oe([vu],e=>{if(e)return e.graphicalItemId}),kO=oe([oo,fb,OO,mb],jO),OH=oe([Za,Ja,Je,ar,ni,mb,kO,pu],bO),CH=oe([vu,OH],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),kH=oe([vu],e=>e.active),TH=oe([kO,Ui,Yi,mu,CO,pu,fb],wO),MH=oe([TH],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function O5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,a)}return r}function C5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?O5(Object(r),!0).forEach(function(a){PH(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O5(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function PH(e,t,r){return(t=DH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DH(e){var t=RH(e,"string");return typeof t=="symbol"?t:t+""}function RH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var LH=()=>Te(lr),zH=()=>{var e=LH(),t=Te(ni),r=Te(_O);return ql(!e||!r?void 0:C5(C5({},e),{},{scale:r}),t)};function k5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,a)}return r}function _l(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?k5(Object(r),!0).forEach(function(a){BH(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k5(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function BH(e,t,r){return(t=$H(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $H(e){var t=IH(e,"string");return typeof t=="symbol"?t:t+""}function IH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var UH=(e,t,r,a)=>{var l=t.find(o=>o&&o.index===r);if(l){if(e==="horizontal")return{x:l.coordinate,y:a.chartY};if(e==="vertical")return{x:a.chartX,y:l.coordinate}}return{x:0,y:0}},qH=(e,t,r,a)=>{var l=t.find(h=>h&&h.index===r);if(l){if(e==="centric"){var o=l.coordinate,{radius:u}=a;return _l(_l(_l({},a),Xt(a.cx,a.cy,u,o)),{},{angle:o,radius:u})}var f=l.coordinate,{angle:m}=a;return _l(_l(_l({},a),Xt(a.cx,a.cy,f,m)),{},{angle:m,radius:f})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function FH(e,t){var{chartX:r,chartY:a}=e;return r>=t.left&&r<=t.left+t.width&&a>=t.top&&a<=t.top+t.height}var TO=(e,t,r,a,l)=>{var o,u=-1,f=(o=t?.length)!==null&&o!==void 0?o:0;if(f<=1||e==null)return 0;if(a==="angleAxis"&&l!=null&&Math.abs(Math.abs(l[1]-l[0])-360)<=1e-6)for(var m=0;m<f;m++){var h=m>0?r[m-1].coordinate:r[f-1].coordinate,p=r[m].coordinate,x=m>=f-1?r[0].coordinate:r[m+1].coordinate,b=void 0;if(hr(p-h)!==hr(x-p)){var j=[];if(hr(x-p)===hr(l[1]-l[0])){b=x;var w=p+l[1]-l[0];j[0]=Math.min(w,(w+h)/2),j[1]=Math.max(w,(w+h)/2)}else{b=h;var N=x+l[1]-l[0];j[0]=Math.min(p,(N+p)/2),j[1]=Math.max(p,(N+p)/2)}var S=[Math.min(p,(b+p)/2),Math.max(p,(b+p)/2)];if(e>S[0]&&e<=S[1]||e>=j[0]&&e<=j[1]){({index:u}=r[m]);break}}else{var E=Math.min(h,x),O=Math.max(h,x);if(e>(E+p)/2&&e<=(O+p)/2){({index:u}=r[m]);break}}}else if(t){for(var _=0;_<f;_++)if(_===0&&e<=(t[_].coordinate+t[_+1].coordinate)/2||_>0&&_<f-1&&e>(t[_].coordinate+t[_-1].coordinate)/2&&e<=(t[_].coordinate+t[_+1].coordinate)/2||_===f-1&&e>(t[_].coordinate+t[_-1].coordinate)/2){({index:u}=t[_]);break}}return u},HH=()=>Te(Ry),pb=(e,t)=>t,MO=(e,t,r)=>r,xb=(e,t,r,a)=>a,VH=oe(ni,e=>xm(e,t=>t.coordinate)),gb=oe([oo,pb,MO,xb],yO),vb=oe([gb,co,mu,gu],cb),YH=(e,t,r)=>{if(t!=null){var a=oo(e);return t==="axis"?r==="hover"?a.axisInteraction.hover.dataKey:a.axisInteraction.click.dataKey:r==="hover"?a.itemInteraction.hover.dataKey:a.itemInteraction.click.dataKey}},PO=oe([oo,pb,MO,xb],jO),Gf=oe([Za,Ja,Je,ar,ni,xb,PO,pu],bO),KH=oe([gb,Gf],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),DO=oe([ni,vb],hO),GH=oe([PO,vb,Yi,mu,DO,pu,pb],wO),WH=oe([gb,vb],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),QH=(e,t,r,a,l,o,u)=>{if(!(!e||!r||!a||!l)&&FH(e,u)){var f=vz(e,t),m=TO(f,o,l,r,a),h=UH(t,l,m,e);return{activeIndex:String(m),activeCoordinate:h}}},XH=(e,t,r,a,l,o,u)=>{if(!(!e||!a||!l||!o||!r)){var f=D$(e,r);if(f){var m=yz(f,t),h=TO(m,u,o,a,l),p=qH(t,o,h,f);return{activeIndex:String(h),activeCoordinate:p}}}},ZH=(e,t,r,a,l,o,u,f)=>{if(!(!e||!t||!a||!l||!o))return t==="horizontal"||t==="vertical"?QH(e,t,a,l,o,u,f):XH(e,t,r,a,l,o,u)},JH=oe(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var a=e[t];if(a!=null)return r?a.panoramaElementId:a.elementId}}),eV=oe(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(a=>parseInt(a,10)).concat(Object.values(Zt)),r=Array.from(new Set(t));return r.sort((a,l)=>a-l)},{memoizeOptions:{resultEqualityCheck:Lq}});function T5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,a)}return r}function M5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?T5(Object(r),!0).forEach(function(a){tV(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T5(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function tV(e,t,r){return(t=rV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rV(e){var t=nV(e,"string");return typeof t=="symbol"?t:t+""}function nV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aV={},iV={zIndexMap:Object.values(Zt).reduce((e,t)=>M5(M5({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),aV)},sV=new Set(Object.values(Zt));function lV(e){return sV.has(e)}var RO=en({name:"zIndex",initialState:iV,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:Et()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!lV(r)&&delete e.zIndexMap[r])},prepare:Et()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r,elementId:a,isPanorama:l}=t.payload;e.zIndexMap[r]?l?e.zIndexMap[r].panoramaElementId=a:e.zIndexMap[r].elementId=a:e.zIndexMap[r]={consumers:0,elementId:l?void 0:a,panoramaElementId:l?a:void 0}},prepare:Et()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElementId=void 0:e.zIndexMap[r].elementId=void 0)},prepare:Et()}}}),{registerZIndexPortal:oV,unregisterZIndexPortal:cV,registerZIndexPortalId:uV,unregisterZIndexPortalId:dV}=RO.actions,fV=RO.reducer;function tn(e){var{zIndex:t,children:r}=e,a=Qz(),l=a&&t!==void 0&&t!==0,o=Tr(),u=bt();v.useLayoutEffect(()=>l?(u(oV({zIndex:t})),()=>{u(cV({zIndex:t}))}):Gc,[u,t,l]);var f=Te(h=>JH(h,t,o));if(!l)return r;if(!f)return null;var m=document.getElementById(f);return m?kv.createPortal(r,m):null}function dv(){return dv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},dv.apply(null,arguments)}function P5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,a)}return r}function Qd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?P5(Object(r),!0).forEach(function(a){mV(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P5(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function mV(e,t,r){return(t=hV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hV(e){var t=pV(e,"string");return typeof t=="symbol"?t:t+""}function pV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xV(e){var{cursor:t,cursorComp:r,cursorProps:a}=e;return v.isValidElement(t)?v.cloneElement(t,a):v.createElement(r,a)}function gV(e){var t,{coordinate:r,payload:a,index:l,offset:o,tooltipAxisBandSize:u,layout:f,cursor:m,tooltipEventType:h,chartName:p}=e,x=r,b=a,j=l;if(!m||!x||p!=="ScatterChart"&&h!=="axis")return null;var w,N,S;if(p==="ScatterChart")w=x,N=WB,S=Zt.cursorLine;else if(p==="BarChart")w=QB(f,x,o,u),N=T_,S=Zt.cursorRectangle;else if(f==="radial"&&hE(x)){var{cx:E,cy:O,radius:_,startAngle:T,endAngle:k}=P_(x);w={cx:E,cy:O,startAngle:T,endAngle:k,innerRadius:_,outerRadius:_},N=R_,S=Zt.cursorLine}else w={points:B$(f,x,o)},N=oy,S=Zt.cursorLine;var L=typeof m=="object"&&"className"in m?m.className:void 0,$=Qd(Qd(Qd(Qd({stroke:"#ccc",pointerEvents:"none"},o),w),ks(m)),{},{payload:b,payloadIndex:j,className:rt("recharts-tooltip-cursor",L)});return v.createElement(tn,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:S},v.createElement(xV,{cursor:m,cursorComp:N,cursorProps:$}))}function vV(e){var t=zH(),r=p_(),a=eu(),l=HH();return t==null||r==null||a==null||l==null?null:v.createElement(gV,dv({},e,{offset:r,layout:a,tooltipAxisBandSize:t,chartName:l}))}var LO=v.createContext(null),yV=()=>v.useContext(LO),Kx={exports:{}},D5;function bV(){return D5||(D5=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(r=!1));function l(m,h,p){this.fn=m,this.context=h,this.once=p||!1}function o(m,h,p,x,b){if(typeof p!="function")throw new TypeError("The listener must be a function");var j=new l(p,x||m,b),w=r?r+h:h;return m._events[w]?m._events[w].fn?m._events[w]=[m._events[w],j]:m._events[w].push(j):(m._events[w]=j,m._eventsCount++),m}function u(m,h){--m._eventsCount===0?m._events=new a:delete m._events[h]}function f(){this._events=new a,this._eventsCount=0}f.prototype.eventNames=function(){var h=[],p,x;if(this._eventsCount===0)return h;for(x in p=this._events)t.call(p,x)&&h.push(r?x.slice(1):x);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(p)):h},f.prototype.listeners=function(h){var p=r?r+h:h,x=this._events[p];if(!x)return[];if(x.fn)return[x.fn];for(var b=0,j=x.length,w=new Array(j);b<j;b++)w[b]=x[b].fn;return w},f.prototype.listenerCount=function(h){var p=r?r+h:h,x=this._events[p];return x?x.fn?1:x.length:0},f.prototype.emit=function(h,p,x,b,j,w){var N=r?r+h:h;if(!this._events[N])return!1;var S=this._events[N],E=arguments.length,O,_;if(S.fn){switch(S.once&&this.removeListener(h,S.fn,void 0,!0),E){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,p),!0;case 3:return S.fn.call(S.context,p,x),!0;case 4:return S.fn.call(S.context,p,x,b),!0;case 5:return S.fn.call(S.context,p,x,b,j),!0;case 6:return S.fn.call(S.context,p,x,b,j,w),!0}for(_=1,O=new Array(E-1);_<E;_++)O[_-1]=arguments[_];S.fn.apply(S.context,O)}else{var T=S.length,k;for(_=0;_<T;_++)switch(S[_].once&&this.removeListener(h,S[_].fn,void 0,!0),E){case 1:S[_].fn.call(S[_].context);break;case 2:S[_].fn.call(S[_].context,p);break;case 3:S[_].fn.call(S[_].context,p,x);break;case 4:S[_].fn.call(S[_].context,p,x,b);break;default:if(!O)for(k=1,O=new Array(E-1);k<E;k++)O[k-1]=arguments[k];S[_].fn.apply(S[_].context,O)}}return!0},f.prototype.on=function(h,p,x){return o(this,h,p,x,!1)},f.prototype.once=function(h,p,x){return o(this,h,p,x,!0)},f.prototype.removeListener=function(h,p,x,b){var j=r?r+h:h;if(!this._events[j])return this;if(!p)return u(this,j),this;var w=this._events[j];if(w.fn)w.fn===p&&(!b||w.once)&&(!x||w.context===x)&&u(this,j);else{for(var N=0,S=[],E=w.length;N<E;N++)(w[N].fn!==p||b&&!w[N].once||x&&w[N].context!==x)&&S.push(w[N]);S.length?this._events[j]=S.length===1?S[0]:S:u(this,j)}return this},f.prototype.removeAllListeners=function(h){var p;return h?(p=r?r+h:h,this._events[p]&&u(this,p)):(this._events=new a,this._eventsCount=0),this},f.prototype.off=f.prototype.removeListener,f.prototype.addListener=f.prototype.on,f.prefixed=r,f.EventEmitter=f,e.exports=f})(Kx)),Kx.exports}var jV=bV();const wV=Qa(jV);var zc=new wV,fv="recharts.syncEvent.tooltip",R5="recharts.syncEvent.brush";function Xm(e,t){if(t){var r=Number.parseInt(t,10);if(!Gn(r))return e?.[r]}}var NV={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},zO=en({name:"options",initialState:NV,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),SV=zO.reducer,{createEventEmitter:AV}=zO.actions;function EV(e){return e.tooltip.syncInteraction}var _V={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},BO=en({name:"chartData",initialState:_V,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:a}=t.payload;r!=null&&(e.dataStartIndex=r),a!=null&&(e.dataEndIndex=a)}}}),{setChartData:L5,setDataStartEndIndexes:OV,setComputedData:_J}=BO.actions,CV=BO.reducer,kV=["x","y"];function z5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,a)}return r}function Ol(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?z5(Object(r),!0).forEach(function(a){TV(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z5(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function TV(e,t,r){return(t=MV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MV(e){var t=PV(e,"string");return typeof t=="symbol"?t:t+""}function PV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DV(e,t){if(e==null)return{};var r,a,l=RV(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function RV(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function LV(){var e=Te(Ly),t=Te(zy),r=bt(),a=Te(D6),l=Te(ni),o=eu(),u=Cm(),f=Te(m=>m.rootProps.className);v.useEffect(()=>{if(e==null)return Gc;var m=(h,p,x)=>{if(t!==x&&e===h){if(a==="index"){var b;if(u&&p!==null&&p!==void 0&&(b=p.payload)!==null&&b!==void 0&&b.coordinate&&p.payload.sourceViewBox){var j=p.payload.coordinate,{x:w,y:N}=j,S=DV(j,kV),{x:E,y:O,width:_,height:T}=p.payload.sourceViewBox,k=Ol(Ol({},S),{},{x:u.x+(_?(w-E)/_:0)*u.width,y:u.y+(T?(N-O)/T:0)*u.height});r(Ol(Ol({},p),{},{payload:Ol(Ol({},p.payload),{},{coordinate:k})}))}else r(p);return}if(l!=null){var L;if(typeof a=="function"){var $={activeTooltipIndex:p.payload.index==null?void 0:Number(p.payload.index),isTooltipActive:p.payload.active,activeIndex:p.payload.index==null?void 0:Number(p.payload.index),activeLabel:p.payload.label,activeDataKey:p.payload.dataKey,activeCoordinate:p.payload.coordinate},G=a(l,$);L=l[G]}else a==="value"&&(L=l.find(C=>String(C.value)===p.payload.label));var{coordinate:J}=p.payload;if(L==null||p.payload.active===!1||J==null||u==null){r(cv({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:ue,y:F}=J,q=Math.min(ue,u.x+u.width),fe=Math.min(F,u.y+u.height),z={x:o==="horizontal"?L.coordinate:q,y:o==="horizontal"?fe:L.coordinate},Y=cv({active:p.payload.active,coordinate:z,dataKey:p.payload.dataKey,index:String(L.index),label:p.payload.label,sourceViewBox:p.payload.sourceViewBox,graphicalItemId:p.payload.graphicalItemId});r(Y)}}};return zc.on(fv,m),()=>{zc.off(fv,m)}},[f,r,t,e,a,l,o,u])}function zV(){var e=Te(Ly),t=Te(zy),r=bt();v.useEffect(()=>{if(e==null)return Gc;var a=(l,o,u)=>{t!==u&&e===l&&r(OV(o))};return zc.on(R5,a),()=>{zc.off(R5,a)}},[r,t,e])}function BV(){var e=bt();v.useEffect(()=>{e(AV())},[e]),LV(),zV()}function $V(e,t,r,a,l,o){var u=Te(j=>YH(j,e,t)),f=Te(zy),m=Te(Ly),h=Te(D6),p=Te(EV),x=p?.active,b=Cm();v.useEffect(()=>{if(!x&&m!=null&&f!=null){var j=cv({active:o,coordinate:r,dataKey:u,index:l,label:typeof a=="number"?String(a):a,sourceViewBox:b,graphicalItemId:void 0});zc.emit(fv,m,j,f)}},[x,r,u,l,a,f,m,h,o,b])}function B5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,a)}return r}function $5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?B5(Object(r),!0).forEach(function(a){IV(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B5(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function IV(e,t,r){return(t=UV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UV(e){var t=qV(e,"string");return typeof t=="symbol"?t:t+""}function qV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function FV(e){return e.dataKey}function HV(e,t){return v.isValidElement(e)?v.cloneElement(e,t):typeof e=="function"?v.createElement(e,t):v.createElement(OB,t)}var I5=[],VV={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function ps(e){var t,r,a=er(e,VV),{active:l,allowEscapeViewBox:o,animationDuration:u,animationEasing:f,content:m,filterNull:h,isAnimationActive:p,offset:x,payloadUniqBy:b,position:j,reverseDirection:w,useTranslate3d:N,wrapperStyle:S,cursor:E,shared:O,trigger:_,defaultIndex:T,portal:k,axisId:L}=a,$=bt(),G=typeof T=="number"?String(T):T;v.useEffect(()=>{$(IF({shared:O,trigger:_,axisId:L,active:l,defaultIndex:G}))},[$,O,_,L,l,G]);var J=Cm(),ue=E_(),F=DF(O),{activeIndex:q,isActive:fe}=(t=Te(Ae=>WH(Ae,F,_,G)))!==null&&t!==void 0?t:{},z=Te(Ae=>GH(Ae,F,_,G)),Y=Te(Ae=>DO(Ae,F,_,G)),C=Te(Ae=>KH(Ae,F,_,G)),V=z,ae=yV(),ve=(r=l??fe)!==null&&r!==void 0?r:!1,[ce,R]=CE([V,ve]),K=F==="axis"?Y:void 0;$V(F,_,C,K,q,ve);var re=k??ae;if(re==null||J==null||F==null)return null;var W=V??I5;ve||(W=I5),h&&W.length&&(W=SE(W.filter(Ae=>Ae.value!=null&&(Ae.hide!==!0||a.includeHidden)),b,FV));var le=W.length>0,Ne=v.createElement(RB,{allowEscapeViewBox:o,animationDuration:u,animationEasing:f,isAnimationActive:p,active:ve,coordinate:C,hasPayload:le,offset:x,position:j,reverseDirection:w,useTranslate3d:N,viewBox:J,wrapperStyle:S,lastBoundingBox:ce,innerRef:R,hasPortalFromProps:!!k},HV(m,$5($5({},a),{},{payload:W,label:K,active:ve,activeIndex:q,coordinate:C,accessibilityLayer:ue})));return v.createElement(v.Fragment,null,kv.createPortal(Ne,re),ve&&v.createElement(vV,{cursor:E,tooltipEventType:F,coordinate:C,payload:W,index:q}))}var yu=e=>null;yu.displayName="Cell";function YV(e,t,r){return(t=KV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KV(e){var t=GV(e,"string");return typeof t=="symbol"?t:t+""}function GV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class WV{constructor(t){YV(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var a=this.cache.keys().next().value;a!=null&&this.cache.delete(a)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function U5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,a)}return r}function QV(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?U5(Object(r),!0).forEach(function(a){XV(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U5(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function XV(e,t,r){return(t=ZV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZV(e){var t=JV(e,"string");return typeof t=="symbol"?t:t+""}function JV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eY={cacheSize:2e3,enableCache:!0},$O=QV({},eY),q5=new WV($O.cacheSize),tY={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},F5="recharts_measurement_span";function rY(e,t){var r=t.fontSize||"",a=t.fontFamily||"",l=t.fontWeight||"",o=t.fontStyle||"",u=t.letterSpacing||"",f=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(a,"|").concat(l,"|").concat(o,"|").concat(u,"|").concat(f)}var H5=(e,t)=>{try{var r=document.getElementById(F5);r||(r=document.createElement("span"),r.setAttribute("id",F5),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,tY,t),r.textContent="".concat(e);var a=r.getBoundingClientRect();return{width:a.width,height:a.height}}catch{return{width:0,height:0}}},bc=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||ru.isSsr)return{width:0,height:0};if(!$O.enableCache)return H5(t,r);var a=rY(t,r),l=q5.get(a);if(l)return l;var o=H5(t,r);return q5.set(a,o),o},V5=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Y5=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,nY=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,aY=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,IO={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},iY=Object.keys(IO),Ml="NaN";function sY(e,t){return e*IO[t]}class Gr{static parse(t){var r,[,a,l]=(r=aY.exec(t))!==null&&r!==void 0?r:[];return new Gr(parseFloat(a),l??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,Gn(t)&&(this.unit=""),r!==""&&!nY.test(r)&&(this.num=NaN,this.unit=""),iY.includes(r)&&(this.num=sY(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Gr(NaN,""):new Gr(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Gr(NaN,""):new Gr(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Gr(NaN,""):new Gr(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Gr(NaN,""):new Gr(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Gn(this.num)}}function UO(e){if(e.includes(Ml))return Ml;for(var t=e;t.includes("*")||t.includes("/");){var r,[,a,l,o]=(r=V5.exec(t))!==null&&r!==void 0?r:[],u=Gr.parse(a??""),f=Gr.parse(o??""),m=l==="*"?u.multiply(f):u.divide(f);if(m.isNaN())return Ml;t=t.replace(V5,m.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var h,[,p,x,b]=(h=Y5.exec(t))!==null&&h!==void 0?h:[],j=Gr.parse(p??""),w=Gr.parse(b??""),N=x==="+"?j.add(w):j.subtract(w);if(N.isNaN())return Ml;t=t.replace(Y5,N.toString())}return t}var K5=/\(([^()]*)\)/;function lY(e){for(var t=e,r;(r=K5.exec(t))!=null;){var[,a]=r;t=t.replace(K5,UO(a))}return t}function oY(e){var t=e.replace(/\s+/g,"");return t=lY(t),t=UO(t),t}function cY(e){try{return oY(e)}catch{return Ml}}function Gx(e){var t=cY(e.slice(5,-1));return t===Ml?"":t}var uY=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],dY=["dx","dy","angle","className","breakAll"];function mv(){return mv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},mv.apply(null,arguments)}function G5(e,t){if(e==null)return{};var r,a,l=fY(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function fY(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var qO=/[ \f\n\r\t\v\u2028\u2029]+/,FO=e=>{var{children:t,breakAll:r,style:a}=e;try{var l=[];kt(t)||(r?l=t.toString().split(""):l=t.toString().split(qO));var o=l.map(f=>({word:f,width:bc(f,a).width})),u=r?0:bc("",a).width;return{wordsWithComputedWidth:o,spaceWidth:u}}catch{return null}};function mY(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var HO=(e,t,r,a)=>e.reduce((l,o)=>{var{word:u,width:f}=o,m=l[l.length-1];if(m&&f!=null&&(t==null||a||m.width+f+r<Number(t)))m.words.push(u),m.width+=f+r;else{var h={words:[u],width:f};l.push(h)}return l},[]),VO=e=>e.reduce((t,r)=>t.width>r.width?t:r),hY="",W5=(e,t,r,a,l,o,u,f)=>{var m=e.slice(0,t),h=FO({breakAll:r,style:a,children:m+hY});if(!h)return[!1,[]];var p=HO(h.wordsWithComputedWidth,o,u,f),x=p.length>l||VO(p).width>Number(o);return[x,p]},pY=(e,t,r,a,l)=>{var{maxLines:o,children:u,style:f,breakAll:m}=e,h=De(o),p=String(u),x=HO(t,a,r,l);if(!h||l)return x;var b=x.length>o||VO(x).width>Number(a);if(!b)return x;for(var j=0,w=p.length-1,N=0,S;j<=w&&N<=p.length-1;){var E=Math.floor((j+w)/2),O=E-1,[_,T]=W5(p,O,m,f,o,a,r,l),[k]=W5(p,E,m,f,o,a,r,l);if(!_&&!k&&(j=E+1),_&&k&&(w=E-1),!_&&k){S=T;break}N++}return S||x},Q5=e=>{var t=kt(e)?[]:e.toString().split(qO);return[{words:t,width:void 0}]},xY=e=>{var{width:t,scaleToFit:r,children:a,style:l,breakAll:o,maxLines:u}=e;if((t||r)&&!ru.isSsr){var f,m,h=FO({breakAll:o,children:a,style:l});if(h){var{wordsWithComputedWidth:p,spaceWidth:x}=h;f=p,m=x}else return Q5(a);return pY({breakAll:o,children:a,maxLines:u,style:l},f,m,t,!!r)}return Q5(a)},YO="#808080",gY={angle:0,breakAll:!1,capHeight:"0.71em",fill:YO,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Zm=v.forwardRef((e,t)=>{var r=er(e,gY),{x:a,y:l,lineHeight:o,capHeight:u,fill:f,scaleToFit:m,textAnchor:h,verticalAnchor:p}=r,x=G5(r,uY),b=v.useMemo(()=>xY({breakAll:x.breakAll,children:x.children,maxLines:x.maxLines,scaleToFit:m,style:x.style,width:x.width}),[x.breakAll,x.children,x.maxLines,m,x.style,x.width]),{dx:j,dy:w,angle:N,className:S,breakAll:E}=x,O=G5(x,dY);if(!ca(a)||!ca(l)||b.length===0)return null;var _=Number(a)+(De(j)?j:0),T=Number(l)+(De(w)?w:0);if(!Ht(_)||!Ht(T))return null;var k;switch(p){case"start":k=Gx("calc(".concat(u,")"));break;case"middle":k=Gx("calc(".concat((b.length-1)/2," * -").concat(o," + (").concat(u," / 2))"));break;default:k=Gx("calc(".concat(b.length-1," * -").concat(o,")"));break}var L=[];if(m){var $=b[0].width,{width:G}=x;L.push("scale(".concat(De(G)&&De($)?G/$:1,")"))}return N&&L.push("rotate(".concat(N,", ").concat(_,", ").concat(T,")")),L.length&&(O.transform=L.join(" ")),v.createElement("text",mv({},$r(O),{ref:t,x:_,y:T,className:rt("recharts-text",S),textAnchor:h,fill:f.includes("url")?YO:f}),b.map((J,ue)=>{var F=J.words.join(E?"":" ");return v.createElement("tspan",{x:_,dy:ue===0?k:o,key:"".concat(F,"-").concat(ue)},F)}))});Zm.displayName="Text";var vY=["labelRef"];function yY(e,t){if(e==null)return{};var r,a,l=bY(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function bY(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function X5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,a)}return r}function qt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X5(Object(r),!0).forEach(function(a){jY(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X5(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function jY(e,t,r){return(t=wY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wY(e){var t=NY(e,"string");return typeof t=="symbol"?t:t+""}function NY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ra(){return Ra=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Ra.apply(null,arguments)}var KO=v.createContext(null),SY=e=>{var{x:t,y:r,upperWidth:a,lowerWidth:l,width:o,height:u,children:f}=e,m=v.useMemo(()=>({x:t,y:r,upperWidth:a,lowerWidth:l,width:o,height:u}),[t,r,a,l,o,u]);return v.createElement(KO.Provider,{value:m},f)},GO=()=>{var e=v.useContext(KO),t=Cm();return e||h_(t)},AY=v.createContext(null),EY=()=>{var e=v.useContext(AY),t=Te($6);return e||t},_Y=e=>{var{value:t,formatter:r}=e,a=kt(e.children)?t:e.children;return typeof r=="function"?r(a):a},yb=e=>e!=null&&typeof e=="function",OY=(e,t)=>{var r=hr(t-e),a=Math.min(Math.abs(t-e),360);return r*a},CY=(e,t,r,a,l)=>{var{offset:o,className:u}=e,{cx:f,cy:m,innerRadius:h,outerRadius:p,startAngle:x,endAngle:b,clockWise:j}=l,w=(h+p)/2,N=OY(x,b),S=N>=0?1:-1,E,O;switch(t){case"insideStart":E=x+S*o,O=j;break;case"insideEnd":E=b-S*o,O=!j;break;case"end":E=b+S*o,O=j;break;default:throw new Error("Unsupported position ".concat(t))}O=N<=0?O:!O;var _=Xt(f,m,w,E),T=Xt(f,m,w,E+(O?1:-1)*359),k="M".concat(_.x,",").concat(_.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(O?0:1,`,
    `).concat(T.x,",").concat(T.y),L=kt(e.id)?Sc("recharts-radial-line-"):e.id;return v.createElement("text",Ra({},a,{dominantBaseline:"central",className:rt("recharts-radial-bar-label",u)}),v.createElement("defs",null,v.createElement("path",{id:L,d:k})),v.createElement("textPath",{xlinkHref:"#".concat(L)},r))},kY=(e,t,r)=>{var{cx:a,cy:l,innerRadius:o,outerRadius:u,startAngle:f,endAngle:m}=e,h=(f+m)/2;if(r==="outside"){var{x:p,y:x}=Xt(a,l,u+t,h);return{x:p,y:x,textAnchor:p>=a?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:a,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:a,y:l,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:a,y:l,textAnchor:"middle",verticalAnchor:"end"};var b=(o+u)/2,{x:j,y:w}=Xt(a,l,b,h);return{x:j,y:w,textAnchor:"middle",verticalAnchor:"middle"}},hv=e=>"cx"in e&&De(e.cx),TY=(e,t)=>{var{parentViewBox:r,offset:a,position:l}=e,o;r!=null&&!hv(r)&&(o=r);var{x:u,y:f,upperWidth:m,lowerWidth:h,height:p}=t,x=u,b=u+(m-h)/2,j=(x+b)/2,w=(m+h)/2,N=x+m/2,S=p>=0?1:-1,E=S*a,O=S>0?"end":"start",_=S>0?"start":"end",T=m>=0?1:-1,k=T*a,L=T>0?"end":"start",$=T>0?"start":"end";if(l==="top"){var G={x:x+m/2,y:f-E,textAnchor:"middle",verticalAnchor:O};return qt(qt({},G),o?{height:Math.max(f-o.y,0),width:m}:{})}if(l==="bottom"){var J={x:b+h/2,y:f+p+E,textAnchor:"middle",verticalAnchor:_};return qt(qt({},J),o?{height:Math.max(o.y+o.height-(f+p),0),width:h}:{})}if(l==="left"){var ue={x:j-k,y:f+p/2,textAnchor:L,verticalAnchor:"middle"};return qt(qt({},ue),o?{width:Math.max(ue.x-o.x,0),height:p}:{})}if(l==="right"){var F={x:j+w+k,y:f+p/2,textAnchor:$,verticalAnchor:"middle"};return qt(qt({},F),o?{width:Math.max(o.x+o.width-F.x,0),height:p}:{})}var q=o?{width:w,height:p}:{};return l==="insideLeft"?qt({x:j+k,y:f+p/2,textAnchor:$,verticalAnchor:"middle"},q):l==="insideRight"?qt({x:j+w-k,y:f+p/2,textAnchor:L,verticalAnchor:"middle"},q):l==="insideTop"?qt({x:x+m/2,y:f+E,textAnchor:"middle",verticalAnchor:_},q):l==="insideBottom"?qt({x:b+h/2,y:f+p-E,textAnchor:"middle",verticalAnchor:O},q):l==="insideTopLeft"?qt({x:x+k,y:f+E,textAnchor:$,verticalAnchor:_},q):l==="insideTopRight"?qt({x:x+m-k,y:f+E,textAnchor:L,verticalAnchor:_},q):l==="insideBottomLeft"?qt({x:b+k,y:f+p-E,textAnchor:$,verticalAnchor:O},q):l==="insideBottomRight"?qt({x:b+h-k,y:f+p-E,textAnchor:L,verticalAnchor:O},q):l&&typeof l=="object"&&(De(l.x)||Fa(l.x))&&(De(l.y)||Fa(l.y))?qt({x:u+kr(l.x,w),y:f+kr(l.y,p),textAnchor:"end",verticalAnchor:"end"},q):qt({x:N,y:f+p/2,textAnchor:"middle",verticalAnchor:"middle"},q)},MY={angle:0,offset:5,zIndex:Zt.label,position:"middle",textBreakAll:!1};function Mi(e){var t=er(e,MY),{viewBox:r,position:a,value:l,children:o,content:u,className:f="",textBreakAll:m,labelRef:h}=t,p=EY(),x=GO(),b=a==="center"?x:p??x,j,w,N;if(r==null?j=b:hv(r)?j=r:j=h_(r),!j||kt(l)&&kt(o)&&!v.isValidElement(u)&&typeof u!="function")return null;var S=qt(qt({},t),{},{viewBox:j});if(v.isValidElement(u)){var{labelRef:E}=S,O=yY(S,vY);return v.cloneElement(u,O)}if(typeof u=="function"){if(w=v.createElement(u,S),v.isValidElement(w))return w}else w=_Y(t);var _=$r(t);if(hv(j)){if(a==="insideStart"||a==="insideEnd"||a==="end")return CY(t,a,w,_,j);N=kY(j,t.offset,t.position)}else N=TY(t,j);return v.createElement(tn,{zIndex:t.zIndex},v.createElement(Zm,Ra({ref:h,className:rt("recharts-label",f)},_,N,{textAnchor:mY(_.textAnchor)?_.textAnchor:N.textAnchor,breakAll:m}),w))}Mi.displayName="Label";var PY=(e,t,r)=>{if(!e)return null;var a={viewBox:t,labelRef:r};return e===!0?v.createElement(Mi,Ra({key:"label-implicit"},a)):ca(e)?v.createElement(Mi,Ra({key:"label-implicit",value:e},a)):v.isValidElement(e)?e.type===Mi?v.cloneElement(e,qt({key:"label-implicit"},a)):v.createElement(Mi,Ra({key:"label-implicit",content:e},a)):yb(e)?v.createElement(Mi,Ra({key:"label-implicit",content:e},a)):e&&typeof e=="object"?v.createElement(Mi,Ra({},e,{key:"label-implicit"},a)):null};function DY(e){var{label:t,labelRef:r}=e,a=GO();return PY(t,a,r)||null}var Wx={},Qx={},Z5;function RY(){return Z5||(Z5=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(Qx)),Qx}var Xx={},J5;function LY(){return J5||(J5=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(Xx)),Xx}var e3;function zY(){return e3||(e3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RY(),r=LY(),a=Yv();function l(o){if(a.isArrayLike(o))return t.last(r.toArray(o))}e.last=l})(Wx)),Wx}var Zx,t3;function BY(){return t3||(t3=1,Zx=zY().last),Zx}var $Y=BY();const IY=Qa($Y);var UY=["valueAccessor"],qY=["dataKey","clockWise","id","textBreakAll","zIndex"];function Wf(){return Wf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Wf.apply(null,arguments)}function r3(e,t){if(e==null)return{};var r,a,l=FY(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function FY(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var HY=e=>Array.isArray(e.value)?IY(e.value):e.value,WO=v.createContext(void 0),QO=WO.Provider,XO=v.createContext(void 0),VY=XO.Provider;function YY(){return v.useContext(WO)}function KY(){return v.useContext(XO)}function cf(e){var{valueAccessor:t=HY}=e,r=r3(e,UY),{dataKey:a,clockWise:l,id:o,textBreakAll:u,zIndex:f}=r,m=r3(r,qY),h=YY(),p=KY(),x=h||p;return!x||!x.length?null:v.createElement(tn,{zIndex:f??Zt.label},v.createElement(pr,{className:"recharts-label-list"},x.map((b,j)=>{var w,N=kt(a)?t(b,j):xt(b&&b.payload,a),S=kt(o)?{}:{id:"".concat(o,"-").concat(j)};return v.createElement(Mi,Wf({key:"label-".concat(j)},$r(b),m,S,{fill:(w=r.fill)!==null&&w!==void 0?w:b.fill,parentViewBox:b.parentViewBox,value:N,textBreakAll:u,viewBox:b.viewBox,index:j,zIndex:0}))})))}cf.displayName="LabelList";function bb(e){var{label:t}=e;return t?t===!0?v.createElement(cf,{key:"labelList-implicit"}):v.isValidElement(t)||yb(t)?v.createElement(cf,{key:"labelList-implicit",content:t}):typeof t=="object"?v.createElement(cf,Wf({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function pv(){return pv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},pv.apply(null,arguments)}var ZO=e=>{var{cx:t,cy:r,r:a,className:l}=e,o=rt("recharts-dot",l);return De(t)&&De(r)&&De(a)?v.createElement("circle",pv({},pn(e),Vv(e),{className:o,cx:t,cy:r,r:a})):null},JO=e=>e.graphicalItems.polarItems,GY=oe([Tt,uu],Fy),Jm=oe([JO,Pt,GY],Hy),WY=oe([Jm],Vy),eh=oe([WY,My],Yy),QY=oe([eh,Pt,Jm],Gy);oe([eh,Pt,Jm],(e,t,r)=>r.length>0?e.flatMap(a=>r.flatMap(l=>{var o,u=xt(a,(o=t.dataKey)!==null&&o!==void 0?o:l.dataKey);return{value:u,errorDomain:[]}})).filter(Boolean):t?.dataKey!=null?e.map(a=>({value:xt(a,t.dataKey),errorDomain:[]})):e.map(a=>({value:a,errorDomain:[]})));var n3=()=>{},XY=oe([eh,Pt,Jm,Gm,Tt],Zy),ZY=oe([Pt,Qy,Xy,n3,XY,n3,Je,Tt],Jy),eC=oe([Pt,Je,eh,QY,cu,Tt,ZY],eb),JY=oe([eC,Pt,so],nb);oe([Pt,eC,JY,Tt],ib);var eK={radiusAxis:{},angleAxis:{}},tC=en({name:"polarAxis",initialState:eK,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:OJ,removeRadiusAxis:CJ,addAngleAxis:kJ,removeAngleAxis:TJ}=tC.actions,tK=tC.reducer;function a3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,a)}return r}function i3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a3(Object(r),!0).forEach(function(a){rK(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a3(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function rK(e,t,r){return(t=nK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nK(e){var t=aK(e,"string");return typeof t=="symbol"?t:t+""}function aK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iK=(e,t)=>t,jb=oe([JO,iK],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),sK=[],wb=(e,t,r)=>r?.length===0?sK:r,rC=oe([My,jb,wb],(e,t,r)=>{var{chartData:a}=e;if(t!=null){var l;if(t?.data!=null&&t.data.length>0?l=t.data:l=a,(!l||!l.length)&&r!=null&&(l=r.map(o=>i3(i3({},t.presentationProps),o.props))),l!=null)return l}}),lK=oe([rC,jb,wb],(e,t,r)=>{if(!(e==null||t==null))return e.map((a,l)=>{var o,u=xt(a,t.nameKey,t.name),f;return r!=null&&(o=r[l])!==null&&o!==void 0&&(o=o.props)!==null&&o!==void 0&&o.fill?f=r[l].props.fill:typeof a=="object"&&a!=null&&"fill"in a?f=a.fill:f=t.fill,{value:eo(u,t.dataKey),color:f,payload:a,type:t.legendType}})}),oK=oe([rC,jb,wb,ar],(e,t,r,a)=>{if(!(t==null||e==null))return cG({offset:a,pieSettings:t,displayedData:e,cells:r})}),Jx={exports:{}},mt={};var s3;function cK(){if(s3)return mt;s3=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),b=Symbol.for("react.view_transition"),j=Symbol.for("react.client.reference");function w(N){if(typeof N=="object"&&N!==null){var S=N.$$typeof;switch(S){case e:switch(N=N.type,N){case r:case l:case a:case m:case h:case b:return N;default:switch(N=N&&N.$$typeof,N){case u:case f:case x:case p:return N;case o:return N;default:return S}}case t:return S}}}return mt.ContextConsumer=o,mt.ContextProvider=u,mt.Element=e,mt.ForwardRef=f,mt.Fragment=r,mt.Lazy=x,mt.Memo=p,mt.Portal=t,mt.Profiler=l,mt.StrictMode=a,mt.Suspense=m,mt.SuspenseList=h,mt.isContextConsumer=function(N){return w(N)===o},mt.isContextProvider=function(N){return w(N)===u},mt.isElement=function(N){return typeof N=="object"&&N!==null&&N.$$typeof===e},mt.isForwardRef=function(N){return w(N)===f},mt.isFragment=function(N){return w(N)===r},mt.isLazy=function(N){return w(N)===x},mt.isMemo=function(N){return w(N)===p},mt.isPortal=function(N){return w(N)===t},mt.isProfiler=function(N){return w(N)===l},mt.isStrictMode=function(N){return w(N)===a},mt.isSuspense=function(N){return w(N)===m},mt.isSuspenseList=function(N){return w(N)===h},mt.isValidElementType=function(N){return typeof N=="string"||typeof N=="function"||N===r||N===l||N===a||N===m||N===h||typeof N=="object"&&N!==null&&(N.$$typeof===x||N.$$typeof===p||N.$$typeof===u||N.$$typeof===o||N.$$typeof===f||N.$$typeof===j||N.getModuleId!==void 0)},mt.typeOf=w,mt}var l3;function uK(){return l3||(l3=1,Jx.exports=cK()),Jx.exports}var dK=uK(),o3=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",c3=null,eg=null,nC=e=>{if(e===c3&&Array.isArray(eg))return eg;var t=[];return v.Children.forEach(e,r=>{kt(r)||(dK.isFragment(r)?t=t.concat(nC(r.props.children)):t.push(r))}),eg=t,c3=e,t};function Nb(e,t){var r=[],a=[];return Array.isArray(t)?a=t.map(l=>o3(l)):a=[o3(t)],nC(e).forEach(l=>{var o=Ts(l,"type.displayName")||Ts(l,"type.name");o&&a.indexOf(o)!==-1&&r.push(l)}),r}var aC=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,tg={},u3;function fK(){return u3||(u3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const l=r[Symbol.toStringTag];return l==null||!Object.getOwnPropertyDescriptor(r,Symbol.toStringTag)?.writable?!1:r.toString()===`[object ${l}]`}let a=r;for(;Object.getPrototypeOf(a)!==null;)a=Object.getPrototypeOf(a);return Object.getPrototypeOf(r)===a}e.isPlainObject=t})(tg)),tg}var rg,d3;function mK(){return d3||(d3=1,rg=fK().isPlainObject),rg}var hK=mK();const pK=Qa(hK);function f3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,a)}return r}function m3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f3(Object(r),!0).forEach(function(a){xK(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f3(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function xK(e,t,r){return(t=gK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gK(e){var t=vK(e,"string");return typeof t=="symbol"?t:t+""}function vK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qf(){return Qf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Qf.apply(null,arguments)}var h3=(e,t,r,a,l)=>{var o=r-a,u;return u="M ".concat(e,",").concat(t),u+="L ".concat(e+r,",").concat(t),u+="L ".concat(e+r-o/2,",").concat(t+l),u+="L ".concat(e+r-o/2-a,",").concat(t+l),u+="L ".concat(e,",").concat(t," Z"),u},yK={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},bK=e=>{var t=er(e,yK),{x:r,y:a,upperWidth:l,lowerWidth:o,height:u,className:f}=t,{animationEasing:m,animationDuration:h,animationBegin:p,isUpdateAnimationActive:x}=t,b=v.useRef(null),[j,w]=v.useState(-1),N=v.useRef(l),S=v.useRef(o),E=v.useRef(u),O=v.useRef(r),_=v.useRef(a),T=au(e,"trapezoid-");if(v.useEffect(()=>{if(b.current&&b.current.getTotalLength)try{var z=b.current.getTotalLength();z&&w(z)}catch{}},[]),r!==+r||a!==+a||l!==+l||o!==+o||u!==+u||l===0&&o===0||u===0)return null;var k=rt("recharts-trapezoid",f);if(!x)return v.createElement("g",null,v.createElement("path",Qf({},$r(t),{className:k,d:h3(r,a,l,o,u)})));var L=N.current,$=S.current,G=E.current,J=O.current,ue=_.current,F="0px ".concat(j===-1?1:j,"px"),q="".concat(j,"px 0px"),fe=__(["strokeDasharray"],h,m);return v.createElement(nu,{animationId:T,key:T,canBegin:j>0,duration:h,easing:m,isActive:x,begin:p},z=>{var Y=_t(L,l,z),C=_t($,o,z),V=_t(G,u,z),ae=_t(J,r,z),ve=_t(ue,a,z);b.current&&(N.current=Y,S.current=C,E.current=V,O.current=ae,_.current=ve);var ce=z>0?{transition:fe,strokeDasharray:q}:{strokeDasharray:F};return v.createElement("path",Qf({},$r(t),{className:k,d:h3(ae,ve,Y,C,V),ref:b,style:m3(m3({},ce),t.style)}))})},jK=["option","shapeType","propTransformer","activeClassName"];function wK(e,t){if(e==null)return{};var r,a,l=NK(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function NK(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function p3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,a)}return r}function Xf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?p3(Object(r),!0).forEach(function(a){SK(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p3(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function SK(e,t,r){return(t=AK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AK(e){var t=EK(e,"string");return typeof t=="symbol"?t:t+""}function EK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _K(e,t){return Xf(Xf({},t),e)}function OK(e,t){return e==="symbols"}function x3(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return v.createElement(T_,r);case"trapezoid":return v.createElement(bK,r);case"sector":return v.createElement(R_,r);case"symbols":if(OK(t))return v.createElement(Hv,r);break;case"curve":return v.createElement(oy,r);default:return null}}function CK(e){return v.isValidElement(e)?e.props:e}function Sb(e){var{option:t,shapeType:r,propTransformer:a=_K,activeClassName:l="recharts-active-shape"}=e,o=wK(e,jK),u;if(v.isValidElement(t))u=v.cloneElement(t,Xf(Xf({},o),CK(t)));else if(typeof t=="function")u=t(o,o.index);else if(pK(t)&&typeof t!="boolean"){var f=a(t,o);u=v.createElement(x3,{shapeType:r,elementProps:f})}else{var m=o;u=v.createElement(x3,{shapeType:r,elementProps:m})}return o.isActive?v.createElement(pr,{className:l},u):u}var Ab=(e,t,r)=>{var a=bt();return(l,o)=>u=>{e?.(l,o,u),a(xO({activeIndex:String(o),activeDataKey:t,activeCoordinate:l.tooltipPosition,activeGraphicalItemId:r}))}},Eb=e=>{var t=bt();return(r,a)=>l=>{e?.(r,a,l),t(UF())}},_b=(e,t,r)=>{var a=bt();return(l,o)=>u=>{e?.(l,o,u),a(qF({activeIndex:String(o),activeDataKey:t,activeCoordinate:l.tooltipPosition,activeGraphicalItemId:r}))}};function Ob(e){var{tooltipEntrySettings:t}=e,r=bt(),a=Tr(),l=v.useRef(null);return v.useLayoutEffect(()=>{a||(l.current===null?r(zF(t)):l.current!==t&&r(BF({prev:l.current,next:t})),l.current=t)},[t,r,a]),v.useLayoutEffect(()=>()=>{l.current&&(r($F(l.current)),l.current=null)},[r]),null}function iC(e){var{legendPayload:t}=e,r=bt(),a=Tr(),l=v.useRef(null);return v.useLayoutEffect(()=>{a||(l.current===null?r(N_(t)):l.current!==t&&r(S_({prev:l.current,next:t})),l.current=t)},[r,a,t]),v.useLayoutEffect(()=>()=>{l.current&&(r(A_(l.current)),l.current=null)},[r]),null}function kK(e){var{legendPayload:t}=e,r=bt(),a=Te(Je),l=v.useRef(null);return v.useLayoutEffect(()=>{a!=="centric"&&a!=="radial"||(l.current===null?r(N_(t)):l.current!==t&&r(S_({prev:l.current,next:t})),l.current=t)},[r,a,t]),v.useLayoutEffect(()=>()=>{l.current&&(r(A_(l.current)),l.current=null)},[r]),null}var ng,TK=()=>{var[e]=v.useState(()=>Sc("uid-"));return e},MK=(ng=iM.useId)!==null&&ng!==void 0?ng:TK;function sC(e,t){var r=MK();return t||(e?"".concat(e,"-").concat(r):r)}var PK=v.createContext(void 0),Cb=e=>{var{id:t,type:r,children:a}=e,l=sC("recharts-".concat(r),t);return v.createElement(PK.Provider,{value:l},a(l))},DK={cartesianItems:[],polarItems:[]},lC=en({name:"graphicalItems",initialState:DK,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Et()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:a}=t.payload,l=Kn(e).cartesianItems.indexOf(r);l>-1&&(e.cartesianItems[l]=a)},prepare:Et()},removeCartesianGraphicalItem:{reducer(e,t){var r=Kn(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:Et()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Et()},removePolarGraphicalItem:{reducer(e,t){var r=Kn(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:Et()}}}),{addCartesianGraphicalItem:RK,replaceCartesianGraphicalItem:LK,removeCartesianGraphicalItem:zK,addPolarGraphicalItem:BK,removePolarGraphicalItem:$K}=lC.actions,IK=lC.reducer,UK=e=>{var t=bt(),r=v.useRef(null);return v.useLayoutEffect(()=>{r.current===null?t(RK(e)):r.current!==e&&t(LK({prev:r.current,next:e})),r.current=e},[t,e]),v.useLayoutEffect(()=>()=>{r.current&&(t(zK(r.current)),r.current=null)},[t]),null},oC=v.memo(UK);function qK(e){var t=bt();return v.useLayoutEffect(()=>(t(BK(e)),()=>{t($K(e))}),[t,e]),null}var FK=["key"],HK=["onMouseEnter","onClick","onMouseLeave"],VK=["id"],YK=["id"];function g3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,a)}return r}function zt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g3(Object(r),!0).forEach(function(a){KK(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g3(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function KK(e,t,r){return(t=GK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GK(e){var t=WK(e,"string");return typeof t=="symbol"?t:t+""}function WK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qi(){return qi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},qi.apply(null,arguments)}function th(e,t){if(e==null)return{};var r,a,l=QK(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function QK(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function XK(e){var t=v.useMemo(()=>Nb(e.children,yu),[e.children]),r=Te(a=>lK(a,e.id,t));return r==null?null:v.createElement(kK,{legendPayload:r})}var ZK=v.memo(e=>{var{dataKey:t,nameKey:r,sectors:a,stroke:l,strokeWidth:o,fill:u,name:f,hide:m,tooltipType:h}=e,p={dataDefinedOnItem:a.map(x=>x.tooltipPayload),positions:a.map(x=>x.tooltipPosition),settings:{stroke:l,strokeWidth:o,fill:u,dataKey:t,nameKey:r,name:eo(f,t),hide:m,type:h,color:u,unit:""}};return v.createElement(Ob,{tooltipEntrySettings:p})}),JK=(e,t)=>e>t?"start":e<t?"end":"middle",eG=(e,t,r)=>kr(typeof t=="function"?t(e):t,r,r*.8),tG=(e,t,r)=>{var{top:a,left:l,width:o,height:u}=t,f=M_(o,u),m=l+kr(e.cx,o,o/2),h=a+kr(e.cy,u,u/2),p=kr(e.innerRadius,f,0),x=eG(r,e.outerRadius,f),b=e.maxRadius||Math.sqrt(o*o+u*u)/2;return{cx:m,cy:h,innerRadius:p,outerRadius:x,maxRadius:b}},rG=(e,t)=>{var r=hr(t-e),a=Math.min(Math.abs(t-e),360);return r*a};function nG(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var aG=(e,t)=>{if(v.isValidElement(e))return v.cloneElement(e,t);if(typeof e=="function")return e(t);var r=rt("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:a}=t,l=th(t,FK);return v.createElement(oy,qi({},l,{type:"linear",className:r}))},iG=(e,t,r)=>{if(v.isValidElement(e))return v.cloneElement(e,t);var a=r;if(typeof e=="function"&&(a=e(t),v.isValidElement(a)))return a;var l=rt("recharts-pie-label-text",nG(e));return v.createElement(Zm,qi({},t,{alignmentBaseline:"middle",className:l}),a)};function sG(e){var{sectors:t,props:r,showLabels:a}=e,{label:l,labelLine:o,dataKey:u}=r;if(!a||!l||!t)return null;var f=pn(r),m=ks(l),h=ks(o),p=typeof l=="object"&&"offsetRadius"in l&&typeof l.offsetRadius=="number"&&l.offsetRadius||20,x=t.map((b,j)=>{var w=(b.startAngle+b.endAngle)/2,N=Xt(b.cx,b.cy,b.outerRadius+p,w),S=zt(zt(zt(zt({},f),b),{},{stroke:"none"},m),{},{index:j,textAnchor:JK(N.x,b.cx)},N),E=zt(zt(zt(zt({},f),b),{},{fill:"none",stroke:b.fill},h),{},{index:j,points:[Xt(b.cx,b.cy,b.outerRadius,w),N],key:"line"});return v.createElement(tn,{zIndex:Zt.label,key:"label-".concat(b.startAngle,"-").concat(b.endAngle,"-").concat(b.midAngle,"-").concat(j)},v.createElement(pr,null,o&&aG(o,E),iG(l,S,xt(b,u))))});return v.createElement(pr,{className:"recharts-pie-labels"},x)}function lG(e){var{sectors:t,props:r,showLabels:a}=e,{label:l}=r;return typeof l=="object"&&l!=null&&"position"in l?v.createElement(bb,{label:l}):v.createElement(sG,{sectors:t,props:r,showLabels:a})}function oG(e){var{sectors:t,activeShape:r,inactiveShape:a,allOtherPieProps:l,shape:o,id:u}=e,f=Te(Ui),m=Te(hb),h=Te(_H),{onMouseEnter:p,onClick:x,onMouseLeave:b}=l,j=th(l,HK),w=Ab(p,l.dataKey,u),N=Eb(b),S=_b(x,l.dataKey,u);return t==null||t.length===0?null:v.createElement(v.Fragment,null,t.map((E,O)=>{if(E?.startAngle===0&&E?.endAngle===0&&t.length!==1)return null;var _=h==null||h===u,T=String(O)===f&&(m==null||l.dataKey===m)&&_,k=f?a:null,L=r&&T?r:k,$=zt(zt({},E),{},{stroke:E.stroke,tabIndex:-1,[c_]:O,[u_]:l.dataKey});return v.createElement(pr,qi({key:"sector-".concat(E?.startAngle,"-").concat(E?.endAngle,"-").concat(E.midAngle,"-").concat(O),tabIndex:-1,className:"recharts-pie-sector"},Wc(j,E,O),{onMouseEnter:w(E,O),onMouseLeave:N(E,O),onClick:S(E,O)}),v.createElement(Sb,qi({option:o??L,index:O,shapeType:"sector",isActive:T},$)))}))}function cG(e){var t,{pieSettings:r,displayedData:a,cells:l,offset:o}=e,{cornerRadius:u,startAngle:f,endAngle:m,dataKey:h,nameKey:p,tooltipType:x}=r,b=Math.abs(r.minAngle),j=rG(f,m),w=Math.abs(j),N=a.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,S=a.filter(L=>xt(L,h,0)!==0).length,E=(w>=360?S:S-1)*N,O=w-S*b-E,_=a.reduce((L,$)=>{var G=xt($,h,0);return L+(De(G)?G:0)},0),T;if(_>0){var k;T=a.map((L,$)=>{var G=xt(L,h,0),J=xt(L,p,$),ue=tG(r,o,L),F=(De(G)?G:0)/_,q,fe=zt(zt({},L),l&&l[$]&&l[$].props);$?q=k.endAngle+hr(j)*N*(G!==0?1:0):q=f;var z=q+hr(j)*((G!==0?b:0)+F*O),Y=(q+z)/2,C=(ue.innerRadius+ue.outerRadius)/2,V=[{name:J,value:G,payload:fe,dataKey:h,type:x}],ae=Xt(ue.cx,ue.cy,C,Y);return k=zt(zt(zt(zt({},r.presentationProps),{},{percent:F,cornerRadius:typeof u=="string"?parseFloat(u):u,name:J,tooltipPayload:V,midAngle:Y,middleRadius:C,tooltipPosition:ae},fe),ue),{},{value:G,dataKey:h,startAngle:q,endAngle:z,payload:fe,paddingAngle:hr(j)*N}),k})}return T}function uG(e){var{showLabels:t,sectors:r,children:a}=e,l=v.useMemo(()=>!t||!r?[]:r.map(o=>({value:o.value,payload:o.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:o.cx,cy:o.cy,innerRadius:o.innerRadius,outerRadius:o.outerRadius,startAngle:o.startAngle,endAngle:o.endAngle,clockWise:!1},fill:o.fill})),[r,t]);return v.createElement(VY,{value:t?l:void 0},a)}function dG(e){var{props:t,previousSectorsRef:r,id:a}=e,{sectors:l,isAnimationActive:o,animationBegin:u,animationDuration:f,animationEasing:m,activeShape:h,inactiveShape:p,onAnimationStart:x,onAnimationEnd:b}=t,j=au(t,"recharts-pie-"),w=r.current,[N,S]=v.useState(!1),E=v.useCallback(()=>{typeof b=="function"&&b(),S(!1)},[b]),O=v.useCallback(()=>{typeof x=="function"&&x(),S(!0)},[x]);return v.createElement(uG,{showLabels:!N,sectors:l},v.createElement(nu,{animationId:j,begin:u,duration:f,isActive:o,easing:m,onAnimationStart:O,onAnimationEnd:E,key:j},_=>{var T=[],k=l&&l[0],L=k?.startAngle;return l?.forEach(($,G)=>{var J=w&&w[G],ue=G>0?Ts($,"paddingAngle",0):0;if(J){var F=_t(J.endAngle-J.startAngle,$.endAngle-$.startAngle,_),q=zt(zt({},$),{},{startAngle:L+ue,endAngle:L+F+ue});T.push(q),L=q.endAngle}else{var{endAngle:fe,startAngle:z}=$,Y=_t(0,fe-z,_),C=zt(zt({},$),{},{startAngle:L+ue,endAngle:L+Y+ue});T.push(C),L=C.endAngle}}),r.current=T,v.createElement(pr,null,v.createElement(oG,{sectors:T,activeShape:h,inactiveShape:p,allOtherPieProps:t,shape:t.shape,id:a}))}),v.createElement(lG,{showLabels:!N,sectors:l,props:t}),t.children)}var fG={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:Zt.area};function mG(e){var{id:t}=e,r=th(e,VK),{hide:a,className:l,rootTabIndex:o}=e,u=v.useMemo(()=>Nb(e.children,yu),[e.children]),f=Te(p=>oK(p,t,u)),m=v.useRef(null),h=rt("recharts-pie",l);return a||f==null?(m.current=null,v.createElement(pr,{tabIndex:o,className:h})):v.createElement(tn,{zIndex:e.zIndex},v.createElement(ZK,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:f,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType}),v.createElement(pr,{tabIndex:o,className:h},v.createElement(dG,{props:zt(zt({},r),{},{sectors:f}),previousSectorsRef:m,id:t})))}function cC(e){var t=er(e,fG),{id:r}=t,a=th(t,YK),l=pn(a);return v.createElement(Cb,{id:r,type:"pie"},o=>v.createElement(v.Fragment,null,v.createElement(qK,{type:"pie",id:o,data:a.data,dataKey:a.dataKey,hide:a.hide,angleAxisId:0,radiusAxisId:0,name:a.name,nameKey:a.nameKey,tooltipType:a.tooltipType,legendType:a.legendType,fill:a.fill,cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,paddingAngle:a.paddingAngle,minAngle:a.minAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius,cornerRadius:a.cornerRadius,presentationProps:l,maxRadius:t.maxRadius}),v.createElement(XK,qi({},a,{id:o})),v.createElement(mG,qi({},a,{id:o}))))}cC.displayName="Pie";var hG=["points"];function v3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,a)}return r}function ag(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v3(Object(r),!0).forEach(function(a){pG(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v3(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function pG(e,t,r){return(t=xG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xG(e){var t=gG(e,"string");return typeof t=="symbol"?t:t+""}function gG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zf(){return Zf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Zf.apply(null,arguments)}function vG(e,t){if(e==null)return{};var r,a,l=yG(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function yG(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function bG(e){var{option:t,dotProps:r,className:a}=e;if(v.isValidElement(t))return v.cloneElement(t,r);if(typeof t=="function")return t(r);var l=rt(a,typeof t!="boolean"?t.className:""),o=r??{},{points:u}=o,f=vG(o,hG);return v.createElement(ZO,Zf({},f,{className:l}))}function jG(e,t){return e==null?!1:t?!0:e.length===1}function wG(e){var{points:t,dot:r,className:a,dotClassName:l,dataKey:o,baseProps:u,needClip:f,clipPathId:m,zIndex:h=Zt.scatter}=e;if(!jG(t,r))return null;var p=aC(r),x=KR(r),b=t.map((w,N)=>{var S,E,O=ag(ag(ag({r:3},u),x),{},{index:N,cx:(S=w.x)!==null&&S!==void 0?S:void 0,cy:(E=w.y)!==null&&E!==void 0?E:void 0,dataKey:o,value:w.value,payload:w.payload,points:t});return v.createElement(bG,{key:"dot-".concat(N),option:r,dotProps:O,className:l})}),j={};return f&&m!=null&&(j.clipPath="url(#clipPath-".concat(p?"":"dots-").concat(m,")")),v.createElement(tn,{zIndex:h},v.createElement(pr,Zf({className:a},j),b))}function y3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,a)}return r}function b3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?y3(Object(r),!0).forEach(function(a){NG(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y3(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function NG(e,t,r){return(t=SG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SG(e){var t=AG(e,"string");return typeof t=="symbol"?t:t+""}function AG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var EG={xAxis:{},yAxis:{},zAxis:{}},uC=en({name:"cartesianAxis",initialState:EG,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Et()},replaceXAxis:{reducer(e,t){var{prev:r,next:a}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==a.id&&delete e.xAxis[r.id],e.xAxis[a.id]=a)},prepare:Et()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Et()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Et()},replaceYAxis:{reducer(e,t){var{prev:r,next:a}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==a.id&&delete e.yAxis[r.id],e.yAxis[a.id]=a)},prepare:Et()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Et()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Et()},replaceZAxis:{reducer(e,t){var{prev:r,next:a}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==a.id&&delete e.zAxis[r.id],e.zAxis[a.id]=a)},prepare:Et()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Et()},updateYAxisWidth(e,t){var{id:r,width:a}=t.payload,l=e.yAxis[r];if(l){var o=l.widthHistory||[];if(o.length===3&&o[0]===o[2]&&a===o[1]&&a!==l.width&&Math.abs(a-o[0])<=1)return;var u=[...o,a].slice(-3);e.yAxis[r]=b3(b3({},e.yAxis[r]),{},{width:a,widthHistory:u})}}}}),{addXAxis:_G,replaceXAxis:OG,removeXAxis:CG,addYAxis:kG,replaceYAxis:TG,removeYAxis:MG,addZAxis:MJ,replaceZAxis:PJ,removeZAxis:DJ,updateYAxisWidth:PG}=uC.actions,DG=uC.reducer,RG=oe([ar],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),LG=oe([RG,Za,Ja],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),kb=()=>Te(LG),zG=()=>Te(MH);function j3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,a)}return r}function ig(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j3(Object(r),!0).forEach(function(a){BG(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j3(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function BG(e,t,r){return(t=$G(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $G(e){var t=IG(e,"string");return typeof t=="symbol"?t:t+""}function IG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var UG=e=>{var{point:t,childIndex:r,mainColor:a,activeDot:l,dataKey:o,clipPath:u}=e;if(l===!1||t.x==null||t.y==null)return null;var f={index:r,dataKey:o,cx:t.x,cy:t.y,r:4,fill:a??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},m=ig(ig(ig({},f),ks(l)),Vv(l)),h;return v.isValidElement(l)?h=v.cloneElement(l,m):typeof l=="function"?h=l(m):h=v.createElement(ZO,m),v.createElement(pr,{className:"recharts-active-dot",clipPath:u},h)};function qG(e){var{points:t,mainColor:r,activeDot:a,itemDataKey:l,clipPath:o,zIndex:u=Zt.activeDot}=e,f=Te(Ui),m=zG();if(t==null||m==null)return null;var h=t.find(p=>m.includes(p.payload));return kt(h)?null:v.createElement(tn,{zIndex:u},v.createElement(UG,{point:h,childIndex:Number(f),mainColor:r,dataKey:l,activeDot:a,clipPath:o}))}var FG="Invariant failed";function HG(e,t){throw new Error(FG)}var VG=["x","y"];function xv(){return xv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},xv.apply(null,arguments)}function w3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,a)}return r}function pc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w3(Object(r),!0).forEach(function(a){YG(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w3(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function YG(e,t,r){return(t=KG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KG(e){var t=GG(e,"string");return typeof t=="symbol"?t:t+""}function GG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WG(e,t){if(e==null)return{};var r,a,l=QG(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function QG(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function XG(e,t){var{x:r,y:a}=e,l=WG(e,VG),o="".concat(r),u=parseInt(o,10),f="".concat(a),m=parseInt(f,10),h="".concat(t.height||l.height),p=parseInt(h,10),x="".concat(t.width||l.width),b=parseInt(x,10);return pc(pc(pc(pc(pc({},t),l),u?{x:u}:{}),m?{y:m}:{}),{},{height:p,width:b,name:t.name,radius:t.radius})}function Jf(e){return v.createElement(Sb,xv({shapeType:"rectangle",propTransformer:XG,activeClassName:"recharts-active-bar"},e))}var ZG=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(a,l)=>{if(De(t))return t;var o=De(a)||kt(a);return o?t(a,l):(o||HG(),r)}},JG={},dC=en({name:"errorBars",initialState:JG,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:a}=t.payload;e[r]||(e[r]=[]),e[r].push(a)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:a,next:l}=t.payload;e[r]&&(e[r]=e[r].map(o=>o.dataKey===a.dataKey&&o.direction===a.direction?l:o))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:a}=t.payload;e[r]&&(e[r]=e[r].filter(l=>l.dataKey!==a.dataKey||l.direction!==a.direction))}}}),{addErrorBar:RJ,replaceErrorBar:LJ,removeErrorBar:zJ}=dC.actions,eW=dC.reducer,tW=["children"];function rW(e,t){if(e==null)return{};var r,a,l=nW(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function nW(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var aW={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},iW=v.createContext(aW);function fC(e){var{children:t}=e,r=rW(e,tW);return v.createElement(iW.Provider,{value:r},t)}function Tb(e,t){var r,a,l=Te(h=>ti(h,e)),o=Te(h=>ri(h,t)),u=(r=l?.allowDataOverflow)!==null&&r!==void 0?r:ur.allowDataOverflow,f=(a=o?.allowDataOverflow)!==null&&a!==void 0?a:dr.allowDataOverflow,m=u||f;return{needClip:m,needClipX:u,needClipY:f}}function mC(e){var{xAxisId:t,yAxisId:r,clipPathId:a}=e,l=kb(),{needClipX:o,needClipY:u,needClip:f}=Tb(t,r);if(!f||!l)return null;var{x:m,y:h,width:p,height:x}=l;return v.createElement("clipPath",{id:"clipPath-".concat(a)},v.createElement("rect",{x:o?m:m-p/2,y:u?h:h-x/2,width:o?p:p*2,height:u?x:x*2}))}function sW(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&Ht(e.zIndex)?e.zIndex:t}var sg={exports:{}},lg={};var N3;function lW(){if(N3)return lg;N3=1;var e=Gl();function t(m,h){return m===h&&(m!==0||1/m===1/h)||m!==m&&h!==h}var r=typeof Object.is=="function"?Object.is:t,a=e.useSyncExternalStore,l=e.useRef,o=e.useEffect,u=e.useMemo,f=e.useDebugValue;return lg.useSyncExternalStoreWithSelector=function(m,h,p,x,b){var j=l(null);if(j.current===null){var w={hasValue:!1,value:null};j.current=w}else w=j.current;j=u(function(){function S(k){if(!E){if(E=!0,O=k,k=x(k),b!==void 0&&w.hasValue){var L=w.value;if(b(L,k))return _=L}return _=k}if(L=_,r(O,k))return L;var $=x(k);return b!==void 0&&b(L,$)?(O=k,L):(O=k,_=$)}var E=!1,O,_,T=p===void 0?null:p;return[function(){return S(h())},T===null?void 0:function(){return S(T())}]},[h,p,x,b]);var N=a(m,j[0],j[1]);return o(function(){w.hasValue=!0,w.value=N},[N]),f(N),N},lg}var S3;function oW(){return S3||(S3=1,sg.exports=lW()),sg.exports}oW();function cW(e){e()}function uW(){let e=null,t=null;return{clear(){e=null,t=null},notify(){cW(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let a=e;for(;a;)r.push(a),a=a.next;return r},subscribe(r){let a=!0;const l=t={callback:r,next:null,prev:t};return l.prev?l.prev.next=l:e=l,function(){!a||e===null||(a=!1,l.next?l.next.prev=l.prev:t=l.prev,l.prev?l.prev.next=l.next:e=l.next)}}}}var A3={notify(){},get:()=>[]};function dW(e,t){let r,a=A3,l=0,o=!1;function u(N){p();const S=a.subscribe(N);let E=!1;return()=>{E||(E=!0,S(),x())}}function f(){a.notify()}function m(){w.onStateChange&&w.onStateChange()}function h(){return o}function p(){l++,r||(r=e.subscribe(m),a=uW())}function x(){l--,r&&l===0&&(r(),r=void 0,a.clear(),a=A3)}function b(){o||(o=!0,p())}function j(){o&&(o=!1,x())}const w={addNestedSub:u,notifyNestedSubs:f,handleChangeWrapper:m,isSubscribed:h,trySubscribe:b,tryUnsubscribe:j,getListeners:()=>a};return w}var fW=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",mW=fW(),hW=()=>typeof navigator<"u"&&navigator.product==="ReactNative",pW=hW(),xW=()=>mW||pW?v.useLayoutEffect:v.useEffect,gW=xW();function E3(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function vW(e,t){if(E3(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),a=Object.keys(t);if(r.length!==a.length)return!1;for(let l=0;l<r.length;l++)if(!Object.prototype.hasOwnProperty.call(t,r[l])||!E3(e[r[l]],t[r[l]]))return!1;return!0}var yW=Symbol.for("react-redux-context"),bW=typeof globalThis<"u"?globalThis:{};function jW(){if(!v.createContext)return{};const e=bW[yW]??=new Map;let t=e.get(v.createContext);return t||(t=v.createContext(null),e.set(v.createContext,t)),t}var wW=jW();function NW(e){const{children:t,context:r,serverState:a,store:l}=e,o=v.useMemo(()=>{const m=dW(l);return{store:l,subscription:m,getServerState:a?()=>a:void 0}},[l,a]),u=v.useMemo(()=>l.getState(),[l]);gW(()=>{const{subscription:m}=o;return m.onStateChange=m.notifyNestedSubs,m.trySubscribe(),u!==l.getState()&&m.notifyNestedSubs(),()=>{m.tryUnsubscribe(),m.onStateChange=void 0}},[o,u]);const f=r||wW;return v.createElement(f.Provider,{value:o},t)}var SW=NW,AW=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function EW(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function rh(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var a of r)if(AW.has(a)){if(e[a]==null&&t[a]==null)continue;if(!vW(e[a],t[a]))return!1}else if(!EW(e[a],t[a]))return!1;return!0}var _W=["onMouseEnter","onMouseLeave","onClick"],OW=["value","background","tooltipPosition"],CW=["id"],kW=["onMouseEnter","onClick","onMouseLeave"];function Wa(){return Wa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Wa.apply(null,arguments)}function _3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,a)}return r}function Dr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_3(Object(r),!0).forEach(function(a){TW(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_3(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function TW(e,t,r){return(t=MW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MW(e){var t=PW(e,"string");return typeof t=="symbol"?t:t+""}function PW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function em(e,t){if(e==null)return{};var r,a,l=DW(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function DW(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var RW=e=>{var{dataKey:t,name:r,fill:a,legendType:l,hide:o}=e;return[{inactive:o,dataKey:t,type:l,color:a,value:eo(r,t),payload:e}]},LW=v.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:a,fill:l,name:o,hide:u,unit:f,tooltipType:m}=e,h={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:a,fill:l,dataKey:t,nameKey:void 0,name:eo(o,t),hide:u,type:m,color:l,unit:f}};return v.createElement(Ob,{tooltipEntrySettings:h})});function zW(e){var t=Te(Ui),{data:r,dataKey:a,background:l,allOtherBarProps:o}=e,{onMouseEnter:u,onMouseLeave:f,onClick:m}=o,h=em(o,_W),p=Ab(u,a),x=Eb(f),b=_b(m,a);if(!l||r==null)return null;var j=ks(l);return v.createElement(tn,{zIndex:sW(l,Zt.barBackground)},r.map((w,N)=>{var{value:S,background:E,tooltipPosition:O}=w,_=em(w,OW);if(!E)return null;var T=p(w,N),k=x(w,N),L=b(w,N),$=Dr(Dr(Dr(Dr(Dr({option:l,isActive:String(N)===t},_),{},{fill:"#eee"},E),j),Wc(h,w,N)),{},{onMouseEnter:T,onMouseLeave:k,onClick:L,dataKey:a,index:N,className:"recharts-bar-background-rectangle"});return v.createElement(Jf,Wa({key:"background-bar-".concat(N)},$))}))}function BW(e){var{showLabels:t,children:r,rects:a}=e,l=a?.map(o=>{var u={x:o.x,y:o.y,width:o.width,lowerWidth:o.width,upperWidth:o.width,height:o.height};return Dr(Dr({},u),{},{value:o.value,payload:o.payload,parentViewBox:o.parentViewBox,viewBox:u,fill:o.fill})});return v.createElement(QO,{value:t?l:void 0},r)}function $W(e){var{shape:t,activeBar:r,baseProps:a,entry:l,index:o,dataKey:u}=e,f=Te(Ui),m=Te(hb),h=r&&String(o)===f&&(m==null||u===m),p=h?r:t;return h?v.createElement(tn,{zIndex:Zt.activeBar},v.createElement(Jf,Wa({},a,{name:String(a.name)},l,{isActive:h,option:p,index:o,dataKey:u}))):v.createElement(Jf,Wa({},a,{name:String(a.name)},l,{isActive:h,option:p,index:o,dataKey:u}))}function IW(e){var{shape:t,baseProps:r,entry:a,index:l,dataKey:o}=e;return v.createElement(Jf,Wa({},r,{name:String(r.name)},a,{isActive:!1,option:t,index:l,dataKey:o}))}function UW(e){var t,{data:r,props:a}=e,l=(t=pn(a))!==null&&t!==void 0?t:{},{id:o}=l,u=em(l,CW),{shape:f,dataKey:m,activeBar:h}=a,{onMouseEnter:p,onClick:x,onMouseLeave:b}=a,j=em(a,kW),w=Ab(p,m),N=Eb(b),S=_b(x,m);return r?v.createElement(v.Fragment,null,r.map((E,O)=>v.createElement(pr,Wa({key:"rectangle-".concat(E?.x,"-").concat(E?.y,"-").concat(E?.value,"-").concat(O),className:"recharts-bar-rectangle"},Wc(j,E,O),{onMouseEnter:w(E,O),onMouseLeave:N(E,O),onClick:S(E,O)}),h?v.createElement($W,{shape:f,activeBar:h,baseProps:u,entry:E,index:O,dataKey:m}):v.createElement(IW,{shape:f,baseProps:u,entry:E,index:O,dataKey:m})))):null}function qW(e){var{props:t,previousRectanglesRef:r}=e,{data:a,layout:l,isAnimationActive:o,animationBegin:u,animationDuration:f,animationEasing:m,onAnimationEnd:h,onAnimationStart:p}=t,x=r.current,b=au(t,"recharts-bar-"),[j,w]=v.useState(!1),N=!j,S=v.useCallback(()=>{typeof h=="function"&&h(),w(!1)},[h]),E=v.useCallback(()=>{typeof p=="function"&&p(),w(!0)},[p]);return v.createElement(BW,{showLabels:N,rects:a},v.createElement(nu,{animationId:b,begin:u,duration:f,isActive:o,easing:m,onAnimationEnd:S,onAnimationStart:E,key:b},O=>{var _=O===1?a:a?.map((T,k)=>{var L=x&&x[k];if(L)return Dr(Dr({},T),{},{x:_t(L.x,T.x,O),y:_t(L.y,T.y,O),width:_t(L.width,T.width,O),height:_t(L.height,T.height,O)});if(l==="horizontal"){var $=_t(0,T.height,O),G=_t(T.stackedBarStart,T.y,O);return Dr(Dr({},T),{},{y:G,height:$})}var J=_t(0,T.width,O),ue=_t(T.stackedBarStart,T.x,O);return Dr(Dr({},T),{},{width:J,x:ue})});return O>0&&(r.current=_??null),_==null?null:v.createElement(pr,null,v.createElement(UW,{props:t,data:_}))}),v.createElement(bb,{label:t.label}),t.children)}function FW(e){var t=v.useRef(null);return v.createElement(qW,{previousRectanglesRef:t,props:e})}var hC=0,HW=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:xt(e,t)}};class VW extends v.PureComponent{render(){var{hide:t,data:r,dataKey:a,className:l,xAxisId:o,yAxisId:u,needClip:f,background:m,id:h}=this.props;if(t||r==null)return null;var p=rt("recharts-bar",l),x=h;return v.createElement(pr,{className:p,id:h},f&&v.createElement("defs",null,v.createElement(mC,{clipPathId:x,xAxisId:o,yAxisId:u})),v.createElement(pr,{className:"recharts-bar-rectangles",clipPath:f?"url(#clipPath-".concat(x,")"):void 0},v.createElement(zW,{data:r,dataKey:a,background:m,allOtherBarProps:this.props}),v.createElement(FW,this.props)))}}var YW={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:hC,xAxisId:0,yAxisId:0,zIndex:Zt.bar};function KW(e){var{xAxisId:t,yAxisId:r,hide:a,legendType:l,minPointSize:o,activeBar:u,animationBegin:f,animationDuration:m,animationEasing:h,isAnimationActive:p}=e,{needClip:x}=Tb(t,r),b=eu(),j=Tr(),w=Nb(e.children,yu),N=Te(O=>jQ(O,t,r,j,e.id,w));if(b!=="vertical"&&b!=="horizontal")return null;var S,E=N?.[0];return E==null||E.height==null||E.width==null?S=0:S=b==="vertical"?E.height/2:E.width/2,v.createElement(fC,{xAxisId:t,yAxisId:r,data:N,dataPointFormatter:HW,errorBarOffset:S},v.createElement(VW,Wa({},e,{layout:b,needClip:x,data:N,xAxisId:t,yAxisId:r,hide:a,legendType:l,minPointSize:o,activeBar:u,animationBegin:f,animationDuration:m,animationEasing:h,isAnimationActive:p})))}function GW(e){var{layout:t,barSettings:{dataKey:r,minPointSize:a},pos:l,bandSize:o,xAxis:u,yAxis:f,xAxisTicks:m,yAxisTicks:h,stackedData:p,displayedData:x,offset:b,cells:j,parentViewBox:w,dataStartIndex:N}=e,S=t==="horizontal"?f:u,E=p?S.scale.domain():null,O=hz({numericAxis:S}),_=S.scale(O);return x.map((T,k)=>{var L,$,G,J,ue,F;p?L=oz(p[k+N],E):(L=xt(T,r),Array.isArray(L)||(L=[O,L]));var q=ZG(a,hC)(L[1],k);if(t==="horizontal"){var fe,[z,Y]=[f.scale(L[0]),f.scale(L[1])];$=HS({axis:u,ticks:m,bandSize:o,offset:l.offset,entry:T,index:k}),G=(fe=Y??z)!==null&&fe!==void 0?fe:void 0,J=l.size;var C=z-Y;if(ue=Gn(C)?0:C,F={x:$,y:b.top,width:J,height:b.height},Math.abs(q)>0&&Math.abs(ue)<Math.abs(q)){var V=hr(ue||q)*(Math.abs(q)-Math.abs(ue));G-=V,ue+=V}}else{var[ae,ve]=[u.scale(L[0]),u.scale(L[1])];if($=ae,G=HS({axis:f,ticks:h,bandSize:o,offset:l.offset,entry:T,index:k}),J=ve-ae,ue=l.size,F={x:b.left,y:G,width:b.width,height:ue},Math.abs(q)>0&&Math.abs(J)<Math.abs(q)){var ce=hr(J||q)*(Math.abs(q)-Math.abs(J));J+=ce}}if($==null||G==null||J==null||ue==null)return null;var R=Dr(Dr({},T),{},{stackedBarStart:_,x:$,y:G,width:J,height:ue,value:p?L:L[1],payload:T,background:F,tooltipPosition:{x:$+J/2,y:G+ue/2},parentViewBox:w},j&&j[k]&&j[k].props);return R}).filter(Boolean)}function WW(e){var t=er(e,YW),r=Tr();return v.createElement(Cb,{id:t.id,type:"bar"},a=>v.createElement(v.Fragment,null,v.createElement(iC,{legendPayload:RW(t)}),v.createElement(LW,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),v.createElement(oC,{type:"bar",id:a,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:mz(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),v.createElement(tn,{zIndex:t.zIndex},v.createElement(KW,Wa({},t,{id:a})))))}var jc=v.memo(WW,rh);jc.displayName="Bar";function O3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,a)}return r}function Xd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?O3(Object(r),!0).forEach(function(a){QW(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O3(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function QW(e,t,r){return(t=XW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XW(e){var t=ZW(e,"string");return typeof t=="symbol"?t:t+""}function ZW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var JW=(e,t)=>t,eQ=(e,t,r)=>r,tQ=(e,t,r,a)=>a,rQ=(e,t,r,a,l)=>l,bu=oe([Ym,rQ],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),nQ=oe([bu],e=>e?.maxBarSize),aQ=(e,t,r,a,l,o)=>o,C3=(e,t,r)=>{var a=r??e;if(!kt(a))return kr(a,t,0)},iQ=oe([Je,Ym,JW,eQ,tQ],(e,t,r,a,l)=>t.filter(o=>e==="horizontal"?o.xAxisId===r:o.yAxisId===a).filter(o=>o.isPanorama===l).filter(o=>o.hide===!1).filter(o=>o.type==="bar")),sQ=(e,t,r,a)=>{var l=Je(e);return l==="horizontal"?ov(e,"yAxis",r,a):ov(e,"xAxis",t,a)},lQ=(e,t,r)=>{var a=Je(e);return a==="horizontal"?N5(e,"xAxis",t):N5(e,"yAxis",r)},oQ=(e,t,r)=>{var a={},l=e.filter(Fm),o=e.filter(h=>h.stackId==null),u=l.reduce((h,p)=>(h[p.stackId]||(h[p.stackId]=[]),h[p.stackId].push(p),h),a),f=Object.entries(u).map(h=>{var[p,x]=h,b=x.map(w=>w.dataKey),j=C3(t,r,x[0].barSize);return{stackId:p,dataKeys:b,barSize:j}}),m=o.map(h=>{var p=[h.dataKey].filter(b=>b!=null),x=C3(t,r,h.barSize);return{stackId:void 0,dataKeys:p,barSize:x}});return[...f,...m]},cQ=oe([iQ,kq,lQ],oQ),uQ=(e,t,r,a,l)=>{var o,u,f=bu(e,t,r,a,l);if(f!=null){var m=Je(e),h=T6(e),{maxBarSize:p}=f,x=kt(p)?h:p,b,j;return m==="horizontal"?(b=Ii(e,"xAxis",t,a),j=$i(e,"xAxis",t,a)):(b=Ii(e,"yAxis",r,a),j=$i(e,"yAxis",r,a)),(o=(u=ql(b,j,!0))!==null&&u!==void 0?u:x)!==null&&o!==void 0?o:0}},pC=(e,t,r,a)=>{var l=Je(e),o,u;return l==="horizontal"?(o=Ii(e,"xAxis",t,a),u=$i(e,"xAxis",t,a)):(o=Ii(e,"yAxis",r,a),u=$i(e,"yAxis",r,a)),ql(o,u)};function dQ(e,t,r,a,l){var o=a.length;if(!(o<1)){var u=kr(e,r,0,!0),f,m=[];if(Ht(a[0].barSize)){var h=!1,p=r/o,x=a.reduce((E,O)=>E+(O.barSize||0),0);x+=(o-1)*u,x>=r&&(x-=(o-1)*u,u=0),x>=r&&p>0&&(h=!0,p*=.9,x=o*p);var b=(r-x)/2>>0,j={offset:b-u,size:0};f=a.reduce((E,O)=>{var _,T={stackId:O.stackId,dataKeys:O.dataKeys,position:{offset:j.offset+j.size+u,size:h?p:(_=O.barSize)!==null&&_!==void 0?_:0}},k=[...E,T];return j=k[k.length-1].position,k},m)}else{var w=kr(t,r,0,!0);r-2*w-(o-1)*u<=0&&(u=0);var N=(r-2*w-(o-1)*u)/o;N>1&&(N>>=0);var S=Ht(l)?Math.min(N,l):N;f=a.reduce((E,O,_)=>[...E,{stackId:O.stackId,dataKeys:O.dataKeys,position:{offset:w+(N+u)*_+(N-S)/2,size:S}}],m)}return f}}var fQ=(e,t,r,a,l,o,u)=>{var f=kt(u)?t:u,m=dQ(r,a,l!==o?l:o,e,f);return l!==o&&m!=null&&(m=m.map(h=>Xd(Xd({},h),{},{position:Xd(Xd({},h.position),{},{offset:h.position.offset-l/2})}))),m},mQ=oe([cQ,T6,Cq,M6,uQ,pC,nQ],fQ),hQ=(e,t,r,a)=>Ii(e,"xAxis",t,a),pQ=(e,t,r,a)=>Ii(e,"yAxis",r,a),xQ=(e,t,r,a)=>$i(e,"xAxis",t,a),gQ=(e,t,r,a)=>$i(e,"yAxis",r,a),vQ=oe([mQ,bu],(e,t)=>{if(!(e==null||t==null)){var r=e.find(a=>a.stackId===t.stackId&&t.dataKey!=null&&a.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),yQ=(e,t)=>{var r=Uy(t);if(!(!e||r==null||t==null)){var{stackId:a}=t;if(a!=null){var l=e[a];if(l){var{stackedData:o}=l;if(o)return o.find(u=>u.key===r)}}}},bQ=oe([sQ,bu],yQ),jQ=oe([ar,ry,hQ,pQ,xQ,gQ,vQ,Je,Im,pC,bQ,bu,aQ],(e,t,r,a,l,o,u,f,m,h,p,x,b)=>{var{chartData:j,dataStartIndex:w,dataEndIndex:N}=m;if(!(x==null||u==null||t==null||f!=="horizontal"&&f!=="vertical"||r==null||a==null||l==null||o==null||h==null)){var{data:S}=x,E;if(S!=null&&S.length>0?E=S:E=j?.slice(w,N+1),E!=null)return GW({layout:f,barSettings:x,pos:u,parentViewBox:t,bandSize:h,xAxis:r,yAxis:a,xAxisTicks:l,yAxisTicks:o,stackedData:p,displayedData:E,offset:e,cells:b,dataStartIndex:w})}}),xC=e=>{var{chartData:t}=e,r=bt(),a=Tr();return v.useEffect(()=>a?()=>{}:(r(L5(t)),()=>{r(L5(void 0))}),[t,r,a]),null},k3={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},gC=en({name:"brush",initialState:k3,reducers:{setBrushSettings(e,t){return t.payload==null?k3:t.payload}}}),{setBrushSettings:BJ}=gC.actions,wQ=gC.reducer;function NQ(e,t,r){return(t=SQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SQ(e){var t=AQ(e,"string");return typeof t=="symbol"?t:t+""}function AQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Mb{static create(t){return new Mb(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:a}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(a)switch(a){case"start":return this.scale(t);case"middle":{var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+l}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(t)+o}default:return this.scale(t)}if(r){var u=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+u}return this.scale(t)}}isInRange(t){var r=this.range(),a=r[0],l=r[r.length-1];return a<=l?t>=a&&t<=l:t>=l&&t<=a}}NQ(Mb,"EPS",1e-4);function EQ(e){return(e%180+180)%180}var _Q=function(t){var{width:r,height:a}=t,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=EQ(l),u=o*Math.PI/180,f=Math.atan(a/r),m=u>f&&u<Math.PI-f?a/Math.sin(u):r/Math.cos(u);return Math.abs(m)},OQ={dots:[],areas:[],lines:[]},vC=en({name:"referenceElements",initialState:OQ,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Kn(e).dots.findIndex(a=>a===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Kn(e).areas.findIndex(a=>a===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Kn(e).lines.findIndex(a=>a===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:$J,removeDot:IJ,addArea:UJ,removeArea:qJ,addLine:FJ,removeLine:HJ}=vC.actions,CQ=vC.reducer,kQ=v.createContext(void 0),TQ=e=>{var{children:t}=e,[r]=v.useState("".concat(Sc("recharts"),"-clip")),a=kb();if(a==null)return null;var{x:l,y:o,width:u,height:f}=a;return v.createElement(kQ.Provider,{value:r},v.createElement("defs",null,v.createElement("clipPath",{id:r},v.createElement("rect",{x:l,y:o,height:f,width:u}))),t)};function yC(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],a=0;a<e.length;a+=t)r.push(e[a]);return r}function MQ(e,t,r){var a={width:e.width+t.width,height:e.height+t.height};return _Q(a,r)}function PQ(e,t,r){var a=r==="width",{x:l,y:o,width:u,height:f}=e;return t===1?{start:a?l:o,end:a?l+u:o+f}:{start:a?l+u:o+f,end:a?l:o}}function tm(e,t,r,a,l){if(e*t<e*a||e*t>e*l)return!1;var o=r();return e*(t-e*o/2-a)>=0&&e*(t+e*o/2-l)<=0}function DQ(e,t){return yC(e,t+1)}function RQ(e,t,r,a,l){for(var o=(a||[]).slice(),{start:u,end:f}=t,m=0,h=1,p=u,x=function(){var w=a?.[m];if(w===void 0)return{v:yC(a,h)};var N=m,S,E=()=>(S===void 0&&(S=r(w,N)),S),O=w.coordinate,_=m===0||tm(e,O,E,p,f);_||(m=0,p=u,h+=1),_&&(p=O+e*(E()/2+l),m+=h)},b;h<=o.length;)if(b=x(),b)return b.v;return[]}function T3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,a)}return r}function Er(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?T3(Object(r),!0).forEach(function(a){LQ(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T3(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function LQ(e,t,r){return(t=zQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zQ(e){var t=BQ(e,"string");return typeof t=="symbol"?t:t+""}function BQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $Q(e,t,r,a,l){for(var o=(a||[]).slice(),u=o.length,{start:f}=t,{end:m}=t,h=function(b){var j=o[b],w,N=()=>(w===void 0&&(w=r(j,b)),w);if(b===u-1){var S=e*(j.coordinate+e*N()/2-m);o[b]=j=Er(Er({},j),{},{tickCoord:S>0?j.coordinate-S*e:j.coordinate})}else o[b]=j=Er(Er({},j),{},{tickCoord:j.coordinate});if(j.tickCoord!=null){var E=tm(e,j.tickCoord,N,f,m);E&&(m=j.tickCoord-e*(N()/2+l),o[b]=Er(Er({},j),{},{isShow:!0}))}},p=u-1;p>=0;p--)h(p);return o}function IQ(e,t,r,a,l,o){var u=(a||[]).slice(),f=u.length,{start:m,end:h}=t;if(o){var p=a[f-1],x=r(p,f-1),b=e*(p.coordinate+e*x/2-h);if(u[f-1]=p=Er(Er({},p),{},{tickCoord:b>0?p.coordinate-b*e:p.coordinate}),p.tickCoord!=null){var j=tm(e,p.tickCoord,()=>x,m,h);j&&(h=p.tickCoord-e*(x/2+l),u[f-1]=Er(Er({},p),{},{isShow:!0}))}}for(var w=o?f-1:f,N=function(O){var _=u[O],T,k=()=>(T===void 0&&(T=r(_,O)),T);if(O===0){var L=e*(_.coordinate-e*k()/2-m);u[O]=_=Er(Er({},_),{},{tickCoord:L<0?_.coordinate-L*e:_.coordinate})}else u[O]=_=Er(Er({},_),{},{tickCoord:_.coordinate});if(_.tickCoord!=null){var $=tm(e,_.tickCoord,k,m,h);$&&(m=_.tickCoord+e*(k()/2+l),u[O]=Er(Er({},_),{},{isShow:!0}))}},S=0;S<w;S++)N(S);return u}function Pb(e,t,r){var{tick:a,ticks:l,viewBox:o,minTickGap:u,orientation:f,interval:m,tickFormatter:h,unit:p,angle:x}=e;if(!l||!l.length||!a)return[];if(De(m)||ru.isSsr){var b;return(b=DQ(l,De(m)?m:0))!==null&&b!==void 0?b:[]}var j=[],w=f==="top"||f==="bottom"?"width":"height",N=p&&w==="width"?bc(p,{fontSize:t,letterSpacing:r}):{width:0,height:0},S=(_,T)=>{var k=typeof h=="function"?h(_.value,T):_.value;return w==="width"?MQ(bc(k,{fontSize:t,letterSpacing:r}),N,x):bc(k,{fontSize:t,letterSpacing:r})[w]},E=l.length>=2?hr(l[1].coordinate-l[0].coordinate):1,O=PQ(o,E,w);return m==="equidistantPreserveStart"?RQ(E,O,S,l,u):(m==="preserveStart"||m==="preserveStartEnd"?j=IQ(E,O,S,l,u,m==="preserveStartEnd"):j=$Q(E,O,S,l,u),j.filter(_=>_.isShow))}var UQ=e=>{var{ticks:t,label:r,labelGapWithTick:a=5,tickSize:l=0,tickMargin:o=0}=e,u=0;if(t){Array.from(t).forEach(p=>{if(p){var x=p.getBoundingClientRect();x.width>u&&(u=x.width)}});var f=r?r.getBoundingClientRect().width:0,m=l+o,h=u+m+f+(r?a:0);return Math.round(h)}return 0},qQ=["axisLine","width","height","className","hide","ticks","axisType"];function FQ(e,t){if(e==null)return{};var r,a,l=HQ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function HQ(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function Rs(){return Rs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Rs.apply(null,arguments)}function M3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,a)}return r}function Qt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?M3(Object(r),!0).forEach(function(a){VQ(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M3(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function VQ(e,t,r){return(t=YQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YQ(e){var t=KQ(e,"string");return typeof t=="symbol"?t:t+""}function KQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ua={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Zt.axis};function GQ(e){var{x:t,y:r,width:a,height:l,orientation:o,mirror:u,axisLine:f,otherSvgProps:m}=e;if(!f)return null;var h=Qt(Qt(Qt({},m),pn(f)),{},{fill:"none"});if(o==="top"||o==="bottom"){var p=+(o==="top"&&!u||o==="bottom"&&u);h=Qt(Qt({},h),{},{x1:t,y1:r+p*l,x2:t+a,y2:r+p*l})}else{var x=+(o==="left"&&!u||o==="right"&&u);h=Qt(Qt({},h),{},{x1:t+x*a,y1:r,x2:t+x*a,y2:r+l})}return v.createElement("line",Rs({},h,{className:rt("recharts-cartesian-axis-line",Ts(f,"className"))}))}function WQ(e,t,r,a,l,o,u,f,m){var h,p,x,b,j,w,N=f?-1:1,S=e.tickSize||u,E=De(e.tickCoord)?e.tickCoord:e.coordinate;switch(o){case"top":h=p=e.coordinate,b=r+ +!f*l,x=b-N*S,w=x-N*m,j=E;break;case"left":x=b=e.coordinate,p=t+ +!f*a,h=p-N*S,j=h-N*m,w=E;break;case"right":x=b=e.coordinate,p=t+ +f*a,h=p+N*S,j=h+N*m,w=E;break;default:h=p=e.coordinate,b=r+ +f*l,x=b+N*S,w=x+N*m,j=E;break}return{line:{x1:h,y1:x,x2:p,y2:b},tick:{x:j,y:w}}}function QQ(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function XQ(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function ZQ(e){var{option:t,tickProps:r,value:a}=e,l,o=rt(r.className,"recharts-cartesian-axis-tick-value");if(v.isValidElement(t))l=v.cloneElement(t,Qt(Qt({},r),{},{className:o}));else if(typeof t=="function")l=t(Qt(Qt({},r),{},{className:o}));else{var u="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(u=rt(u,t?.className)),l=v.createElement(Zm,Rs({},r,{className:u}),a)}return l}var JQ=v.forwardRef((e,t)=>{var{ticks:r=[],tick:a,tickLine:l,stroke:o,tickFormatter:u,unit:f,padding:m,tickTextProps:h,orientation:p,mirror:x,x:b,y:j,width:w,height:N,tickSize:S,tickMargin:E,fontSize:O,letterSpacing:_,getTicksConfig:T,events:k,axisType:L}=e,$=Pb(Qt(Qt({},T),{},{ticks:r}),O,_),G=QQ(p,x),J=XQ(p,x),ue=pn(T),F=ks(a),q={};typeof l=="object"&&(q=l);var fe=Qt(Qt({},ue),{},{fill:"none"},q),z=$.map(V=>Qt({entry:V},WQ(V,b,j,w,N,p,S,x,E))),Y=z.map(V=>{var{entry:ae,line:ve}=V;return v.createElement(pr,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(ae.value,"-").concat(ae.coordinate,"-").concat(ae.tickCoord)},l&&v.createElement("line",Rs({},fe,ve,{className:rt("recharts-cartesian-axis-tick-line",Ts(l,"className"))})))}),C=z.map((V,ae)=>{var{entry:ve,tick:ce}=V,R=Qt(Qt(Qt(Qt({textAnchor:G,verticalAnchor:J},ue),{},{stroke:"none",fill:o},F),ce),{},{index:ae,payload:ve,visibleTicksCount:$.length,tickFormatter:u,padding:m},h);return v.createElement(pr,Rs({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(ve.value,"-").concat(ve.coordinate,"-").concat(ve.tickCoord)},Wc(k,ve,ae)),a&&v.createElement(ZQ,{option:a,tickProps:R,value:"".concat(typeof u=="function"?u(ve.value,ae):ve.value).concat(f||"")}))});return v.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(L,"-ticks")},C.length>0&&v.createElement(tn,{zIndex:Zt.label},v.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(L,"-tick-labels"),ref:t},C)),Y.length>0&&v.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(L,"-tick-lines")},Y))}),eX=v.forwardRef((e,t)=>{var{axisLine:r,width:a,height:l,className:o,hide:u,ticks:f,axisType:m}=e,h=FQ(e,qQ),[p,x]=v.useState(""),[b,j]=v.useState(""),w=v.useRef(null);v.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var S;return UQ({ticks:w.current,label:(S=e.labelRef)===null||S===void 0?void 0:S.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var N=v.useCallback(S=>{if(S){var E=S.getElementsByClassName("recharts-cartesian-axis-tick-value");w.current=E;var O=E[0];if(O){var _=window.getComputedStyle(O),T=_.fontSize,k=_.letterSpacing;(T!==p||k!==b)&&(x(T),j(k))}}},[p,b]);return u||a!=null&&a<=0||l!=null&&l<=0?null:v.createElement(tn,{zIndex:e.zIndex},v.createElement(pr,{className:rt("recharts-cartesian-axis",o)},v.createElement(GQ,{x:e.x,y:e.y,width:a,height:l,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:pn(e)}),v.createElement(JQ,{ref:N,axisType:m,events:h,fontSize:p,getTicksConfig:e,height:e.height,letterSpacing:b,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:f,unit:e.unit,width:e.width,x:e.x,y:e.y}),v.createElement(SY,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},v.createElement(DY,{label:e.label,labelRef:e.labelRef}),e.children)))}),Db=v.forwardRef((e,t)=>{var r=er(e,Ua);return v.createElement(eX,Rs({},r,{ref:t}))});Db.displayName="CartesianAxis";var tX=["x1","y1","x2","y2","key"],rX=["offset"],nX=["xAxisId","yAxisId"],aX=["xAxisId","yAxisId"];function P3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,a)}return r}function Or(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?P3(Object(r),!0).forEach(function(a){iX(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P3(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function iX(e,t,r){return(t=sX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sX(e){var t=lX(e,"string");return typeof t=="symbol"?t:t+""}function lX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ns(){return Ns=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Ns.apply(null,arguments)}function rm(e,t){if(e==null)return{};var r,a,l=oX(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function oX(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var cX=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:a,y:l,width:o,height:u,ry:f}=e;return v.createElement("rect",{x:a,y:l,ry:f,width:o,height:u,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function bC(e){var{option:t,lineItemProps:r}=e,a;if(v.isValidElement(t))a=v.cloneElement(t,r);else if(typeof t=="function")a=t(r);else{var l,{x1:o,y1:u,x2:f,y2:m,key:h}=r,p=rm(r,tX),x=(l=pn(p))!==null&&l!==void 0?l:{},{offset:b}=x,j=rm(x,rX);a=v.createElement("line",Ns({},j,{x1:o,y1:u,x2:f,y2:m,fill:"none",key:h}))}return a}function uX(e){var{x:t,width:r,horizontal:a=!0,horizontalPoints:l}=e;if(!a||!l||!l.length)return null;var{xAxisId:o,yAxisId:u}=e,f=rm(e,nX),m=l.map((h,p)=>{var x=Or(Or({},f),{},{x1:t,y1:h,x2:t+r,y2:h,key:"line-".concat(p),index:p});return v.createElement(bC,{key:"line-".concat(p),option:a,lineItemProps:x})});return v.createElement("g",{className:"recharts-cartesian-grid-horizontal"},m)}function dX(e){var{y:t,height:r,vertical:a=!0,verticalPoints:l}=e;if(!a||!l||!l.length)return null;var{xAxisId:o,yAxisId:u}=e,f=rm(e,aX),m=l.map((h,p)=>{var x=Or(Or({},f),{},{x1:h,y1:t,x2:h,y2:t+r,key:"line-".concat(p),index:p});return v.createElement(bC,{option:a,lineItemProps:x,key:"line-".concat(p)})});return v.createElement("g",{className:"recharts-cartesian-grid-vertical"},m)}function fX(e){var{horizontalFill:t,fillOpacity:r,x:a,y:l,width:o,height:u,horizontalPoints:f,horizontal:m=!0}=e;if(!m||!t||!t.length||f==null)return null;var h=f.map(x=>Math.round(x+l-l)).sort((x,b)=>x-b);l!==h[0]&&h.unshift(0);var p=h.map((x,b)=>{var j=!h[b+1],w=j?l+u-x:h[b+1]-x;if(w<=0)return null;var N=b%t.length;return v.createElement("rect",{key:"react-".concat(b),y:x,x:a,height:w,width:o,stroke:"none",fill:t[N],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return v.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function mX(e){var{vertical:t=!0,verticalFill:r,fillOpacity:a,x:l,y:o,width:u,height:f,verticalPoints:m}=e;if(!t||!r||!r.length)return null;var h=m.map(x=>Math.round(x+l-l)).sort((x,b)=>x-b);l!==h[0]&&h.unshift(0);var p=h.map((x,b)=>{var j=!h[b+1],w=j?l+u-x:h[b+1]-x;if(w<=0)return null;var N=b%r.length;return v.createElement("rect",{key:"react-".concat(b),x,y:o,width:w,height:f,stroke:"none",fill:r[N],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return v.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var hX=(e,t)=>{var{xAxis:r,width:a,height:l,offset:o}=e;return s_(Pb(Or(Or(Or({},Ua),r),{},{ticks:l_(r),viewBox:{x:0,y:0,width:a,height:l}})),o.left,o.left+o.width,t)},pX=(e,t)=>{var{yAxis:r,width:a,height:l,offset:o}=e;return s_(Pb(Or(Or(Or({},Ua),r),{},{ticks:l_(r),viewBox:{x:0,y:0,width:a,height:l}})),o.top,o.top+o.height,t)},xX={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Zt.grid};function gs(e){var t=ay(),r=iy(),a=p_(),l=Or(Or({},er(e,xX)),{},{x:De(e.x)?e.x:a.left,y:De(e.y)?e.y:a.top,width:De(e.width)?e.width:a.width,height:De(e.height)?e.height:a.height}),{xAxisId:o,yAxisId:u,x:f,y:m,width:h,height:p,syncWithTicks:x,horizontalValues:b,verticalValues:j}=l,w=Tr(),N=Te(J=>S5(J,"xAxis",o,w)),S=Te(J=>S5(J,"yAxis",u,w));if(!ua(h)||!ua(p)||!De(f)||!De(m))return null;var E=l.verticalCoordinatesGenerator||hX,O=l.horizontalCoordinatesGenerator||pX,{horizontalPoints:_,verticalPoints:T}=l;if((!_||!_.length)&&typeof O=="function"){var k=b&&b.length,L=O({yAxis:S?Or(Or({},S),{},{ticks:k?b:S.ticks}):void 0,width:t??h,height:r??p,offset:a},k?!0:x);_f(Array.isArray(L),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof L,"]")),Array.isArray(L)&&(_=L)}if((!T||!T.length)&&typeof E=="function"){var $=j&&j.length,G=E({xAxis:N?Or(Or({},N),{},{ticks:$?j:N.ticks}):void 0,width:t??h,height:r??p,offset:a},$?!0:x);_f(Array.isArray(G),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof G,"]")),Array.isArray(G)&&(T=G)}return v.createElement(tn,{zIndex:l.zIndex},v.createElement("g",{className:"recharts-cartesian-grid"},v.createElement(cX,{fill:l.fill,fillOpacity:l.fillOpacity,x:l.x,y:l.y,width:l.width,height:l.height,ry:l.ry}),v.createElement(fX,Ns({},l,{horizontalPoints:_})),v.createElement(mX,Ns({},l,{verticalPoints:T})),v.createElement(uX,Ns({},l,{offset:a,horizontalPoints:_,xAxis:N,yAxis:S})),v.createElement(dX,Ns({},l,{offset:a,verticalPoints:T,xAxis:N,yAxis:S}))))}gs.displayName="CartesianGrid";var jC=(e,t,r,a)=>Ii(e,"xAxis",t,a),wC=(e,t,r,a)=>$i(e,"xAxis",t,a),NC=(e,t,r,a)=>Ii(e,"yAxis",r,a),SC=(e,t,r,a)=>$i(e,"yAxis",r,a),gX=oe([Je,jC,NC,wC,SC],(e,t,r,a,l)=>Fi(e,"xAxis")?ql(t,a,!1):ql(r,l,!1)),vX=(e,t,r,a,l)=>l;function yX(e){return e.type==="line"}var bX=oe([Ym,vX],(e,t)=>e.filter(yX).find(r=>r.id===t)),jX=oe([Je,jC,NC,wC,SC,bX,gX,Im],(e,t,r,a,l,o,u,f)=>{var{chartData:m,dataStartIndex:h,dataEndIndex:p}=f;if(!(o==null||t==null||r==null||a==null||l==null||a.length===0||l.length===0||u==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:x,data:b}=o,j;if(b!=null&&b.length>0?j=b:j=m?.slice(h,p+1),j!=null)return qX({layout:e,xAxis:t,yAxis:r,xAxisTicks:a,yAxisTicks:l,dataKey:x,bandSize:u,displayedData:j})}});function wX(e){var t=ks(e),r=3,a=2;if(t!=null){var{r:l,strokeWidth:o}=t,u=Number(l),f=Number(o);return(Number.isNaN(u)||u<0)&&(u=r),(Number.isNaN(f)||f<0)&&(f=a),{r:u,strokeWidth:f}}return{r,strokeWidth:a}}var NX=["id"],SX=["type","layout","connectNulls","needClip","shape"],AX=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Bc(){return Bc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Bc.apply(null,arguments)}function D3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,a)}return r}function ia(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?D3(Object(r),!0).forEach(function(a){EX(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D3(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function EX(e,t,r){return(t=_X(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _X(e){var t=OX(e,"string");return typeof t=="symbol"?t:t+""}function OX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rb(e,t){if(e==null)return{};var r,a,l=CX(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function CX(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var kX=e=>{var{dataKey:t,name:r,stroke:a,legendType:l,hide:o}=e;return[{inactive:o,dataKey:t,type:l,color:a,value:eo(r,t),payload:e}]},TX=v.memo(e=>{var{dataKey:t,data:r,stroke:a,strokeWidth:l,fill:o,name:u,hide:f,unit:m,tooltipType:h}=e,p={dataDefinedOnItem:r,positions:void 0,settings:{stroke:a,strokeWidth:l,fill:o,dataKey:t,nameKey:void 0,name:eo(u,t),hide:f,type:h,color:a,unit:m}};return v.createElement(Ob,{tooltipEntrySettings:p})}),AC=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function MX(e,t){for(var r=e.length%2!==0?[...e,0]:e,a=[],l=0;l<t;++l)a=[...a,...r];return a}var PX=(e,t,r)=>{var a=r.reduce((x,b)=>x+b);if(!a)return AC(t,e);for(var l=Math.floor(e/a),o=e%a,u=t-e,f=[],m=0,h=0;m<r.length;h+=r[m],++m)if(h+r[m]>o){f=[...r.slice(0,m),o-h];break}var p=f.length%2===0?[0,u]:[u];return[...MX(r,l),...f,...p].map(x=>"".concat(x,"px")).join(", ")};function DX(e){var{clipPathId:t,points:r,props:a}=e,{dot:l,dataKey:o,needClip:u}=a,{id:f}=a,m=Rb(a,NX),h=pn(m);return v.createElement(wG,{points:r,dot:l,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:o,baseProps:h,needClip:u,clipPathId:t})}function RX(e){var{showLabels:t,children:r,points:a}=e,l=v.useMemo(()=>a?.map(o=>{var u,f,m={x:(u=o.x)!==null&&u!==void 0?u:0,y:(f=o.y)!==null&&f!==void 0?f:0,width:0,lowerWidth:0,upperWidth:0,height:0};return ia(ia({},m),{},{value:o.value,payload:o.payload,viewBox:m,parentViewBox:void 0,fill:void 0})}),[a]);return v.createElement(QO,{value:t?l:void 0},r)}function R3(e){var{clipPathId:t,pathRef:r,points:a,strokeDasharray:l,props:o}=e,{type:u,layout:f,connectNulls:m,needClip:h,shape:p}=o,x=Rb(o,SX),b=ia(ia({},$r(x)),{},{fill:"none",className:"recharts-line-curve",clipPath:h?"url(#clipPath-".concat(t,")"):void 0,points:a,type:u,layout:f,connectNulls:m,strokeDasharray:l??o.strokeDasharray});return v.createElement(v.Fragment,null,a?.length>1&&v.createElement(Sb,Bc({shapeType:"curve",option:p},b,{pathRef:r})),v.createElement(DX,{points:a,clipPathId:t,props:o}))}function LX(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function zX(e){var{clipPathId:t,props:r,pathRef:a,previousPointsRef:l,longestAnimatedLengthRef:o}=e,{points:u,strokeDasharray:f,isAnimationActive:m,animationBegin:h,animationDuration:p,animationEasing:x,animateNewValues:b,width:j,height:w,onAnimationEnd:N,onAnimationStart:S}=r,E=l.current,O=au(u,"recharts-line-"),_=v.useRef(O),[T,k]=v.useState(!1),L=!T,$=v.useCallback(()=>{typeof N=="function"&&N(),k(!1)},[N]),G=v.useCallback(()=>{typeof S=="function"&&S(),k(!0)},[S]),J=LX(a.current),ue=v.useRef(0);_.current!==O&&(ue.current=o.current,_.current=O);var F=ue.current;return v.createElement(RX,{points:u,showLabels:L},r.children,v.createElement(nu,{animationId:O,begin:h,duration:p,isActive:m,easing:x,onAnimationEnd:$,onAnimationStart:G,key:O},q=>{var fe=_t(F,J+F,q),z=Math.min(fe,J),Y;if(m)if(f){var C="".concat(f).split(/[,\s]+/gim).map(ve=>parseFloat(ve));Y=PX(z,J,C)}else Y=AC(J,z);else Y=f==null?void 0:String(f);if(q>0&&J>0&&(l.current=u,o.current=Math.max(o.current,z)),E){var V=E.length/u.length,ae=q===1?u:u.map((ve,ce)=>{var R=Math.floor(ce*V);if(E[R]){var K=E[R];return ia(ia({},ve),{},{x:_t(K.x,ve.x,q),y:_t(K.y,ve.y,q)})}return b?ia(ia({},ve),{},{x:_t(j*2,ve.x,q),y:_t(w/2,ve.y,q)}):ia(ia({},ve),{},{x:ve.x,y:ve.y})});return l.current=ae,v.createElement(R3,{props:r,points:ae,clipPathId:t,pathRef:a,strokeDasharray:Y})}return v.createElement(R3,{props:r,points:u,clipPathId:t,pathRef:a,strokeDasharray:Y})}),v.createElement(bb,{label:r.label}))}function BX(e){var{clipPathId:t,props:r}=e,a=v.useRef(null),l=v.useRef(0),o=v.useRef(null);return v.createElement(zX,{props:r,clipPathId:t,previousPointsRef:a,longestAnimatedLengthRef:l,pathRef:o})}var $X=(e,t)=>{var r,a;return{x:(r=e.x)!==null&&r!==void 0?r:void 0,y:(a=e.y)!==null&&a!==void 0?a:void 0,value:e.value,errorVal:xt(e.payload,t)}};class IX extends v.Component{render(){var{hide:t,dot:r,points:a,className:l,xAxisId:o,yAxisId:u,top:f,left:m,width:h,height:p,id:x,needClip:b,zIndex:j}=this.props;if(t)return null;var w=rt("recharts-line",l),N=x,{r:S,strokeWidth:E}=wX(r),O=aC(r),_=S*2+E,T=b?"url(#clipPath-".concat(O?"":"dots-").concat(N,")"):void 0;return v.createElement(tn,{zIndex:j},v.createElement(pr,{className:w},b&&v.createElement("defs",null,v.createElement(mC,{clipPathId:N,xAxisId:o,yAxisId:u}),!O&&v.createElement("clipPath",{id:"clipPath-dots-".concat(N)},v.createElement("rect",{x:m-_/2,y:f-_/2,width:h+_,height:p+_}))),v.createElement(fC,{xAxisId:o,yAxisId:u,data:a,dataPointFormatter:$X,errorBarOffset:0},v.createElement(BX,{props:this.props,clipPathId:N}))),v.createElement(qG,{activeDot:this.props.activeDot,points:a,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:T}))}}var EC={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:Zt.line,type:"linear"};function UX(e){var t=er(e,EC),{activeDot:r,animateNewValues:a,animationBegin:l,animationDuration:o,animationEasing:u,connectNulls:f,dot:m,hide:h,isAnimationActive:p,label:x,legendType:b,xAxisId:j,yAxisId:w,id:N}=t,S=Rb(t,AX),{needClip:E}=Tb(j,w),O=kb(),_=eu(),T=Tr(),k=Te(ue=>jX(ue,j,w,T,N));if(_!=="horizontal"&&_!=="vertical"||k==null||O==null)return null;var{height:L,width:$,x:G,y:J}=O;return v.createElement(IX,Bc({},S,{id:N,connectNulls:f,dot:m,activeDot:r,animateNewValues:a,animationBegin:l,animationDuration:o,animationEasing:u,isAnimationActive:p,hide:h,label:x,legendType:b,xAxisId:j,yAxisId:w,points:k,layout:_,height:L,width:$,left:G,top:J,needClip:E}))}function qX(e){var{layout:t,xAxis:r,yAxis:a,xAxisTicks:l,yAxisTicks:o,dataKey:u,bandSize:f,displayedData:m}=e;return m.map((h,p)=>{var x=xt(h,u);if(t==="horizontal"){var b=FS({axis:r,ticks:l,bandSize:f,entry:h,index:p}),j=kt(x)?null:a.scale(x);return{x:b,y:j,value:x,payload:h}}var w=kt(x)?null:r.scale(x),N=FS({axis:a,ticks:o,bandSize:f,entry:h,index:p});return w==null||N==null?null:{x:w,y:N,value:x,payload:h}}).filter(Boolean)}function FX(e){var t=er(e,EC),r=Tr();return v.createElement(Cb,{id:t.id,type:"line"},a=>v.createElement(v.Fragment,null,v.createElement(iC,{legendPayload:kX(t)}),v.createElement(TX,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),v.createElement(oC,{type:"line",id:a,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),v.createElement(UX,Bc({},t,{id:a}))))}var vc=v.memo(FX,rh);vc.displayName="Line";var HX=["domain","range"],VX=["domain","range"];function L3(e,t){if(e==null)return{};var r,a,l=YX(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function YX(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function z3(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function _C(e,t){if(e===t)return!0;var{domain:r,range:a}=e,l=L3(e,HX),{domain:o,range:u}=t,f=L3(t,VX);return!z3(r,o)||!z3(a,u)?!1:rh(l,f)}var KX=["dangerouslySetInnerHTML","ticks"],GX=["id"];function gv(){return gv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},gv.apply(null,arguments)}function B3(e,t){if(e==null)return{};var r,a,l=WX(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function WX(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function QX(e){var t=bt(),r=v.useRef(null);return v.useLayoutEffect(()=>{r.current===null?t(_G(e)):r.current!==e&&t(OG({prev:r.current,next:e})),r.current=e},[e,t]),v.useLayoutEffect(()=>()=>{r.current&&(t(CG(r.current)),r.current=null)},[t]),null}var XX=e=>{var{xAxisId:t,className:r}=e,a=Te(ry),l=Tr(),o="xAxis",u=Te(S=>lo(S,o,t,l)),f=Te(S=>uO(S,o,t,l)),m=Te(S=>sO(S,t)),h=Te(S=>_F(S,t)),p=Te(S=>U6(S,t));if(m==null||h==null||p==null)return null;var{dangerouslySetInnerHTML:x,ticks:b}=e,j=B3(e,KX),{id:w}=p,N=B3(p,GX);return v.createElement(Db,gv({},j,N,{scale:u,x:h.x,y:h.y,width:m.width,height:m.height,className:rt("recharts-".concat(o," ").concat(o),r),viewBox:a,ticks:f,axisType:o}))},ZX={allowDataOverflow:ur.allowDataOverflow,allowDecimals:ur.allowDecimals,allowDuplicatedCategory:ur.allowDuplicatedCategory,angle:ur.angle,axisLine:Ua.axisLine,height:ur.height,hide:!1,includeHidden:ur.includeHidden,interval:ur.interval,minTickGap:ur.minTickGap,mirror:ur.mirror,orientation:ur.orientation,padding:ur.padding,reversed:ur.reversed,scale:ur.scale,tick:ur.tick,tickCount:ur.tickCount,tickLine:Ua.tickLine,tickSize:Ua.tickSize,type:ur.type,xAxisId:0},JX=e=>{var t=er(e,ZX);return v.createElement(v.Fragment,null,v.createElement(QX,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),v.createElement(XX,t))},vs=v.memo(JX,_C);vs.displayName="XAxis";var eZ=["dangerouslySetInnerHTML","ticks"],tZ=["id"];function vv(){return vv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},vv.apply(null,arguments)}function $3(e,t){if(e==null)return{};var r,a,l=rZ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function rZ(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function nZ(e){var t=bt(),r=v.useRef(null);return v.useLayoutEffect(()=>{r.current===null?t(kG(e)):r.current!==e&&t(TG({prev:r.current,next:e})),r.current=e},[e,t]),v.useLayoutEffect(()=>()=>{r.current&&(t(MG(r.current)),r.current=null)},[t]),null}var aZ=e=>{var{yAxisId:t,className:r,width:a,label:l}=e,o=v.useRef(null),u=v.useRef(null),f=Te(ry),m=Tr(),h=bt(),p="yAxis",x=Te(k=>lo(k,p,t,m)),b=Te(k=>lO(k,t)),j=Te(k=>CF(k,t)),w=Te(k=>uO(k,p,t,m)),N=Te(k=>q6(k,t));if(v.useLayoutEffect(()=>{if(!(a!=="auto"||!b||yb(l)||v.isValidElement(l)||N==null)){var k=o.current;if(k){var L=k.getCalculatedWidth();Math.round(b.width)!==Math.round(L)&&h(PG({id:t,width:L}))}}},[w,b,h,l,t,a,N]),b==null||j==null||N==null)return null;var{dangerouslySetInnerHTML:S,ticks:E}=e,O=$3(e,eZ),{id:_}=N,T=$3(N,tZ);return v.createElement(Db,vv({},O,T,{ref:o,labelRef:u,scale:x,x:j.x,y:j.y,tickTextProps:a==="auto"?{width:void 0}:{width:a},width:b.width,height:b.height,className:rt("recharts-".concat(p," ").concat(p),r),viewBox:f,ticks:w,axisType:p}))},iZ={allowDataOverflow:dr.allowDataOverflow,allowDecimals:dr.allowDecimals,allowDuplicatedCategory:dr.allowDuplicatedCategory,angle:dr.angle,axisLine:Ua.axisLine,hide:!1,includeHidden:dr.includeHidden,interval:dr.interval,minTickGap:dr.minTickGap,mirror:dr.mirror,orientation:dr.orientation,padding:dr.padding,reversed:dr.reversed,scale:dr.scale,tick:dr.tick,tickCount:dr.tickCount,tickLine:Ua.tickLine,tickSize:Ua.tickSize,type:dr.type,width:dr.width,yAxisId:0},sZ=e=>{var t=er(e,iZ);return v.createElement(v.Fragment,null,v.createElement(nZ,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),v.createElement(aZ,t))},ys=v.memo(sZ,_C);ys.displayName="YAxis";var lZ=(e,t)=>t,Lb=oe([lZ,Je,$6,sr,EO,ni,VH,ar],ZH),zb=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,a=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/a)}},OC=Rn("mouseClick"),CC=Zc();CC.startListening({actionCreator:OC,effect:(e,t)=>{var r=e.payload,a=Lb(t.getState(),zb(r));a?.activeIndex!=null&&t.dispatch(FF({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}});var yv=Rn("mouseMove"),kC=Zc(),Zd=null;kC.startListening({actionCreator:yv,effect:(e,t)=>{var r=e.payload;Zd!==null&&cancelAnimationFrame(Zd);var a=zb(r);Zd=requestAnimationFrame(()=>{var l=t.getState(),o=ob(l,l.tooltip.settings.shared);if(o==="axis"){var u=Lb(l,a);u?.activeIndex!=null?t.dispatch(vO({activeIndex:u.activeIndex,activeDataKey:void 0,activeCoordinate:u.activeCoordinate})):t.dispatch(gO())}Zd=null})}});var I3={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},TC=en({name:"rootProps",initialState:I3,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:I3.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),oZ=TC.reducer,{updateOptions:cZ}=TC.actions,MC=en({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:uZ}=MC.actions,dZ=MC.reducer,PC=Rn("keyDown"),DC=Rn("focus"),Bb=Zc();Bb.startListening({actionCreator:PC,effect:(e,t)=>{var r=t.getState(),a=r.rootProps.accessibilityLayer!==!1;if(a){var{keyboardInteraction:l}=r.tooltip,o=e.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var u=cb(l,co(r),mu(r),gu(r)),f=u==null?-1:Number(u);if(!(!Number.isFinite(f)||f<0)){var m=ni(r);if(o==="Enter"){var h=Gf(r,"axis","hover",String(l.index));t.dispatch(uv({active:!l.active,activeIndex:l.index,activeDataKey:l.dataKey,activeCoordinate:h}));return}var p=PF(r),x=p==="left-to-right"?1:-1,b=o==="ArrowRight"?1:-1,j=f+b*x;if(!(m==null||j>=m.length||j<0)){var w=Gf(r,"axis","hover",String(j));t.dispatch(uv({active:!0,activeIndex:j.toString(),activeDataKey:void 0,activeCoordinate:w}))}}}}}});Bb.startListening({actionCreator:DC,effect:(e,t)=>{var r=t.getState(),a=r.rootProps.accessibilityLayer!==!1;if(a){var{keyboardInteraction:l}=r.tooltip;if(!l.active&&l.index==null){var o="0",u=Gf(r,"axis","hover",String(o));t.dispatch(uv({activeDataKey:void 0,active:!0,activeIndex:o,activeCoordinate:u}))}}}});var kn=Rn("externalEvent"),RC=Zc(),og=new Map;RC.startListening({actionCreator:kn,effect:(e,t)=>{var{handler:r,reactEvent:a}=e.payload;if(r!=null){a.persist();var l=a.type,o=og.get(l);o!==void 0&&cancelAnimationFrame(o);var u=requestAnimationFrame(()=>{try{var f=t.getState(),m={activeCoordinate:CH(f),activeDataKey:hb(f),activeIndex:Ui(f),activeLabel:CO(f),activeTooltipIndex:Ui(f),isTooltipActive:kH(f)};r(m,a)}finally{og.delete(l)}});og.set(l,u)}}});var fZ=oe([oo],e=>e.tooltipItemPayloads),mZ=oe([fZ,pu,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,a)=>{var l=e.find(f=>f.settings.dataKey===a);if(l!=null){var{positions:o}=l;if(o!=null){var u=t(o,r);return u}}}),LC=Rn("touchMove"),zC=Zc();zC.startListening({actionCreator:LC,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var a=t.getState(),l=ob(a,a.tooltip.settings.shared);if(l==="axis"){var o=Lb(a,zb({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));o?.activeIndex!=null&&t.dispatch(vO({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(l==="item"){var u,f=r.touches[0];if(document.elementFromPoint==null)return;var m=document.elementFromPoint(f.clientX,f.clientY);if(!m||!m.getAttribute)return;var h=m.getAttribute(c_),p=(u=m.getAttribute(u_))!==null&&u!==void 0?u:void 0,x=mZ(t.getState(),h,p);t.dispatch(xO({activeDataKey:p,activeIndex:h,activeCoordinate:x}))}}}});var hZ=TE({brush:wQ,cartesianAxis:DG,chartData:CV,errorBars:eW,graphicalItems:IK,layout:rz,legend:uB,options:SV,polarAxis:tK,polarOptions:dZ,referenceElements:CQ,rootProps:oZ,tooltip:HF,zIndex:fV}),pZ=function(t){return _9({reducer:hZ,preloadedState:t,middleware:r=>{var a;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((a="es6")!==null&&a!==void 0?a:"")}).concat([CC.middleware,kC.middleware,Bb.middleware,RC.middleware,zC.middleware])},enhancers:r=>{var a=r;return typeof r=="function"&&(a=r()),a.concat(YE({type:"raf"}))},devTools:ru.devToolsEnabled})};function BC(e){var{preloadedState:t,children:r,reduxStoreName:a}=e,l=Tr(),o=v.useRef(null);if(l)return r;o.current==null&&(o.current=pZ(t));var u=Kv;return v.createElement(SW,{context:u,store:o.current},r)}function xZ(e){var{layout:t,margin:r}=e,a=bt(),l=Tr();return v.useEffect(()=>{l||(a(J9(t)),a(Z9(r)))},[a,l,t,r]),null}var $C=v.memo(xZ,rh);function IC(e){var t=bt();return v.useEffect(()=>{t(cZ(e))},[t,e]),null}function U3(e){var{zIndex:t,isPanorama:r}=e,a=r?"recharts-zindex-panorama-":"recharts-zindex-",l=sC("".concat(a).concat(t)),o=bt();return v.useLayoutEffect(()=>(o(uV({zIndex:t,elementId:l,isPanorama:r})),()=>{o(dV({zIndex:t,isPanorama:r}))}),[o,t,l,r]),v.createElement("g",{tabIndex:-1,id:l})}function q3(e){var{children:t,isPanorama:r}=e,a=Te(eV);if(!a||a.length===0)return t;var l=a.filter(u=>u<0),o=a.filter(u=>u>0);return v.createElement(v.Fragment,null,l.map(u=>v.createElement(U3,{key:u,zIndex:u,isPanorama:r})),t,o.map(u=>v.createElement(U3,{key:u,zIndex:u,isPanorama:r})))}var gZ=["children"];function vZ(e,t){if(e==null)return{};var r,a,l=yZ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function yZ(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function nm(){return nm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},nm.apply(null,arguments)}var bZ={width:"100%",height:"100%",display:"block"},jZ=v.forwardRef((e,t)=>{var r=ay(),a=iy(),l=E_();if(!ua(r)||!ua(a))return null;var{children:o,otherAttributes:u,title:f,desc:m}=e,h,p;return u!=null&&(typeof u.tabIndex=="number"?h=u.tabIndex:h=l?0:void 0,typeof u.role=="string"?p=u.role:p=l?"application":void 0),v.createElement(zv,nm({},u,{title:f,desc:m,role:p,tabIndex:h,width:r,height:a,style:bZ,ref:t}),o)}),wZ=e=>{var{children:t}=e,r=Te(Om);if(!r)return null;var{width:a,height:l,y:o,x:u}=r;return v.createElement(zv,{width:a,height:l,x:u,y:o},t)},F3=v.forwardRef((e,t)=>{var{children:r}=e,a=vZ(e,gZ),l=Tr();return l?v.createElement(wZ,null,v.createElement(q3,{isPanorama:!0},r)):v.createElement(jZ,nm({ref:t},a),v.createElement(q3,{isPanorama:!1},r))});function NZ(){var e=bt(),[t,r]=v.useState(null),a=Te(bz);return v.useEffect(()=>{if(t!=null){var l=t.getBoundingClientRect(),o=l.width/t.offsetWidth;Ht(o)&&o!==a&&e(tz(o))}},[t,e,a]),r}function H3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,a)}return r}function SZ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?H3(Object(r),!0).forEach(function(a){AZ(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H3(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function AZ(e,t,r){return(t=EZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EZ(e){var t=_Z(e,"string");return typeof t=="symbol"?t:t+""}function _Z(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ls(){return Ls=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Ls.apply(null,arguments)}var OZ=()=>(BV(),null);function am(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var CZ=v.forwardRef((e,t)=>{var r,a,l=v.useRef(null),[o,u]=v.useState({containerWidth:am((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:am((a=e.style)===null||a===void 0?void 0:a.height)}),f=v.useCallback((h,p)=>{u(x=>{var b=Math.round(h),j=Math.round(p);return x.containerWidth===b&&x.containerHeight===j?x:{containerWidth:b,containerHeight:j}})},[]),m=v.useCallback(h=>{if(typeof t=="function"&&t(h),h!=null&&typeof ResizeObserver<"u"){var{width:p,height:x}=h.getBoundingClientRect();f(p,x);var b=w=>{var{width:N,height:S}=w[0].contentRect;f(N,S)},j=new ResizeObserver(b);j.observe(h),l.current=j}},[t,f]);return v.useEffect(()=>()=>{var h=l.current;h?.disconnect()},[f]),v.createElement(v.Fragment,null,v.createElement(km,{width:o.containerWidth,height:o.containerHeight}),v.createElement("div",Ls({ref:m},e)))}),kZ=v.forwardRef((e,t)=>{var{width:r,height:a}=e,[l,o]=v.useState({containerWidth:am(r),containerHeight:am(a)}),u=v.useCallback((m,h)=>{o(p=>{var x=Math.round(m),b=Math.round(h);return p.containerWidth===x&&p.containerHeight===b?p:{containerWidth:x,containerHeight:b}})},[]),f=v.useCallback(m=>{if(typeof t=="function"&&t(m),m!=null){var{width:h,height:p}=m.getBoundingClientRect();u(h,p)}},[t,u]);return v.createElement(v.Fragment,null,v.createElement(km,{width:l.containerWidth,height:l.containerHeight}),v.createElement("div",Ls({ref:f},e)))}),TZ=v.forwardRef((e,t)=>{var{width:r,height:a}=e;return v.createElement(v.Fragment,null,v.createElement(km,{width:r,height:a}),v.createElement("div",Ls({ref:t},e)))}),MZ=v.forwardRef((e,t)=>{var{width:r,height:a}=e;return Fa(r)||Fa(a)?v.createElement(kZ,Ls({},e,{ref:t})):v.createElement(TZ,Ls({},e,{ref:t}))});function PZ(e){return e===!0?CZ:MZ}var DZ=v.forwardRef((e,t)=>{var{children:r,className:a,height:l,onClick:o,onContextMenu:u,onDoubleClick:f,onMouseDown:m,onMouseEnter:h,onMouseLeave:p,onMouseMove:x,onMouseUp:b,onTouchEnd:j,onTouchMove:w,onTouchStart:N,style:S,width:E,responsive:O,dispatchTouchEvents:_=!0}=e,T=v.useRef(null),k=bt(),[L,$]=v.useState(null),[G,J]=v.useState(null),ue=NZ(),F=ny(),q=F?.width>0?F.width:E,fe=F?.height>0?F.height:l,z=v.useCallback(U=>{ue(U),typeof t=="function"&&t(U),$(U),J(U),U!=null&&(T.current=U)},[ue,t,$,J]),Y=v.useCallback(U=>{k(OC(U)),k(kn({handler:o,reactEvent:U}))},[k,o]),C=v.useCallback(U=>{k(yv(U)),k(kn({handler:h,reactEvent:U}))},[k,h]),V=v.useCallback(U=>{k(gO()),k(kn({handler:p,reactEvent:U}))},[k,p]),ae=v.useCallback(U=>{k(yv(U)),k(kn({handler:x,reactEvent:U}))},[k,x]),ve=v.useCallback(()=>{k(DC())},[k]),ce=v.useCallback(U=>{k(PC(U.key))},[k]),R=v.useCallback(U=>{k(kn({handler:u,reactEvent:U}))},[k,u]),K=v.useCallback(U=>{k(kn({handler:f,reactEvent:U}))},[k,f]),re=v.useCallback(U=>{k(kn({handler:m,reactEvent:U}))},[k,m]),W=v.useCallback(U=>{k(kn({handler:b,reactEvent:U}))},[k,b]),le=v.useCallback(U=>{k(kn({handler:N,reactEvent:U}))},[k,N]),Ne=v.useCallback(U=>{_&&k(LC(U)),k(kn({handler:w,reactEvent:U}))},[k,_,w]),Ae=v.useCallback(U=>{k(kn({handler:j,reactEvent:U}))},[k,j]),Ce=PZ(O);return v.createElement(LO.Provider,{value:L},v.createElement(KA.Provider,{value:G},v.createElement(Ce,{width:q??S?.width,height:fe??S?.height,className:rt("recharts-wrapper",a),style:SZ({position:"relative",cursor:"default",width:q,height:fe},S),onClick:Y,onContextMenu:R,onDoubleClick:K,onFocus:ve,onKeyDown:ce,onMouseDown:re,onMouseEnter:C,onMouseLeave:V,onMouseMove:ae,onMouseUp:W,onTouchEnd:Ae,onTouchMove:Ne,onTouchStart:le,ref:z},v.createElement(OZ,null),r)))}),RZ=["width","height","responsive","children","className","style","compact","title","desc"];function LZ(e,t){if(e==null)return{};var r,a,l=zZ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function zZ(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var UC=v.forwardRef((e,t)=>{var{width:r,height:a,responsive:l,children:o,className:u,style:f,compact:m,title:h,desc:p}=e,x=LZ(e,RZ),b=pn(x);return m?v.createElement(v.Fragment,null,v.createElement(km,{width:r,height:a}),v.createElement(F3,{otherAttributes:b,title:h,desc:p},o)):v.createElement(DZ,{className:u,style:f,width:r,height:a,responsive:l??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},v.createElement(F3,{otherAttributes:b,title:h,desc:p,ref:t},v.createElement(TQ,null,o)))});function bv(){return bv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},bv.apply(null,arguments)}var BZ={top:5,right:5,bottom:5,left:5},$Z={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:BZ,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},$b=v.forwardRef(function(t,r){var a,l=er(t.categoricalChartProps,$Z),{chartName:o,defaultTooltipEventType:u,validateTooltipEventTypes:f,tooltipPayloadSearcher:m,categoricalChartProps:h}=t,p={chartName:o,defaultTooltipEventType:u,validateTooltipEventTypes:f,tooltipPayloadSearcher:m,eventEmitter:void 0};return v.createElement(BC,{preloadedState:{options:p},reduxStoreName:(a=h.id)!==null&&a!==void 0?a:o},v.createElement(xC,{chartData:h.data}),v.createElement($C,{layout:l.layout,margin:l.margin}),v.createElement(IC,{baseValue:l.baseValue,accessibilityLayer:l.accessibilityLayer,barCategoryGap:l.barCategoryGap,maxBarSize:l.maxBarSize,stackOffset:l.stackOffset,barGap:l.barGap,barSize:l.barSize,syncId:l.syncId,syncMethod:l.syncMethod,className:l.className,reverseStackOrder:l.reverseStackOrder}),v.createElement(UC,bv({},l,{ref:r})))}),IZ=["axis"],V3=v.forwardRef((e,t)=>v.createElement($b,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:IZ,tooltipPayloadSearcher:Xm,categoricalChartProps:e,ref:t})),UZ=["axis","item"],qZ=v.forwardRef((e,t)=>v.createElement($b,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:UZ,tooltipPayloadSearcher:Xm,categoricalChartProps:e,ref:t}));function FZ(e){var t=bt();return v.useEffect(()=>{t(uZ(e))},[t,e]),null}var HZ=["layout"];function jv(){return jv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},jv.apply(null,arguments)}function VZ(e,t){if(e==null)return{};var r,a,l=YZ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function YZ(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var KZ={top:5,right:5,bottom:5,left:5},qC={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:KZ,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},GZ=v.forwardRef(function(t,r){var a,l=er(t.categoricalChartProps,qC),{layout:o}=l,u=VZ(l,HZ),{chartName:f,defaultTooltipEventType:m,validateTooltipEventTypes:h,tooltipPayloadSearcher:p}=t,x={chartName:f,defaultTooltipEventType:m,validateTooltipEventTypes:h,tooltipPayloadSearcher:p,eventEmitter:void 0};return v.createElement(BC,{preloadedState:{options:x},reduxStoreName:(a=l.id)!==null&&a!==void 0?a:f},v.createElement(xC,{chartData:l.data}),v.createElement($C,{layout:o,margin:l.margin}),v.createElement(IC,{baseValue:void 0,accessibilityLayer:l.accessibilityLayer,barCategoryGap:l.barCategoryGap,maxBarSize:l.maxBarSize,stackOffset:l.stackOffset,barGap:l.barGap,barSize:l.barSize,syncId:l.syncId,syncMethod:l.syncMethod,className:l.className,reverseStackOrder:l.reverseStackOrder}),v.createElement(FZ,{cx:l.cx,cy:l.cy,startAngle:l.startAngle,endAngle:l.endAngle,innerRadius:l.innerRadius,outerRadius:l.outerRadius}),v.createElement(UC,jv({},u,{ref:r})))});function Y3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,a)}return r}function K3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Y3(Object(r),!0).forEach(function(a){WZ(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y3(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function WZ(e,t,r){return(t=QZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QZ(e){var t=XZ(e,"string");return typeof t=="symbol"?t:t+""}function XZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ZZ=["item"],JZ=K3(K3({},qC),{},{layout:"centric",startAngle:0,endAngle:360}),eJ=v.forwardRef((e,t)=>{var r=er(e,JZ);return v.createElement(GZ,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:ZZ,tooltipPayloadSearcher:Xm,categoricalChartProps:r,ref:t})}),tJ=["axis"],wv=v.forwardRef((e,t)=>v.createElement($b,{chartName:"ComposedChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:tJ,tooltipPayloadSearcher:Xm,categoricalChartProps:e,ref:t}));const G3={primary:"#10b981",secondary:"#3b82f6"},W3=["#10b981","#f59e0b","#ef4444"],Cn={achieved:"#065f46",onTrack:"#10b981",inProgress:"#eab308",weakPerformance:"#f97316",requiresIntervention:"#dc2626",noData:"#9ca3af"};function cg(){const e=zs(),t=Array.isArray(e)&&typeof e[0]=="number"?e[0]:new Date().getFullYear()-7,[r,a]=v.useState(t),[l,o]=v.useState(null),[u,f]=v.useState(!1),[m,h]=v.useState(null),[p,x]=v.useState([]),[b,j]=v.useState([]),[w,N]=v.useState([]),[S,E]=v.useState("indicators"),[O,_]=v.useState(null),[T,k]=v.useState(null),[L,$]=v.useState(null),[G,J]=v.useState(null),[ue,F]=v.useState("yearly"),[q,fe]=v.useState(!1),[z,Y]=v.useState(!1),[C,V]=v.useState(null),ae=U=>{const ge=Number(U);return Number.isFinite(ge)?ge:0},ve=U=>U===null||isNaN(U)?{label:"No Data",color:Cn.noData}:U>=95?{label:"Achieved",color:Cn.achieved}:U>=85?{label:"On Track",color:Cn.onTrack}:U>=65?{label:"In Progress",color:Cn.inProgress}:U>=50?{label:"Weak Performance",color:Cn.weakPerformance}:{label:"Requires Intervention",color:Cn.requiresIntervention},ce=async()=>{f(!0),h(null);try{const U=Di(r),[ge,Ee,ye,ke]=await Promise.all([Se.get("/api/minister-dashboard/",{params:{year:U}}),Se.get("/api/annual-plans/",{params:{year:U}}),Se.get("/api/breakdowns/"),Se.get("/api/performances/")]);o(ge.data),x(Ee.data||[]),j(ye.data||[]),N(ke.data||[])}catch(U){h(U?.response?.data?.detail||"Failed to load dashboard data")}finally{f(!1)}};v.useEffect(()=>{ce()},[r]);const R=async()=>{fe(!0),h(null);try{const U=Di(r),ge=await Se.get("/api/indicator-performance/",{params:{year:U}});_(ge.data)}catch(U){h(U?.response?.data?.detail||"Failed to load indicator performance data")}finally{fe(!1)}},K=async U=>{Y(!0);try{const ge=Di(r),Ee=await Se.get("/api/indicator-detail/",{params:{indicator_id:U,year:ge}});J(Ee.data)}catch(ge){h(ge?.response?.data?.detail||"Failed to load indicator detail")}finally{Y(!1)}};v.useEffect(()=>{S==="indicators"&&R()},[r,S]),v.useEffect(()=>{L&&K(L)},[L,r]);const re=v.useMemo(()=>l?[{name:"Approved",value:l.approval_status.approved},{name:"Pending",value:l.approval_status.pending},{name:"Rejected",value:l.approval_status.rejected}].filter(U=>U.value>0):[],[l]),W=v.useMemo(()=>{const U={};for(const ge of p){if(!ge.sector_id||!ge.sector_name)continue;const Ee=w.filter(Oe=>Oe.plan===ge.id).reduce((Oe,te)=>Oe+ae(te.value),0),ye=ae(ge.target);if(ye<=0)continue;const ke=Ee/ye*100;U[ge.sector_id]||(U[ge.sector_id]={name:ge.sector_name,percentages:[]}),U[ge.sector_id].percentages.push(ke)}return Object.values(U).map(ge=>({sector:ge.name,performance:ge.percentages.length?ge.percentages.reduce((Ee,ye)=>Ee+ye,0)/ge.percentages.length:0})).sort((ge,Ee)=>Ee.performance-ge.performance)},[p,w]),{sectorQuarterTrend:le,sectorList:Ne,generalQuarterTrend:Ae}=v.useMemo(()=>{const U={};for(const ke of p){if(!ke.sector_id||!ke.sector_name)continue;U[ke.sector_id]||(U[ke.sector_id]={name:ke.sector_name,quarters:[[],[],[],[]]});const Oe=b.find(te=>te.plan===ke.id);for(let te=1;te<=4;te++){const B=ae(Oe?.[`q${te}`]);if(B<=0)continue;const I=w.filter(Z=>Z.plan===ke.id&&Z.quarter===te).reduce((Z,D)=>Z+ae(D.value),0)/B*100;U[ke.sector_id].quarters[te-1].push(I)}}const ge=Object.values(U).map(ke=>ke.name);if(ge.length===0)return{sectorQuarterTrend:[],sectorList:[],generalQuarterTrend:[]};const Ee=Array.from({length:4},(ke,Oe)=>{const te={quarter:`Q${Oe+1}`},B=[];for(const I of Object.values(U)){const Z=I.quarters[Oe],D=Z.length?Z.reduce((P,X)=>P+X,0)/Z.length:0;te[I.name]=D,Z.length&&B.push(D)}const he=B.length>0?B.reduce((I,Z)=>I+Z,0)/B.length:0;return te.general=he,te}),ye=Ee.map(({quarter:ke,general:Oe})=>({quarter:ke,general:Oe}));return{sectorQuarterTrend:Ee,sectorList:ge,generalQuarterTrend:ye}},[p,b,w]);if(u&&!l)return n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading dashboard..."})]})});if(m&&!l)return n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-red-600 mb-4",children:m}),n.jsx("button",{onClick:ce,className:"px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700",children:"Retry"})]})});const Ce=()=>{if(q&&!O)return n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading indicator performance..."})]})});if(!O||!O.sectors||O.sectors.length===0)return n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsx("div",{className:"text-center text-gray-500",children:"No indicator performance data available"})});const ge=(()=>{const I=[];return O.sectors.forEach(Z=>{Z.indicator_groups.forEach(D=>{D.indicators.forEach(P=>{I.push({...P,sector_id:Z.id,sector_name:Z.name})})}),Z.ungrouped_indicators.forEach(D=>{I.push({...D,sector_id:Z.id,sector_name:Z.name})})}),I})(),Ee={achieved:ge.filter(I=>{const Z=I.performance_percentage;return Z!==null&&!isNaN(Z)&&Z>=95}).length,onTrack:ge.filter(I=>{const Z=I.performance_percentage;return Z!==null&&!isNaN(Z)&&Z>=85&&Z<95}).length,inProgress:ge.filter(I=>{const Z=I.performance_percentage;return Z!==null&&!isNaN(Z)&&Z>=65&&Z<85}).length,weakPerformance:ge.filter(I=>{const Z=I.performance_percentage;return Z!==null&&!isNaN(Z)&&Z>=50&&Z<65}).length,requiresIntervention:ge.filter(I=>{const Z=I.performance_percentage;return Z!==null&&!isNaN(Z)&&Z<50}).length,noData:ge.filter(I=>{const Z=I.performance_percentage;return Z===null||isNaN(Z)}).length},ke=C?ge.filter(I=>{const Z=I.performance_percentage;switch(C){case"achieved":return Z!==null&&!isNaN(Z)&&Z>=95;case"onTrack":return Z!==null&&!isNaN(Z)&&Z>=85&&Z<95;case"inProgress":return Z!==null&&!isNaN(Z)&&Z>=65&&Z<85;case"weakPerformance":return Z!==null&&!isNaN(Z)&&Z>=50&&Z<65;case"requiresIntervention":return Z!==null&&!isNaN(Z)&&Z<50;case"noData":return Z===null||isNaN(Z);default:return!0}}):ge,te=C?(()=>{const I={};return ke.forEach(Z=>{if(!I[Z.sector_id]){const D=O.sectors.find(P=>P.id===Z.sector_id);D&&(I[Z.sector_id]={sector:D,indicators:[]})}I[Z.sector_id]&&I[Z.sector_id].indicators.push(Z)}),Object.values(I)})():null,B=O.sectors.find(I=>I.id===T),he=B?[...B.indicator_groups.flatMap(I=>I.indicators),...B.ungrouped_indicators].find(I=>I.id===L):null;return n.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsxs("div",{className:"mb-8",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-4",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Indicator Performance Dashboard"}),n.jsx("div",{className:"w-64",children:n.jsx(Nc,{value:r,onChange:a,variant:"dropdown",showLabel:!1})})]}),n.jsx("p",{className:"text-gray-600",children:"View indicator performance organized by sectors and indicator groups (Ethiopian Calendar)"})]}),m&&n.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:m}),n.jsxs("div",{className:"mb-6 grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[n.jsxs("button",{onClick:()=>{V(C==="achieved"?null:"achieved"),k(null),$(null)},className:`p-4 rounded-lg border-2 transition-all hover:shadow-lg ${C==="achieved"?"border-emerald-700 bg-emerald-50":"border-gray-200 bg-white hover:border-emerald-500"}`,children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:Cn.achieved}}),n.jsx("span",{className:"text-2xl font-bold text-gray-900",children:Ee.achieved})]}),n.jsxs("div",{className:"text-left",children:[n.jsx("div",{className:"text-sm font-semibold text-gray-900",children:"Achieved"}),n.jsx("div",{className:"text-xs text-gray-500",children:"95-100%"})]})]}),n.jsxs("button",{onClick:()=>{V(C==="onTrack"?null:"onTrack"),k(null),$(null)},className:`p-4 rounded-lg border-2 transition-all hover:shadow-lg ${C==="onTrack"?"border-emerald-600 bg-emerald-50":"border-gray-200 bg-white hover:border-emerald-500"}`,children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:Cn.onTrack}}),n.jsx("span",{className:"text-2xl font-bold text-gray-900",children:Ee.onTrack})]}),n.jsxs("div",{className:"text-left",children:[n.jsx("div",{className:"text-sm font-semibold text-gray-900",children:"On Track"}),n.jsx("div",{className:"text-xs text-gray-500",children:"85-94%"})]})]}),n.jsxs("button",{onClick:()=>{V(C==="inProgress"?null:"inProgress"),k(null),$(null)},className:`p-4 rounded-lg border-2 transition-all hover:shadow-lg ${C==="inProgress"?"border-yellow-500 bg-yellow-50":"border-gray-200 bg-white hover:border-yellow-500"}`,children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:Cn.inProgress}}),n.jsx("span",{className:"text-2xl font-bold text-gray-900",children:Ee.inProgress})]}),n.jsxs("div",{className:"text-left",children:[n.jsx("div",{className:"text-sm font-semibold text-gray-900",children:"In Progress"}),n.jsx("div",{className:"text-xs text-gray-500",children:"65-84%"})]})]}),n.jsxs("button",{onClick:()=>{V(C==="weakPerformance"?null:"weakPerformance"),k(null),$(null)},className:`p-4 rounded-lg border-2 transition-all hover:shadow-lg ${C==="weakPerformance"?"border-orange-500 bg-orange-50":"border-gray-200 bg-white hover:border-orange-500"}`,children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:Cn.weakPerformance}}),n.jsx("span",{className:"text-2xl font-bold text-gray-900",children:Ee.weakPerformance})]}),n.jsxs("div",{className:"text-left",children:[n.jsx("div",{className:"text-sm font-semibold text-gray-900",children:"Weak Performance"}),n.jsx("div",{className:"text-xs text-gray-500",children:"50-64%"})]})]}),n.jsxs("button",{onClick:()=>{V(C==="requiresIntervention"?null:"requiresIntervention"),k(null),$(null)},className:`p-4 rounded-lg border-2 transition-all hover:shadow-lg ${C==="requiresIntervention"?"border-red-600 bg-red-50":"border-gray-200 bg-white hover:border-red-500"}`,children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:Cn.requiresIntervention}}),n.jsx("span",{className:"text-2xl font-bold text-gray-900",children:Ee.requiresIntervention})]}),n.jsxs("div",{className:"text-left",children:[n.jsx("div",{className:"text-sm font-semibold text-gray-900",children:"Requires Intervention"}),n.jsx("div",{className:"text-xs text-gray-500",children:"0-49%"})]})]}),n.jsxs("button",{onClick:()=>{V(C==="noData"?null:"noData"),k(null),$(null)},className:`p-4 rounded-lg border-2 transition-all hover:shadow-lg ${C==="noData"?"border-gray-500 bg-gray-100":"border-gray-200 bg-white hover:border-gray-400"}`,children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:Cn.noData}}),n.jsx("span",{className:"text-2xl font-bold text-gray-900",children:Ee.noData})]}),n.jsxs("div",{className:"text-left",children:[n.jsx("div",{className:"text-sm font-semibold text-gray-900",children:"No Data"}),n.jsx("div",{className:"text-xs text-gray-500",children:"N/A"})]})]})]}),C&&n.jsxs("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg flex items-center justify-between",children:[n.jsx("div",{className:"flex items-center gap-2",children:n.jsxs("span",{className:"text-sm font-semibold text-blue-900",children:["Showing ",ke.length," indicator",ke.length!==1?"s":"",' in "',C==="achieved"?"Achieved":C==="onTrack"?"On Track":C==="inProgress"?"In Progress":C==="weakPerformance"?"Weak Performance":C==="requiresIntervention"?"Requires Intervention":"No Data",'" category']})}),n.jsx("button",{onClick:()=>{V(null),k(null),$(null)},className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Clear Filter"})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsx("div",{className:"lg:col-span-1",children:n.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:C&&te?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Filtered Indicators"}),n.jsx("button",{onClick:()=>{V(null),k(null),$(null)},className:"text-sm text-emerald-600 hover:text-emerald-700",children:"Clear"})]}),te.length===0?n.jsx("div",{className:"text-center text-gray-500 py-8",children:"No indicators found in this category"}):n.jsx("div",{className:"space-y-4 max-h-[600px] overflow-y-auto",children:te.map(({sector:I,indicators:Z})=>n.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[n.jsx("h3",{className:"font-semibold text-gray-800 mb-3",children:I.name}),n.jsx("div",{className:"space-y-2",children:Z.map(D=>{const P=ve(D.performance_percentage);return n.jsxs("button",{onClick:()=>{k(I.id),$(D.id),J(null)},className:`w-full text-left p-3 border rounded hover:border-emerald-500 hover:bg-emerald-50 transition-all ${L===D.id?"border-emerald-500 bg-emerald-50":"border-gray-200"}`,children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsx("span",{className:"text-sm font-medium text-gray-900",children:D.name}),n.jsx("div",{className:"px-2 py-1 rounded text-xs font-semibold text-white",style:{backgroundColor:P.color},children:D.performance_percentage!==null?`${D.performance_percentage.toFixed(1)}%`:"N/A"})]}),n.jsx("div",{className:"text-xs text-gray-500",children:P.label})]},D.id)})})]},I.id))})]}):T?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"flex items-center justify-between mb-4",children:n.jsx("button",{onClick:()=>{k(null),$(null),J(null)},className:"text-emerald-600 hover:text-emerald-700 font-medium",children:" Back to Sectors"})}),n.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:B?.name}),n.jsxs("div",{className:"space-y-4",children:[B?.indicator_groups.map(I=>{const Z=ve(I.performance_percentage);return n.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("h3",{className:"font-semibold text-gray-800",children:I.name}),n.jsx("div",{className:"px-2 py-1 rounded text-xs font-semibold text-white",style:{backgroundColor:Z.color},children:I.performance_percentage!==null?`${I.performance_percentage.toFixed(1)}%`:"N/A"})]}),n.jsx("div",{className:"space-y-2",children:I.indicators.map(D=>{const P=ve(D.performance_percentage);return n.jsxs("button",{onClick:()=>$(D.id),className:"w-full text-left p-3 border border-gray-200 rounded hover:border-emerald-500 hover:bg-emerald-50 transition-all",children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsx("span",{className:"text-sm font-medium text-gray-900",children:D.name}),n.jsx("div",{className:"px-2 py-1 rounded text-xs font-semibold text-white",style:{backgroundColor:P.color},children:D.performance_percentage!==null?`${D.performance_percentage.toFixed(1)}%`:"N/A"})]}),n.jsx("div",{className:"text-xs text-gray-500",children:P.label})]},D.id)})})]},I.id)}),B?.ungrouped_indicators.length>0&&n.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[n.jsx("h3",{className:"font-semibold text-gray-800 mb-3",children:"Other Indicators"}),n.jsx("div",{className:"space-y-2",children:B.ungrouped_indicators.map(I=>{const Z=ve(I.performance_percentage);return n.jsxs("button",{onClick:()=>$(I.id),className:"w-full text-left p-3 border border-gray-200 rounded hover:border-emerald-500 hover:bg-emerald-50 transition-all",children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsx("span",{className:"text-sm font-medium text-gray-900",children:I.name}),n.jsx("div",{className:"px-2 py-1 rounded text-xs font-semibold text-white",style:{backgroundColor:Z.color},children:I.performance_percentage!==null?`${I.performance_percentage.toFixed(1)}%`:"N/A"})]}),n.jsx("div",{className:"text-xs text-gray-500",children:Z.label})]},I.id)})})]})]})]}):n.jsxs(n.Fragment,{children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Sectors"}),n.jsx("div",{className:"space-y-3",children:O.sectors.map(I=>{const Z=ve(I.performance_percentage);return n.jsxs("button",{onClick:()=>{k(I.id),$(null),J(null)},className:"w-full text-left p-4 border-2 border-gray-200 rounded-lg hover:border-emerald-500 hover:bg-emerald-50 transition-all",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:I.name}),n.jsx("div",{className:"px-3 py-1 rounded-full text-sm font-semibold text-white",style:{backgroundColor:Z.color},children:I.performance_percentage!==null?`${I.performance_percentage.toFixed(1)}%`:"N/A"})]}),n.jsx("div",{className:"text-xs text-gray-500",children:Z.label})]},I.id)})})]})})}),n.jsx("div",{className:"lg:col-span-2",children:C&&!L?n.jsx("div",{className:"bg-white rounded-xl shadow-lg p-12 text-center",children:n.jsxs("div",{className:"text-gray-500 mb-4",children:[n.jsxs("p",{className:"text-lg font-semibold mb-2",children:["Filter Active: ",C==="achieved"?"Achieved":C==="onTrack"?"On Track":C==="inProgress"?"In Progress":C==="weakPerformance"?"Weak Performance":C==="requiresIntervention"?"Requires Intervention":"No Data"]}),n.jsx("p",{className:"text-sm",children:"Click on an indicator from the left panel to view detailed performance"})]})}):L&&he?n.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:z?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-emerald-600"})}):G?n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:G.indicator.name}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-semibold text-gray-600",children:"Description"}),n.jsx("p",{className:"text-gray-900 mt-1",children:G.indicator.description||"No description available"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-semibold text-gray-600",children:"Unit"}),n.jsx("p",{className:"text-gray-900 mt-1",children:G.indicator.unit||"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-semibold text-gray-600",children:"Responsible Department"}),n.jsx("p",{className:"text-gray-900 mt-1",children:G.indicator.department_name})]})]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Performance"}),n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Year: ",r," . (",Di(r)," G.C.)"]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>F("yearly"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${ue==="yearly"?"bg-emerald-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Yearly"}),n.jsx("button",{onClick:()=>F("quarterly"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${ue==="quarterly"?"bg-emerald-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Quarterly"})]})]}),ue==="yearly"?n.jsx(fs,{width:"100%",height:300,children:n.jsxs(wv,{data:G.yearly_data.map(I=>({...I,ethiopianYear:bN(I.year),yearLabel:`${bN(I.year)} .`})),children:[n.jsx(gs,{strokeDasharray:"3 3"}),n.jsx(vs,{dataKey:"ethiopianYear",label:{value:"Ethiopian Year (.)",position:"insideBottom",offset:-5}}),n.jsx(ys,{yAxisId:"left"}),n.jsx(ps,{formatter:(I,Z)=>[I,Z],labelFormatter:I=>`Year: ${I} .`}),n.jsx(xs,{}),n.jsx(jc,{yAxisId:"left",dataKey:"target",fill:"#3b82f6",name:"Target"}),n.jsx(vc,{yAxisId:"left",type:"monotone",dataKey:"achieved",stroke:"#10b981",strokeWidth:2,name:"Achieved"})]})}):n.jsx(fs,{width:"100%",height:300,children:n.jsxs(wv,{data:G.quarterly_data,children:[n.jsx(gs,{strokeDasharray:"3 3"}),n.jsx(vs,{dataKey:"quarter",label:{value:`Quarters for ${r} .`,position:"insideBottom",offset:-5}}),n.jsx(ys,{yAxisId:"left"}),n.jsx(ps,{formatter:(I,Z)=>[I,Z],labelFormatter:I=>`${I} - ${r} .`}),n.jsx(xs,{}),n.jsx(jc,{yAxisId:"left",dataKey:"target",fill:"#3b82f6",name:"Target"}),n.jsx(vc,{yAxisId:"left",type:"monotone",dataKey:"achieved",stroke:"#10b981",strokeWidth:2,name:"Achieved"})]})})]})]}):n.jsx("div",{className:"text-center text-gray-500 py-12",children:"Loading indicator details..."})}):n.jsx("div",{className:"bg-white rounded-xl shadow-lg p-12 text-center text-gray-500",children:"Select a sector to view indicators, then click on an indicator to see detailed performance"})})]})]})})};return!l&&S==="dashboard"?null:n.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsxs("div",{className:"mb-8",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-4",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Minister's Dashboard"}),n.jsx("div",{className:"w-64",children:n.jsx(Nc,{value:r,onChange:a,variant:"dropdown",showLabel:!1})})]}),n.jsx("p",{className:"text-gray-600",children:"National planning and performance overview across all State Minister Sectors"})]}),n.jsx("div",{className:"mb-6 border-b border-gray-200",children:n.jsxs("div",{className:"flex gap-4",children:[n.jsx("button",{onClick:()=>E("indicators"),className:`px-6 py-3 font-semibold border-b-2 transition-colors ${S==="indicators"?"border-emerald-600 text-emerald-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Indicator Performance"}),n.jsx("button",{onClick:()=>E("dashboard"),className:`px-6 py-3 font-semibold border-b-2 transition-colors ${S==="dashboard"?"border-emerald-600 text-emerald-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Overview Dashboard"})]})}),S==="indicators"?Ce():n.jsxs("div",{children:[m&&n.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:m}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-6 mb-8",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border-l-4 border-blue-500",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-600 uppercase tracking-wide",children:"Total Annual Target"}),n.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:n.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})})]}),n.jsx("div",{className:"text-3xl font-bold text-gray-900",children:l.kpis.total_annual_target.toLocaleString(void 0,{maximumFractionDigits:2})})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border-l-4 border-green-500",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-600 uppercase tracking-wide",children:"Total Achieved Performance"}),n.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:n.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})})]}),n.jsx("div",{className:"text-3xl font-bold text-gray-900",children:l.kpis.total_achieved_performance.toLocaleString(void 0,{maximumFractionDigits:2})})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border-l-4 border-purple-500",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-600 uppercase tracking-wide",children:"Overall Achievement %"}),n.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:n.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})})]}),n.jsxs("div",{className:"text-3xl font-bold text-gray-900",children:[l.kpis.achievement_percentage.toFixed(1),"%"]}),n.jsx("div",{className:"mt-2",children:n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:"bg-purple-500 h-2 rounded-full transition-all",style:{width:`${Math.min(l.kpis.achievement_percentage,100)}%`}})})})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border-l-4 border-orange-500",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-600 uppercase tracking-wide",children:"Indicators Status"}),n.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center",children:n.jsx("svg",{className:"w-6 h-6 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"On Track"}),n.jsx("span",{className:"text-xl font-bold text-green-600",children:l.kpis.indicators_on_track})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Lagging"}),n.jsx("span",{className:"text-xl font-bold text-red-600",children:l.kpis.indicators_lagging})]})]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-8",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Sector-wise Performance Comparison"}),n.jsx("span",{className:"text-sm text-gray-500",children:"Average of indicator % (actual  target  100)"})]}),n.jsx(fs,{width:"100%",height:400,children:W.length===0?n.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:"No performance data available"}):n.jsxs(qZ,{data:W,children:[n.jsx(gs,{strokeDasharray:"3 3"}),n.jsx(vs,{dataKey:"sector",angle:-45,textAnchor:"end",height:120,interval:0}),n.jsx(ys,{}),n.jsx(ps,{formatter:U=>`${U.toFixed(1)}%`}),n.jsx(xs,{}),n.jsx(jc,{dataKey:"performance",fill:G3.primary,name:"Average Performance (%)"})]})})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-8",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Quarterly Performance Trend by Sector"}),n.jsx("span",{className:"text-sm text-gray-500",children:"Average of quarterly indicator % per sector"})]}),n.jsx(fs,{width:"100%",height:400,children:le.length===0||Ne.length===0?n.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:"No quarterly data available"}):n.jsxs(V3,{data:le,children:[n.jsx(gs,{strokeDasharray:"3 3"}),n.jsx(vs,{dataKey:"quarter"}),n.jsx(ys,{}),n.jsx(ps,{formatter:U=>`${U.toFixed(1)}%`}),n.jsx(xs,{}),Ne.map((U,ge)=>{const Ee=["#0ea5e9","#10b981","#f59e0b","#ef4444","#8b5cf6","#22c55e","#2563eb","#14b8a6"];return n.jsx(vc,{type:"monotone",dataKey:U,stroke:Ee[ge%Ee.length],strokeWidth:2,dot:{r:3},name:U},U)})]})})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-8",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"General Quarterly Performance Trend"}),n.jsx("span",{className:"text-sm text-gray-500",children:"Average of all sector quarterly scores"})]}),n.jsx(fs,{width:"100%",height:320,children:Ae.length===0?n.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:"No quarterly data available"}):n.jsxs(V3,{data:Ae,children:[n.jsx(gs,{strokeDasharray:"3 3"}),n.jsx(vs,{dataKey:"quarter"}),n.jsx(ys,{}),n.jsx(ps,{formatter:U=>`${U.toFixed(1)}%`}),n.jsx(xs,{}),n.jsx(vc,{type:"monotone",dataKey:"general",stroke:G3.secondary,strokeWidth:2,dot:{r:3},name:"Overall Quarterly Average"})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Approval Status Overview"}),re.length>0?n.jsx(fs,{width:"100%",height:300,children:n.jsxs(eJ,{children:[n.jsx(cC,{data:re,cx:"50%",cy:"50%",labelLine:!1,label:({name:U,percent:ge})=>`${U}: ${((ge||0)*100).toFixed(0)}%`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:re.map((U,ge)=>n.jsx(yu,{fill:W3[ge%W3.length]},`cell-${ge}`))}),n.jsx(ps,{})]})}):n.jsx("div",{className:"text-center text-gray-500 py-12",children:"No approval data available"})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Submissions by Stage"}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full text-sm",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stage"}),n.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Count"})]})}),n.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[n.jsxs("tr",{children:[n.jsx("td",{className:"px-4 py-3 text-gray-900",children:"Draft"}),n.jsx("td",{className:"px-4 py-3 text-right font-semibold text-gray-900",children:l.approval_stages.draft})]}),n.jsxs("tr",{children:[n.jsx("td",{className:"px-4 py-3 text-gray-900",children:"Submitted"}),n.jsx("td",{className:"px-4 py-3 text-right font-semibold text-gray-900",children:l.approval_stages.submitted})]}),n.jsxs("tr",{children:[n.jsx("td",{className:"px-4 py-3 text-gray-900",children:"Approved"}),n.jsx("td",{className:"px-4 py-3 text-right font-semibold text-green-600",children:l.approval_stages.approved})]}),n.jsxs("tr",{children:[n.jsx("td",{className:"px-4 py-3 text-gray-900",children:"Validated"}),n.jsx("td",{className:"px-4 py-3 text-right font-semibold text-blue-600",children:l.approval_stages.validated})]}),n.jsxs("tr",{children:[n.jsx("td",{className:"px-4 py-3 text-gray-900",children:"Final Approved"}),n.jsx("td",{className:"px-4 py-3 text-right font-semibold text-green-700",children:l.approval_stages.final_approved})]}),n.jsxs("tr",{children:[n.jsx("td",{className:"px-4 py-3 text-gray-900",children:"Rejected"}),n.jsx("td",{className:"px-4 py-3 text-right font-semibold text-red-600",children:l.approval_stages.rejected})]})]})]})})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-8",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Sector Summary"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.sector_summaries.map(U=>n.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:U.sector_name}),n.jsxs("div",{className:"space-y-2 mb-3",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Annual Target:"}),n.jsx("span",{className:"font-medium",children:U.annual_target.toLocaleString(void 0,{maximumFractionDigits:2})})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Achieved:"}),n.jsx("span",{className:"font-medium",children:U.performance_achieved.toLocaleString(void 0,{maximumFractionDigits:2})})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Progress:"}),n.jsxs("span",{className:`font-semibold ${U.progress_rate>=75?"text-green-600":U.progress_rate>=50?"text-yellow-600":"text-red-600"}`,children:[U.progress_rate.toFixed(1),"%"]})]})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:`h-2 rounded-full transition-all ${U.progress_rate>=75?"bg-green-500":U.progress_rate>=50?"bg-yellow-500":"bg-red-500"}`,style:{width:`${Math.min(U.progress_rate,100)}%`}})})]},U.sector_id))})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-8",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Indicators at Risk"}),l.indicators_at_risk.length===0?n.jsx("div",{className:"text-center text-gray-500 py-8",children:"No indicators at risk"}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full text-sm",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Indicator"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sector"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Department"}),n.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Target"}),n.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Achieved"}),n.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Gap"}),n.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Progress"}),n.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Risk Level"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.indicators_at_risk.map((U,ge)=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-4 py-3 text-gray-900 font-medium",children:U.indicator_name}),n.jsx("td",{className:"px-4 py-3 text-gray-600",children:U.sector_name}),n.jsx("td",{className:"px-4 py-3 text-gray-600",children:U.department_name}),n.jsx("td",{className:"px-4 py-3 text-right text-gray-900",children:U.target.toLocaleString(void 0,{maximumFractionDigits:2})}),n.jsx("td",{className:"px-4 py-3 text-right text-gray-900",children:U.achieved.toLocaleString(void 0,{maximumFractionDigits:2})}),n.jsx("td",{className:"px-4 py-3 text-right text-red-600 font-semibold",children:U.gap.toLocaleString(void 0,{maximumFractionDigits:2})}),n.jsx("td",{className:"px-4 py-3 text-right",children:n.jsxs("span",{className:`font-semibold ${U.progress_pct>=75?"text-green-600":U.progress_pct>=50?"text-yellow-600":"text-red-600"}`,children:[U.progress_pct.toFixed(1),"%"]})}),n.jsx("td",{className:"px-4 py-3 text-center",children:n.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${U.risk_level==="HIGH"?"bg-red-100 text-red-800":U.risk_level==="MEDIUM"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:U.risk_level})})]},ge))})]})})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Late or Rejected Submissions"}),l.late_or_rejected.length===0?n.jsx("div",{className:"text-center text-gray-500 py-8",children:"No late or rejected submissions"}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full text-sm",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Indicator"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sector"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Department"}),n.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quarter"}),n.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Comment"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.late_or_rejected.map((U,ge)=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-4 py-3",children:n.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded bg-blue-100 text-blue-800",children:U.type})}),n.jsx("td",{className:"px-4 py-3 text-gray-900 font-medium",children:U.indicator_name}),n.jsx("td",{className:"px-4 py-3 text-gray-600",children:U.sector_name}),n.jsx("td",{className:"px-4 py-3 text-gray-600",children:U.department_name}),n.jsx("td",{className:"px-4 py-3 text-center text-gray-600",children:U.quarter?`Q${U.quarter}`:"-"}),n.jsx("td",{className:"px-4 py-3 text-center",children:n.jsxs("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${U.status==="REJECTED"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:[U.status,U.days_late&&` (${U.days_late} days late)`]})}),n.jsx("td",{className:"px-4 py-3 text-gray-600 text-xs max-w-xs truncate",title:U.comment,children:U.comment||"-"})]},ge))})]})})]})]})]})})}const Cl={achieved:"#10b981",onTrack:"#3b82f6",inProgress:"#f59e0b",weakPerformance:"#ef4444",requiresIntervention:"#dc2626",noData:"#6b7280"};function rJ(){const e=zs(),t=Array.isArray(e)&&typeof e[0]=="number"?e[0]:new Date().getFullYear()-7,[r,a]=v.useState(t),[l,o]=v.useState(null),[u,f]=v.useState(!1),[m,h]=v.useState(null),[p,x]=v.useState(null),[b,j]=v.useState("indicators"),[w,N]=v.useState(null),[S,E]=v.useState(null),O=_=>_===null||isNaN(_)?{label:"No Data",color:Cl.noData}:_>=95?{label:"Achieved",color:Cl.achieved}:_>=85?{label:"On Track",color:Cl.onTrack}:_>=65?{label:"In Progress",color:Cl.inProgress}:_>=50?{label:"Weak",color:Cl.weakPerformance}:{label:"Critical",color:Cl.requiresIntervention};return v.useEffect(()=>{(async()=>{f(!0),h(null);try{const T=await Se.get(`/api/state-minister-dashboard/?year=${Di(r)}`);o(T.data)}catch(T){h(T?.response?.data?.detail||"Failed to load dashboard data")}finally{f(!1)}})()},[r]),u?n.jsx("div",{className:"min-h-screen flex items-center justify-center",children:n.jsx("div",{className:"text-gray-600",children:"Loading dashboard..."})}):m?n.jsx("div",{className:"min-h-screen flex items-center justify-center text-red-600",children:m}):n.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsxs("div",{className:"mb-8 flex flex-col md:flex-row justify-between gap-4",children:[n.jsx("h1",{className:"text-3xl font-bold",children:"State Minister Dashboard"}),n.jsx("div",{className:"w-64",children:n.jsx(Nc,{value:r,onChange:a,variant:"dropdown",showLabel:!1})})]}),n.jsxs("p",{className:"text-gray-600 mb-6",children:[l?.sector?.name||"Sector"," Performance Overview"]}),n.jsxs("div",{className:"mb-6 border-b flex gap-6",children:[n.jsx("button",{onClick:()=>j("indicators"),className:`pb-3 font-semibold ${b==="indicators"?"border-b-2 border-emerald-600 text-emerald-600":"text-gray-500"}`,children:"Indicator Performance"}),n.jsx("button",{onClick:()=>j("dashboard"),className:`pb-3 font-semibold ${b==="dashboard"?"border-b-2 border-emerald-600 text-emerald-600":"text-gray-500"}`,children:"Overview Dashboard"})]}),b==="indicators"&&n.jsx(n.Fragment,{children:p?n.jsxs("div",{children:[n.jsx("button",{onClick:()=>{x(null),N(null),E(null)},className:"mb-4 flex items-center gap-2 text-gray-600 hover:text-gray-900",children:" Back to Lead Executives"}),n.jsxs("div",{className:"bg-white rounded-xl shadow p-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h2",{className:"text-2xl font-bold",children:p.department_name}),n.jsxs("span",{className:"px-4 py-2 rounded-full text-white font-semibold",style:{backgroundColor:O(p.average_performance).color},children:[p.average_performance.toFixed(1),"%"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[n.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[n.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[p.average_performance.toFixed(1),"%"]}),n.jsx("div",{className:"text-sm text-gray-600",children:"Average Performance"})]}),n.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold text-gray-900",children:p.total_indicators}),n.jsx("div",{className:"text-sm text-gray-600",children:"Total Indicators"})]}),n.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold text-gray-900",children:O(p.average_performance).label}),n.jsx("div",{className:"text-sm text-gray-600",children:"Performance Status"})]})]}),S&&n.jsxs("div",{className:"mb-6 p-6 bg-emerald-50 border border-emerald-200 rounded-xl",children:[n.jsxs("div",{className:"flex justify-between items-start mb-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:S.name}),n.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:["Target: ",S.target.toLocaleString()," | Achieved: ",S.achieved.toLocaleString()," ",S.unit]})]}),n.jsx("button",{onClick:()=>E(null),className:"text-gray-500 hover:text-gray-700 text-xl",children:""})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"text-center p-3 bg-white rounded-lg",children:[n.jsx("div",{className:"text-lg font-bold text-emerald-600",children:S.performance_percentage!==null?`${S.performance_percentage.toFixed(1)}%`:"N/A"}),n.jsx("div",{className:"text-xs text-gray-600",children:"Performance"})]}),n.jsxs("div",{className:"text-center p-3 bg-white rounded-lg",children:[n.jsx("div",{className:"text-lg font-bold text-blue-600",children:S.target.toLocaleString()}),n.jsx("div",{className:"text-xs text-gray-600",children:"Target"})]}),n.jsxs("div",{className:"text-center p-3 bg-white rounded-lg",children:[n.jsx("div",{className:"text-lg font-bold text-gray-600",children:S.achieved.toLocaleString()}),n.jsx("div",{className:"text-xs text-gray-600",children:"Achieved"})]})]})]}),w&&n.jsxs("div",{className:"mb-6 p-6 bg-blue-50 border border-blue-200 rounded-xl",children:[n.jsxs("div",{className:"flex justify-between items-start mb-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:w.name}),n.jsxs("div",{className:"text-sm text-gray-600",children:["Level ",w.level," Group"]})]}),n.jsx("button",{onClick:()=>N(null),className:"text-gray-500 hover:text-gray-700 text-xl",children:""})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"text-center p-3 bg-white rounded-lg",children:[n.jsx("div",{className:"text-lg font-bold text-emerald-600",children:w.performance_percentage!==null&&w.performance_percentage!==void 0?`${w.performance_percentage.toFixed(1)}%`:"N/A"}),n.jsx("div",{className:"text-xs text-gray-600",children:"Performance"})]}),n.jsxs("div",{className:"text-center p-3 bg-white rounded-lg",children:[n.jsx("div",{className:"text-lg font-bold text-blue-600",children:w.annual_target_aggregate?.toLocaleString()||"N/A"}),n.jsx("div",{className:"text-xs text-gray-600",children:"Target Aggregate"})]}),n.jsxs("div",{className:"text-center p-3 bg-white rounded-lg",children:[n.jsx("div",{className:"text-lg font-bold text-gray-600",children:w.performance_aggregate?.toLocaleString()||"N/A"}),n.jsx("div",{className:"text-xs text-gray-600",children:"Performance Aggregate"})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Indicator Groups"}),l?.root_groups?.filter(_=>_.level===0).map(_=>{const T=O(_.performance_percentage??null);return n.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3 cursor-pointer hover:bg-gray-50 p-2 rounded",onClick:()=>N(_),children:[n.jsx("h4",{className:"font-semibold text-gray-900",children:_.name}),n.jsx("div",{className:"px-3 py-1 rounded text-sm font-semibold text-white",style:{backgroundColor:T.color},children:_.performance_percentage!=null?`${_.performance_percentage.toFixed(1)}%`:"N/A"})]}),_.children?.filter(k=>k.level===1).map(k=>{const L=O(k.performance_percentage??null);return n.jsxs("div",{className:"ml-4 mt-3 border-l-2 border-gray-200 pl-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2 cursor-pointer hover:bg-gray-50 p-2 rounded",onClick:()=>N(k),children:[n.jsx("h5",{className:"font-medium text-gray-800",children:k.name}),n.jsx("div",{className:"px-2 py-1 rounded text-xs font-semibold text-white",style:{backgroundColor:L.color},children:k.performance_percentage!=null?`${k.performance_percentage.toFixed(1)}%`:"N/A"})]}),k.children?.filter($=>$.level===2).map($=>{const G=O($.performance_percentage??null);return n.jsxs("div",{className:"ml-4 mt-2 border-l-2 border-gray-200 pl-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2 cursor-pointer hover:bg-gray-50 p-2 rounded",onClick:()=>N($),children:[n.jsx("h6",{className:"font-medium text-gray-700 text-sm",children:$.name}),n.jsx("div",{className:"px-2 py-1 rounded text-xs font-semibold text-white",style:{backgroundColor:G.color},children:$.performance_percentage!=null?`${$.performance_percentage.toFixed(1)}%`:"N/A"})]}),$.indicators?.map(J=>{const ue=O(J.performance_percentage??null);return n.jsxs("div",{className:"ml-4 mt-2 p-3 bg-gray-50 rounded border border-gray-200 cursor-pointer hover:bg-emerald-50 hover:border-emerald-300 transition-colors",onClick:()=>E(J),children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-gray-900 font-medium",children:J.name}),n.jsx("div",{className:"px-2 py-1 rounded text-xs font-semibold text-white",style:{backgroundColor:ue.color},children:J.performance_percentage!==null?`${J.performance_percentage.toFixed(1)}%`:"N/A"})]}),n.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Target: ",J.target.toLocaleString()," | Achieved: ",J.achieved.toLocaleString()," ",J.unit]})]},J.id)})]},$.id)})]},k.id)})]},_.id)})]}),l?.ungrouped_indicators&&l.ungrouped_indicators.length>0&&n.jsxs("div",{className:"mt-8 space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Other Indicators"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:l.ungrouped_indicators.map(_=>{const T=O(_.performance_percentage??null);return n.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200 cursor-pointer hover:bg-emerald-50 hover:border-emerald-300 transition-colors",onClick:()=>E(_),children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-sm text-gray-900 font-medium",children:_.name}),n.jsx("div",{className:"px-2 py-1 rounded text-xs font-semibold text-white",style:{backgroundColor:T.color},children:_.performance_percentage!==null?`${_.performance_percentage.toFixed(1)}%`:"N/A"})]}),n.jsxs("div",{className:"text-xs text-gray-500",children:["Target: ",_.target.toLocaleString()," | Achieved: ",_.achieved.toLocaleString()," ",_.unit]})]},_.id)})})]})]})]}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:l?.department_performance.map(_=>{const T=O(_.average_performance);return n.jsxs("div",{onClick:()=>x(_),className:"bg-white p-6 rounded-xl shadow hover:shadow-lg cursor-pointer transition",children:[n.jsxs("div",{className:"flex justify-between mb-2",children:[n.jsx("h3",{className:"font-semibold",children:_.department_name}),n.jsxs("span",{className:"px-3 py-1 rounded-full text-white text-sm",style:{backgroundColor:T.color},children:[_.average_performance.toFixed(1),"%"]})]}),n.jsxs("div",{className:"text-sm text-gray-500",children:[_.total_indicators," Indicators"]})]},_.department_id)})})}),b==="dashboard"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[n.jsx(ug,{title:"Total Indicators",value:l?.kpis.total_indicators||0}),n.jsx(ug,{title:"Average Performance",value:l?.kpis.overall_performance!==null?`${l?.kpis.overall_performance?.toFixed(1)}%`:"N/A"}),n.jsx(ug,{title:"Groups On Track",value:l?.kpis.groups_on_track||0})]}),n.jsx("div",{className:"bg-white p-6 rounded-xl shadow",children:n.jsx(fs,{width:"100%",height:400,children:n.jsxs(wv,{data:l?.department_performance.map(_=>({name:_.department_name,performance:_.average_performance})),children:[n.jsx(gs,{strokeDasharray:"3 3"}),n.jsx(vs,{dataKey:"name"}),n.jsx(ys,{domain:[0,100]}),n.jsx(ps,{}),n.jsx(xs,{}),n.jsx(jc,{dataKey:"performance",fill:"#10b981",name:"Performance %"})]})})})]})]})})}function ug({title:e,value:t}){return n.jsxs("div",{className:"bg-white rounded-xl shadow p-6",children:[n.jsx("div",{className:"text-sm text-gray-500 mb-1",children:e}),n.jsx("div",{className:"text-3xl font-bold",children:t})]})}function nJ(){const[e,t]=v.useState([]),[r,a]=v.useState(!1),[l,o]=v.useState(!1),[u,f]=v.useState(null),[m,h]=v.useState(1),[p,x]=v.useState(!1),[b,j]=v.useState(null),w=15,[N,S]=v.useState({type:"ALL",action:"",status:"",search:"",dateRange:"week"}),E=async(F=!1)=>{F?o(!0):a(!0),f(null);try{const q=await Se.get("/api/activity-logs/");t(q.data||[])}catch(q){f(q?.response?.data?.detail||"Failed to load activity logs")}finally{a(!1),o(!1)}};v.useEffect(()=>{E()},[]),v.useEffect(()=>{h(1)},[N,e.length]);const O=v.useMemo(()=>Math.max(1,Math.ceil(e.length/w)),[e.length,w]),_=v.useMemo(()=>{let F=[...e];N.type!=="ALL"&&(F=F.filter(z=>z.type===N.type)),N.action&&(F=F.filter(z=>z.action.toLowerCase().includes(N.action.toLowerCase()))),N.status&&(F=F.filter(z=>z.status.toLowerCase().includes(N.status.toLowerCase())));const q=new Date,fe=new Date;switch(N.dateRange){case"today":fe.setHours(0,0,0,0);break;case"week":fe.setDate(q.getDate()-7);break;case"month":fe.setMonth(q.getMonth()-1);break}if(N.dateRange!=="all"&&(F=F.filter(z=>new Date(z.at)>=fe)),N.search){const z=N.search.toLowerCase();F=F.filter(Y=>Y.indicator.toLowerCase().includes(z)||Y.sector&&Y.sector.toLowerCase().includes(z)||Y.department&&Y.department.toLowerCase().includes(z)||Y.by&&Y.by.toLowerCase().includes(z)||Y.comment.toLowerCase().includes(z))}return F},[e,N]),T=v.useMemo(()=>_.slice((m-1)*w,(m-1)*w+w),[_,m,w]),k=v.useMemo(()=>{const F=new Date;F.setHours(0,0,0,0);const q=e.filter(V=>V.type==="BREAKDOWN"),fe=e.filter(V=>V.type==="PERFORMANCE"),z=e.filter(V=>new Date(V.at)>=F),Y=e.filter(V=>V.status.toUpperCase().includes("APPROVED")||V.status.toUpperCase().includes("VALIDATED")).length,C=e.filter(V=>V.status.toUpperCase().includes("REJECTED")).length;return{total:e.length,today:z.length,breakdowns:q.length,performances:fe.length,approvals:Y,rejections:C,approvalRate:e.length>0?Math.round(Y/e.length*100):0}},[e]),L=F=>{const q=F.toUpperCase();return q.includes("APPROVED")||q.includes("VALIDATED")?"bg-emerald-100 text-emerald-800":q.includes("REJECTED")?"bg-red-100 text-red-800":q.includes("SUBMITTED")?"bg-blue-100 text-blue-800":q.includes("PENDING")?"bg-amber-100 text-amber-800":"bg-gray-100 text-gray-800"},$=(F,q)=>q.toLowerCase().includes("approve")||q.toLowerCase().includes("validate")?n.jsx(mr,{className:"w-4 h-4 text-emerald-500"}):q.toLowerCase().includes("reject")?n.jsx(zi,{className:"w-4 h-4 text-red-500"}):q.toLowerCase().includes("submit")?n.jsx(Dl,{className:"w-4 h-4 text-blue-500"}):F==="BREAKDOWN"?n.jsx(Dl,{className:"w-4 h-4 text-blue-500"}):n.jsx(Ri,{className:"w-4 h-4 text-purple-500"}),G=()=>{S({type:"ALL",action:"",status:"",search:"",dateRange:"week"})},J=N.type!=="ALL"||N.action||N.status||N.search||N.dateRange!=="week",ue=F=>{const q=new Date(F),z=new Date().getTime()-q.getTime(),Y=Math.floor(z/(1e3*60)),C=Math.floor(z/(1e3*60*60)),V=Math.floor(z/(1e3*60*60*24));return Y<60?`${Y} min ago`:C<24?`${C} hour${C>1?"s":""} ago`:V<7?`${V} day${V>1?"s":""} ago`:q.toLocaleDateString()};return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 p-4 md:p-6",children:n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsxs("div",{className:"mb-8",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 mb-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Activity Log"}),n.jsx("p",{className:"text-gray-600 mt-2",children:"Track all system activities including approvals, validations, rejections, and submissions"})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("button",{onClick:()=>E(!0),disabled:l,className:"inline-flex items-center gap-2 px-4 py-3 bg-white border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors duration-200 shadow-sm disabled:opacity-50",children:[n.jsx(Vc,{className:`w-5 h-5 ${l?"animate-spin":""}`}),l?"Refreshing...":"Refresh"]}),n.jsxs("button",{className:"inline-flex items-center gap-2 px-4 py-3 bg-white border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors duration-200 shadow-sm",children:[n.jsx(Bl,{className:"w-5 h-5"}),"Export"]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[n.jsx("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 shadow-sm",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Activities"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-2",children:k.total}),n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[k.today," today"]})]}),n.jsx("div",{className:"p-3 bg-blue-100 rounded-xl",children:n.jsx(vg,{className:"w-6 h-6 text-blue-600"})})]})}),n.jsx("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 shadow-sm",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Breakdowns"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-2",children:k.breakdowns}),n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[k.performances," performances"]})]}),n.jsx("div",{className:"p-3 bg-emerald-100 rounded-xl",children:n.jsx(Dl,{className:"w-6 h-6 text-emerald-600"})})]})}),n.jsx("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 shadow-sm",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Approvals"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-2",children:k.approvals}),n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[k.approvalRate,"% approval rate"]})]}),n.jsx("div",{className:"p-3 bg-purple-100 rounded-xl",children:n.jsx(mr,{className:"w-6 h-6 text-purple-600"})})]})}),n.jsx("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 shadow-sm",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Rejections"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-2",children:k.rejections}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Quality control"})]}),n.jsx("div",{className:"p-3 bg-red-100 rounded-xl",children:n.jsx(zi,{className:"w-6 h-6 text-red-600"})})]})})]}),n.jsxs("div",{className:"space-y-4 mb-6",children:[n.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(zr,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),n.jsx("input",{type:"text",placeholder:"Search activities by indicator, department, user, or comment...",value:N.search,onChange:F=>S({...N,search:F.target.value}),className:"w-full pl-12 pr-4 py-3 bg-white border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 shadow-sm"})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("button",{onClick:()=>x(!p),className:"inline-flex items-center gap-2 px-4 py-3 bg-white border border-gray-300 rounded-xl hover:bg-gray-50 transition-colors duration-200 shadow-sm",children:[n.jsx(Xa,{className:"w-4 h-4"}),"Filters",J&&n.jsx("span",{className:"inline-flex items-center justify-center w-6 h-6 text-xs font-semibold text-white bg-blue-600 rounded-full",children:[N.type!=="ALL",N.action,N.status,N.search,N.dateRange!=="week"].filter(Boolean).length})]}),J&&n.jsx("button",{onClick:G,className:"inline-flex items-center gap-2 px-4 py-3 text-gray-700 bg-gray-100 rounded-xl hover:bg-gray-200 transition-colors duration-200",children:"Reset All"})]})]}),p&&n.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-gray-200 shadow-lg",children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Filter Activities"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Refine your view by selecting specific criteria"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Activity Type"}),n.jsxs("div",{className:"relative",children:[n.jsxs("select",{value:N.type,onChange:F=>S({...N,type:F.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 appearance-none bg-white",children:[n.jsx("option",{value:"ALL",children:"All Types"}),n.jsx("option",{value:"BREAKDOWN",children:"Quarterly Breakdowns"}),n.jsx("option",{value:"PERFORMANCE",children:"Performance Reports"})]}),n.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:n.jsx(nr,{className:"w-4 h-4 text-gray-400 rotate-90"})})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Action"}),n.jsx("input",{type:"text",placeholder:"Filter by action...",value:N.action,onChange:F=>S({...N,action:F.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),n.jsxs("div",{className:"relative",children:[n.jsxs("select",{value:N.status,onChange:F=>S({...N,status:F.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 appearance-none bg-white",children:[n.jsx("option",{value:"",children:"All Status"}),n.jsx("option",{value:"APPROVED",children:"Approved"}),n.jsx("option",{value:"VALIDATED",children:"Validated"}),n.jsx("option",{value:"REJECTED",children:"Rejected"}),n.jsx("option",{value:"SUBMITTED",children:"Submitted"}),n.jsx("option",{value:"PENDING",children:"Pending"})]}),n.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:n.jsx(nr,{className:"w-4 h-4 text-gray-400 rotate-90"})})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(_r,{className:"inline w-4 h-4 mr-1"}),"Date Range"]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:["today","week","month","all"].map(F=>n.jsx("button",{onClick:()=>S({...N,dateRange:F}),className:`px-3 py-1.5 text-sm rounded-lg transition-colors ${N.dateRange===F?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:F.charAt(0).toUpperCase()+F.slice(1)},F))})]})]})]})]})]}),u&&n.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-xl",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Jr,{className:"w-5 h-5 text-red-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-red-700",children:"Error"}),n.jsx("p",{className:"text-sm text-red-600 mt-1",children:u})]})]})}),n.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-lg overflow-hidden",children:[n.jsx("div",{className:"px-6 py-4 border-b border-gray-200 bg-gradient-to-r from-gray-50 to-gray-100",children:n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:"System Activities"}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Showing ",T.length," of ",_.length," activities",J&&" (filtered)"]})]}),n.jsxs("div",{className:"text-sm text-gray-600",children:[_.length," total  ",k.today," today"]})]})}),J&&n.jsx("div",{className:"px-6 py-3 bg-blue-50 border-b border-blue-100",children:n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Active Filters:"}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[N.type!=="ALL"&&n.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-blue-100 text-blue-800 text-sm rounded-full",children:["Type: ",N.type==="BREAKDOWN"?"Breakdowns":"Performance",n.jsx("button",{onClick:()=>S({...N,type:"ALL"}),className:"text-blue-600 hover:text-blue-800",children:""})]}),N.action&&n.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-blue-100 text-blue-800 text-sm rounded-full",children:["Action: ",N.action,n.jsx("button",{onClick:()=>S({...N,action:""}),className:"text-blue-600 hover:text-blue-800",children:""})]}),N.status&&n.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-blue-100 text-blue-800 text-sm rounded-full",children:["Status: ",N.status,n.jsx("button",{onClick:()=>S({...N,status:""}),className:"text-blue-600 hover:text-blue-800",children:""})]}),N.dateRange!=="week"&&n.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-blue-100 text-blue-800 text-sm rounded-full",children:["Date: ",N.dateRange.charAt(0).toUpperCase()+N.dateRange.slice(1),n.jsx("button",{onClick:()=>S({...N,dateRange:"week"}),className:"text-blue-600 hover:text-blue-800",children:""})]}),N.search&&n.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-blue-100 text-blue-800 text-sm rounded-full",children:['Search: "',N.search,'"',n.jsx("button",{onClick:()=>S({...N,search:""}),className:"text-blue-600 hover:text-blue-800",children:""})]})]})]})})}),r?n.jsxs("div",{className:"p-12 text-center",children:[n.jsx("div",{className:"w-8 h-8 border-3 border-gray-300 border-t-blue-600 rounded-full animate-spin mx-auto mb-3"}),n.jsx("p",{className:"text-gray-600",children:"Loading activity logs..."})]}):_.length===0?n.jsxs("div",{className:"p-12 text-center",children:[n.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-3",children:n.jsx(vg,{className:"w-6 h-6 text-gray-400"})}),n.jsx("p",{className:"text-gray-600 font-medium",children:e.length===0?"No activity logs available yet":"No activities match your filters"}),n.jsx("p",{className:"text-gray-500 text-sm mt-1",children:e.length===0?"System activities will appear here once they occur":"Try adjusting or clearing your filters"}),J&&n.jsx("button",{onClick:G,className:"mt-4 inline-flex items-center gap-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors duration-200",children:"Clear Filters"})]}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Activity"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Context"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Time"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200",children:T.map((F,q)=>{const fe=(m-1)*w+q,z=b===fe;return n.jsxs(v.Fragment,{children:[n.jsxs("tr",{className:`hover:bg-gray-50 transition-colors duration-150 cursor-pointer ${z?"bg-blue-50":""}`,onClick:()=>j(z?null:fe),children:[n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[$(F.type,F.action),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-gray-900",children:F.type==="BREAKDOWN"?"Quarterly Breakdown":"Performance Report"}),n.jsx("div",{className:"text-sm text-gray-500 mt-1",children:F.action})]})]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center",children:n.jsx(ER,{className:"w-4 h-4 text-gray-600"})}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-gray-900",children:F.by||"System"}),n.jsx("div",{className:"text-xs text-gray-500",children:"User"})]})]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"max-w-xs",children:[n.jsx("div",{className:"font-medium text-gray-900 truncate",children:F.indicator}),n.jsxs("div",{className:"text-sm text-gray-500 mt-1 flex items-center gap-2",children:[F.sector&&n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(ct,{className:"w-3 h-3"}),F.sector]}),F.department&&n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(pt,{className:"w-3 h-3"}),F.department]})]})]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium ${L(F.status)}`,children:F.status})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Pl,{className:"w-4 h-4 text-gray-400"}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-gray-900",children:ue(F.at)}),n.jsx("div",{className:"text-xs text-gray-500",children:new Date(F.at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsx(nr,{className:`w-4 h-4 text-gray-400 transition-transform duration-200 ${z?"rotate-90":""}`})})]}),z&&n.jsx("tr",{className:"bg-blue-50",children:n.jsx("td",{colSpan:6,className:"px-6 py-4",children:n.jsxs("div",{className:"pl-10 space-y-3",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Details"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Full Indicator"}),n.jsx("p",{className:"text-sm text-gray-900",children:F.indicator})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Activity Type"}),n.jsx("p",{className:"text-sm text-gray-900",children:F.type})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Sector"}),n.jsx("p",{className:"text-sm text-gray-900",children:F.sector||""})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Department"}),n.jsx("p",{className:"text-sm text-gray-900",children:F.department||""})]})]})]}),F.comment&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Comment / Note"}),n.jsx("p",{className:"text-sm text-gray-900 bg-white p-3 rounded-lg mt-1 border border-gray-200",children:F.comment})]}),n.jsxs("div",{className:"text-xs text-gray-500",children:["Full timestamp: ",new Date(F.at).toLocaleString()]})]})})})]},fe)})})]})})]}),_.length>0&&!r&&n.jsxs("div",{className:"mt-6 flex flex-col md:flex-row md:items-center justify-between gap-4",children:[n.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",(m-1)*w+1," to ",Math.min(m*w,_.length)," of ",_.length," activities"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("button",{onClick:()=>h(F=>Math.max(1,F-1)),disabled:m===1,className:`inline-flex items-center gap-2 px-4 py-2 rounded-lg transition-colors duration-200 ${m===1?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[n.jsx(Rv,{className:"w-4 h-4"}),"Previous"]}),n.jsxs("div",{className:"flex items-center gap-1",children:[Array.from({length:Math.min(5,O)},(F,q)=>{let fe;return O<=5||m<=3?fe=q+1:m>=O-2?fe=O-4+q:fe=m-2+q,n.jsx("button",{onClick:()=>h(fe),className:`w-10 h-10 flex items-center justify-center rounded-lg transition-colors duration-200 ${m===fe?"bg-blue-600 text-white":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:fe},fe)}),O>5&&m<O-2&&n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"px-2 text-gray-500",children:"..."}),n.jsx("button",{onClick:()=>h(O),className:"w-10 h-10 flex items-center justify-center bg-white border border-gray-300 text-gray-700 hover:bg-gray-50 rounded-lg transition-colors duration-200",children:O})]})]}),n.jsxs("button",{onClick:()=>h(F=>Math.min(O,F+1)),disabled:m===O,className:`inline-flex items-center gap-2 px-4 py-2 rounded-lg transition-colors duration-200 ${m===O?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:["Next",n.jsx(nr,{className:"w-4 h-4"})]})]})]}),n.jsx("div",{className:"mt-6 p-6 bg-white rounded-2xl border border-gray-200 shadow-sm",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-gray-900",children:k.total}),n.jsx("div",{className:"text-sm text-gray-600",children:"Total Activities"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-emerald-600",children:k.approvals}),n.jsx("div",{className:"text-sm text-gray-600",children:"Approvals & Validations"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-red-600",children:k.rejections}),n.jsx("div",{className:"text-sm text-gray-600",children:"Rejections"})]})]})})]})})}function aJ(){const{user:e,logout:t}=St(),[r,a]=v.useState(null),[l,o]=v.useState(""),[u,f]=v.useState(""),[m,h]=v.useState(""),[p,x]=v.useState(""),[b,j]=v.useState(""),[w,N]=v.useState([]),[S,E]=v.useState([]),[O,_]=v.useState(!1),[T,k]=v.useState(!1),[L,$]=v.useState(null),[G,J]=v.useState(null),[ue,F]=v.useState(""),[q,fe]=v.useState(""),[z,Y]=v.useState(""),[C,V]=v.useState(!1),[ae,ve]=v.useState(null),[ce,R]=v.useState(null),[K,re]=v.useState(null),[W,le]=v.useState("profile"),[Ne,Ae]=v.useState({old:!1,new:!1,confirm:!1}),Ce=(Se.defaults.baseURL||"").replace(/\/$/,""),U=I=>I?I.startsWith("http://")||I.startsWith("https://")?I:`${Ce}${I.startsWith("/")?I:`/${I}`}`:null;v.useEffect(()=>{(async()=>{_(!0),$(null);try{const[Z,D,P]=await Promise.all([Se.get("/api/me/"),Se.get("/api/sectors/"),Se.get("/api/departments/")]),X=Z.data;a(X),o(X.first_name||""),f(X.last_name||""),h(X.email||""),x(X.sector?.id??""),j(X.department?.id??""),re(U(X.profile_picture)),N(D.data||[]),E(P.data||[])}catch(Z){$(Z?.response?.data?.detail||"Failed to load profile")}finally{_(!1)}})()},[]);const ge=async I=>{if(I.preventDefault(),!!r){k(!0),$(null),J(null);try{const Z=new FormData;Z.append("first_name",l),Z.append("last_name",u),Z.append("email",m),p===""?Z.append("sector_id",""):Z.append("sector_id",String(p)),b===""?Z.append("department_id",""):Z.append("department_id",String(b)),ce&&Z.append("profile_picture",ce);const P=(await Se.patch("/api/me/",Z,{headers:{"Content-Type":"multipart/form-data"}})).data;a(P),o(P.first_name||""),f(P.last_name||""),h(P.email||""),x(P.sector?.id??""),j(P.department?.id??""),re(U(P.profile_picture)),R(null),J("Profile updated successfully"),setTimeout(()=>J(null),3e3)}catch(Z){$(Z?.response?.data?.detail||"Failed to save profile")}finally{k(!1)}}},Ee=async I=>{if(I.preventDefault(),ve(null),!ue||!q||!z){ve("Please fill in all password fields");return}if(q.length<8){ve("Password must be at least 8 characters long");return}if(q!==z){ve("New password and confirmation do not match");return}V(!0);try{const Z=await Se.post("/api/change-password/",{old_password:ue,new_password:q});ve("Password changed successfully"),F(""),fe(""),Y(""),setTimeout(()=>ve(null),3e3)}catch(Z){ve(Z?.response?.data?.detail||"Failed to change password")}finally{V(!1)}},ye=async()=>{if(r)try{const I=new FormData;I.append("profile_picture","");const D=(await Se.patch("/api/me/",I,{headers:{"Content-Type":"multipart/form-data"}})).data;a(D),re(null),R(null),J("Profile picture removed"),setTimeout(()=>J(null),3e3)}catch(I){$(I?.response?.data?.detail||"Failed to remove picture")}},ke=I=>I?new Date(I).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A",Oe=()=>r&&`${r.first_name?.[0]||""}${r.last_name?.[0]||""}`.toUpperCase()||"U",te=I=>{Ae(Z=>({...Z,[I]:!Z[I]}))},B=async()=>{await t(),window.location.href="/login"},he=[{id:"profile",label:"Profile",icon:""},{id:"security",label:"Security",icon:""},{id:"preferences",label:"Preferences",icon:""}];return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 p-4 sm:p-6",children:n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Account Settings"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your profile and account preferences"})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[n.jsx("div",{className:"lg:col-span-1",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 sticky top-6",children:[n.jsxs("div",{className:"text-center mb-6",children:[n.jsxs("div",{className:"relative inline-block",children:[n.jsx("div",{className:"w-24 h-24 rounded-full overflow-hidden border-4 border-white shadow-lg mx-auto",children:K?n.jsx("img",{src:K,alt:"Profile",className:"w-full h-full object-cover"}):n.jsx("div",{className:"w-full h-full bg-gradient-to-br from-emerald-500 to-teal-600 flex items-center justify-center text-white text-2xl font-bold",children:Oe()})}),K&&n.jsx("button",{onClick:ye,className:"absolute bottom-0 right-0 w-8 h-8 bg-red-500 text-white rounded-full flex items-center justify-center hover:bg-red-600 transition-colors",title:"Remove picture",children:n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsxs("h3",{className:"font-semibold text-gray-900 mt-3",children:[r?.first_name," ",r?.last_name]}),n.jsx("p",{className:"text-sm text-gray-600",children:r?.username}),n.jsx("div",{className:"mt-2 inline-flex items-center gap-1 px-3 py-1 bg-emerald-100 text-emerald-800 rounded-full text-xs font-medium",children:r?.role})]}),n.jsx("nav",{className:"space-y-1",children:he.map(I=>n.jsxs("button",{onClick:()=>le(I.id),className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-left transition-colors ${W===I.id?"bg-emerald-50 text-emerald-700 border border-emerald-200":"text-gray-700 hover:bg-gray-50"}`,children:[n.jsx("span",{className:"text-lg",children:I.icon}),n.jsx("span",{className:"font-medium",children:I.label})]},I.id))}),n.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[n.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase mb-3",children:"Account Info"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Member since"}),n.jsx("span",{className:"font-medium",children:ke(r?.date_joined)})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Last login"}),n.jsx("span",{className:"font-medium",children:ke(r?.last_login)})]})]})]}),n.jsxs("button",{onClick:B,className:"w-full mt-6 px-4 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors flex items-center justify-center gap-2",children:[n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Logout"]})]})}),n.jsxs("div",{className:"lg:col-span-3",children:[L&&n.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-xl",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("svg",{className:"h-5 w-5 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),n.jsx("div",{className:"text-sm text-red-700",children:L})]})}),G&&n.jsx("div",{className:"mb-6 p-4 bg-emerald-50 border border-emerald-200 rounded-xl",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("svg",{className:"h-5 w-5 text-emerald-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),n.jsx("div",{className:"text-sm text-emerald-700",children:G})]})}),O?n.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-12",children:n.jsxs("div",{className:"flex flex-col items-center justify-center gap-4",children:[n.jsx("div",{className:"w-12 h-12 border-4 border-emerald-200 border-t-emerald-600 rounded-full animate-spin"}),n.jsx("div",{className:"text-gray-600",children:"Loading profile..."})]})}):n.jsxs("div",{className:"space-y-6",children:[W==="profile"&&r&&n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[n.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 bg-gradient-to-r from-gray-50 to-gray-100",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Personal Information"}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Update your personal details and contact information"})]}),n.jsxs("form",{onSubmit:ge,className:"p-6 space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-6",children:[n.jsx("div",{className:"relative",children:n.jsx("div",{className:"w-20 h-20 rounded-full overflow-hidden border-4 border-white shadow-lg",children:K?n.jsx("img",{src:K,alt:"Profile",className:"w-full h-full object-cover"}):n.jsx("div",{className:"w-full h-full bg-gradient-to-br from-emerald-400 to-teal-500 flex items-center justify-center text-white text-xl font-bold",children:Oe()})})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Profile Picture"}),n.jsxs("div",{className:"flex flex-wrap gap-3",children:[n.jsxs("label",{className:"cursor-pointer",children:[n.jsx("input",{type:"file",accept:"image/*",onChange:I=>{const Z=I.target.files?.[0]||null;if(R(Z),Z){const D=URL.createObjectURL(Z);re(D)}},className:"hidden"}),n.jsx("div",{className:"px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors text-sm font-medium",children:"Upload New"})]}),K&&n.jsx("button",{type:"button",onClick:ye,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors text-sm",children:"Remove"})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"JPG, PNG or GIF. Max 5MB."})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"First Name"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),n.jsx("input",{value:l,onChange:I=>o(I.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"Enter first name"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Last Name"}),n.jsx("div",{className:"relative",children:n.jsx("input",{value:u,onChange:I=>f(I.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"Enter last name"})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email Address"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89-5.26a2 2 0 012.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),n.jsx("input",{type:"email",value:m,onChange:I=>h(I.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"Enter email address"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Sector"}),n.jsxs("select",{value:p,onChange:I=>x(I.target.value?Number(I.target.value):""),disabled:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent bg-gray-50 text-gray-600",children:[n.jsx("option",{value:"",children:"Select Sector"}),w.map(I=>n.jsx("option",{value:I.id,children:I.name},I.id))]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Department"}),n.jsxs("select",{value:b,onChange:I=>j(I.target.value?Number(I.target.value):""),disabled:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent bg-gray-50 text-gray-600",children:[n.jsx("option",{value:"",children:"Select Department"}),S.map(I=>n.jsx("option",{value:I.id,children:I.name},I.id))]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Username"}),n.jsx("input",{value:r.username,disabled:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-xl shadow-sm bg-gray-50 text-gray-600"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Role"}),n.jsx("input",{value:r.role,disabled:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-xl shadow-sm bg-gray-50 text-gray-600"})]})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[n.jsx("button",{type:"button",onClick:()=>{o(r.first_name||""),f(r.last_name||""),h(r.email||""),R(null),re(U(r.profile_picture))},className:"px-5 py-2.5 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors",children:"Reset"}),n.jsx("button",{type:"submit",disabled:T,className:"px-5 py-2.5 bg-emerald-600 text-white rounded-xl hover:bg-emerald-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:T?n.jsxs(n.Fragment,{children:[n.jsxs("svg",{className:"animate-spin h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):"Save Changes"})]})]})]}),W==="security"&&n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[n.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 bg-gradient-to-r from-gray-50 to-gray-100",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Security Settings"}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage your password and security preferences"})]}),n.jsxs("form",{onSubmit:Ee,className:"p-6 space-y-6",children:[ae&&n.jsx("div",{className:`p-4 rounded-xl ${ae.includes("successfully")?"bg-emerald-50 border border-emerald-200 text-emerald-700":"bg-amber-50 border border-amber-200 text-amber-700"}`,children:n.jsxs("div",{className:"flex items-center gap-2",children:[ae.includes("successfully")?n.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}):n.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsx("span",{className:"text-sm",children:ae})]})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Current Password"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),n.jsx("input",{type:Ne.old?"text":"password",value:ue,onChange:I=>F(I.target.value),className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"Enter current password"}),n.jsx("button",{type:"button",onClick:()=>te("old"),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:Ne.old?n.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L6.59 6.59m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):n.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0zM2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})})})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"New Password"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:Ne.new?"text":"password",value:q,onChange:I=>fe(I.target.value),className:"w-full px-4 pr-12 py-3 border border-gray-300 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"Enter new password"}),n.jsx("button",{type:"button",onClick:()=>te("new"),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:Ne.new?n.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L6.59 6.59m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):n.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0zM2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})})})]}),n.jsx("p",{className:"text-xs text-gray-500",children:"At least 8 characters with letters and numbers"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Confirm Password"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:Ne.confirm?"text":"password",value:z,onChange:I=>Y(I.target.value),className:"w-full px-4 pr-12 py-3 border border-gray-300 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"Confirm new password"}),n.jsx("button",{type:"button",onClick:()=>te("confirm"),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:Ne.confirm?n.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L6.59 6.59m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):n.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0zM2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})})})]})]})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[n.jsx("button",{type:"button",onClick:()=>{F(""),fe(""),Y(""),Ae({old:!1,new:!1,confirm:!1})},className:"px-5 py-2.5 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors",children:"Clear"}),n.jsx("button",{type:"submit",disabled:C,className:"px-5 py-2.5 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:C?n.jsxs(n.Fragment,{children:[n.jsxs("svg",{className:"animate-spin h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Changing..."]}):"Change Password"})]})]})]}),W==="preferences"&&n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[n.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 bg-gradient-to-r from-gray-50 to-gray-100",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Preferences"}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Customize your system preferences"})]}),n.jsx("div",{className:"p-6 space-y-6",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-900",children:"Email Notifications"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Receive email updates about your activities"})]}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),n.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-emerald-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-emerald-600"})]})]}),n.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-900",children:"Desktop Notifications"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Show desktop notifications for important updates"})]}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-emerald-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-emerald-600"})]})]}),n.jsxs("div",{className:"flex items-center justify-between py-3",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-900",children:"Two-Factor Authentication"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Add an extra layer of security to your account"})]}),n.jsx("button",{className:"px-4 py-2 text-sm font-medium text-emerald-600 bg-emerald-50 hover:bg-emerald-100 rounded-lg transition-colors",children:"Enable"})]})]})})]})]})]})]})]})})}const iJ=()=>{const{user:e}=St(),[t,r]=v.useState(""),[a,l]=v.useState(""),[o,u]=v.useState(!1),[f,m]=v.useState(null),[h,p]=v.useState(null);if(!((e?.role||"").toUpperCase()==="ADVISOR"))return n.jsx(Br,{to:"/",replace:!0});const b=async j=>{if(j.preventDefault(),m(null),p(null),!t.trim()){m("Please enter a comment.");return}u(!0);try{await Se.post("/api/advisor-comments/",{comment:t.trim(),year:a===""?null:a}),r(""),p("Comment submitted successfully.")}catch(w){m(w?.response?.data?.detail||"Failed to submit comment")}finally{u(!1)}};return n.jsxs("div",{className:"p-4",children:[n.jsx("h1",{className:"text-xl font-semibold mb-4",children:"Advisor Overall Comment"}),f&&n.jsx("div",{className:"mb-3 text-red-600 text-sm",children:f}),h&&n.jsx("div",{className:"mb-3 text-green-700 text-sm",children:h}),n.jsxs("form",{onSubmit:b,className:"space-y-3 max-w-2xl",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Year (optional)"}),n.jsx("input",{type:"number",value:a,onChange:j=>l(j.target.value?Number(j.target.value):""),className:"w-full border rounded px-3 py-2",placeholder:"e.g. 2025"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Overall Comment"}),n.jsx("textarea",{value:t,onChange:j=>r(j.target.value),className:"w-full border rounded px-3 py-2 h-40",placeholder:"Write your overall comment here..."})]}),n.jsx("button",{type:"submit",disabled:o,className:"bg-green-700 text-white px-4 py-2 rounded disabled:opacity-50",children:o?"Submitting...":"Submit Comment"})]})]})},sJ=()=>{const{user:e}=St(),t=(e?.role||"").toUpperCase(),r=t==="LEAD_EXECUTIVE_BODY"||t==="STATE_MINISTER"||(e?.is_superuser??!1),[a,l]=v.useState([]),[o,u]=v.useState(!0),[f,m]=v.useState(null),[h,p]=v.useState(""),[x,b]=v.useState(null),[j,w]=v.useState(!1),N=async k=>{u(!0),m(null);try{const L={};k&&(L.year=k);const $=await Se.get("/api/advisor-comments/",{params:L}),G=$.data?.results??$.data??[];l(G)}catch(L){m(L?.response?.data?.detail||"Failed to load advisor comments. Please try again."),console.error("Error fetching comments:",L)}finally{u(!1)}};v.useEffect(()=>{if(!r)return;const k=setTimeout(()=>{N(h)},500);return()=>clearTimeout(k)},[r,h]);const S=k=>new Date(k).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),E=k=>{b(k),w(!0)},O=()=>{w(!1),b(null)},_=k=>{const L=k.target.value;(L===""||/^\d{0,4}$/.test(L))&&p(L)},T=()=>{p("")};return r?n.jsxs("div",{className:"min-h-screen bg-gray-50 p-4 md:p-6",children:[n.jsxs("div",{className:"mb-8",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800",children:"Advisor Comments"}),n.jsx("p",{className:"text-gray-600 mt-2",children:"Review comments from advisors and consultants"})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",value:h,onChange:_,className:"w-full md:w-48 pl-4 pr-10 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent outline-none transition",placeholder:"Filter by year",maxLength:4}),h&&n.jsx("button",{onClick:T,className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600","aria-label":"Clear filter",children:n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsx("div",{className:"text-sm text-gray-500",children:h?`Filtered by: ${h}`:"Showing all years"})]})]}),n.jsx("div",{className:"bg-white rounded-xl shadow-sm p-4 mb-6 border border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-700",children:"Total Comments"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:a.length})]}),n.jsx("div",{className:"p-3 bg-green-50 rounded-lg",children:n.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"})})})]})})]}),n.jsxs("div",{className:"max-w-6xl mx-auto",children:[o&&n.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading comments..."})]}),f&&n.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 mb-6",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx("svg",{className:"w-5 h-5 text-red-600 mt-0.5 mr-3 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-red-800",children:"Error Loading Comments"}),n.jsx("p",{className:"text-red-700 mt-1",children:f}),n.jsx("button",{onClick:()=>N(h),className:"mt-3 px-4 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition font-medium",children:"Try Again"})]})]})}),!o&&!f&&a.length===0&&n.jsxs("div",{className:"text-center py-12 bg-white rounded-2xl shadow-sm border border-gray-200",children:[n.jsx("svg",{className:"w-16 h-16 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),n.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"No Comments Found"}),n.jsx("p",{className:"text-gray-500 max-w-md mx-auto",children:h?`No advisor comments found for the year ${h}. Try a different year or clear the filter.`:"No advisor comments have been submitted yet."})]}),!o&&!f&&a.length>0&&n.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-1",children:a.map(k=>n.jsx("div",{className:"bg-white rounded-xl shadow-sm hover:shadow-md transition-shadow duration-200 border border-gray-200 overflow-hidden",children:n.jsxs("div",{className:"p-5",children:[n.jsx("div",{className:"mb-4",children:n.jsx("p",{className:"text-gray-800 line-clamp-3 overflow-hidden text-ellipsis whitespace-pre-wrap",children:k.comment})}),n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 text-sm text-gray-600",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("svg",{className:"w-4 h-4 text-gray-400 mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),n.jsx("span",{className:"font-medium text-gray-700",children:k.author_username})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("svg",{className:"w-4 h-4 text-gray-400 mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),n.jsx("span",{children:k.year?k.year:"All Years"})]})]}),n.jsxs("div",{className:"flex items-center text-gray-500",children:[n.jsx("svg",{className:"w-4 h-4 mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsx("span",{children:S(k.created_at)})]})]}),n.jsxs("button",{onClick:()=>E(k),className:"mt-5 w-full flex items-center justify-center gap-2 px-4 py-2.5 bg-green-50 text-green-700 rounded-lg hover:bg-green-100 transition-colors font-medium group",children:[n.jsx("span",{children:"View Full Comment"}),n.jsx("svg",{className:"w-4 h-4 transform group-hover:translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})})]})]})},k.id))})]}),j&&x&&n.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[n.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm transition-opacity",onClick:O,"aria-hidden":"true"}),n.jsx("div",{className:"relative min-h-screen flex items-center justify-center p-4",children:n.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-3xl max-h-[90vh] overflow-hidden flex flex-col",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-green-50 to-white",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Advisor Comment"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Detailed view of the comment"})]}),n.jsx("button",{onClick:O,className:"p-2 rounded-xl hover:bg-gray-100 transition-colors","aria-label":"Close",children:n.jsx("svg",{className:"w-6 h-6 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8 p-4 bg-gray-50 rounded-xl",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("div",{className:"text-xs text-gray-500 uppercase tracking-wider",children:"Author"}),n.jsxs("div",{className:"font-semibold text-gray-800 flex items-center",children:[n.jsx("svg",{className:"w-4 h-4 mr-2 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),x.author_username]})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("div",{className:"text-xs text-gray-500 uppercase tracking-wider",children:"Year"}),n.jsxs("div",{className:"font-semibold text-gray-800 flex items-center",children:[n.jsx("svg",{className:"w-4 h-4 mr-2 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),x.year?x.year:"All Years"]})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("div",{className:"text-xs text-gray-500 uppercase tracking-wider",children:"Submitted On"}),n.jsxs("div",{className:"font-semibold text-gray-800 flex items-center",children:[n.jsx("svg",{className:"w-4 h-4 mr-2 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),S(x.created_at)]})]})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-700 mb-4 flex items-center",children:[n.jsx("svg",{className:"w-5 h-5 mr-2 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"})}),"Comment"]}),n.jsx("div",{className:"bg-white p-5 rounded-xl border border-gray-200",children:n.jsx("p",{className:"text-gray-700 whitespace-pre-wrap leading-relaxed",children:x.comment})})]})]}),n.jsx("div",{className:"p-6 border-t border-gray-200 bg-gray-50",children:n.jsx("div",{className:"flex justify-end",children:n.jsx("button",{onClick:O,className:"px-6 py-3 bg-green-600 text-white rounded-xl hover:bg-green-700 transition-colors font-medium shadow-sm hover:shadow",children:"Close Comment"})})})]})})]})]}):n.jsx(Br,{to:"/",replace:!0})};function lJ(){return n.jsxs(rP,{children:[n.jsx(Mt,{path:"/login",element:n.jsx(f8,{})}),n.jsx(Mt,{path:"/",element:n.jsx(Al,{children:n.jsx(Ut,{children:n.jsx(CR,{})})})}),n.jsx(Mt,{path:"/sectors",element:n.jsx(us,{children:n.jsx(Ut,{children:n.jsx(kR,{})})})}),n.jsx(Mt,{path:"/departments",element:n.jsx(us,{children:n.jsx(Ut,{children:n.jsx(TR,{})})})}),n.jsx(Mt,{path:"/indicators",element:n.jsx(us,{children:n.jsx(Ut,{children:n.jsx(MR,{})})})}),n.jsx(Mt,{path:"/indicator-groups",element:n.jsx(us,{children:n.jsx(Ut,{children:n.jsx(PR,{})})})}),n.jsx(Mt,{path:"/annual-plans",element:n.jsx(us,{children:n.jsx(Ut,{children:n.jsx(LR,{})})})}),n.jsx(Mt,{path:"/activity-logs",element:n.jsx(h8,{children:n.jsx(Ut,{children:n.jsx(nJ,{})})})}),n.jsx(Mt,{path:"/quarterly-breakdowns",element:n.jsx(Al,{children:n.jsx(Ut,{children:n.jsx(zR,{})})})}),n.jsx(Mt,{path:"/performances",element:n.jsx(Al,{children:n.jsx(Ut,{children:n.jsx(BR,{})})})}),n.jsx(Mt,{path:"/advisor-comment",element:n.jsx(Al,{children:n.jsx(Ut,{children:n.jsx(iJ,{})})})}),n.jsx(Mt,{path:"/advisor-comments",element:n.jsx(Al,{children:n.jsx(Ut,{children:n.jsx(sJ,{})})})}),n.jsx(Mt,{path:"/reviews",element:n.jsx(mN,{children:n.jsx(Ut,{children:n.jsx(IR,{})})})}),n.jsx(Mt,{path:"/users",element:n.jsx(us,{children:n.jsx(Ut,{children:n.jsx($R,{})})})}),n.jsx(Mt,{path:"/entry-periods",element:n.jsx(us,{children:n.jsx(Ut,{children:n.jsx(qR,{})})})}),n.jsx(Mt,{path:"/validations",element:n.jsx(hN,{children:n.jsx(Ut,{children:n.jsx(UR,{})})})}),n.jsx(Mt,{path:"/final-approvals",element:n.jsx(pN,{children:n.jsx(Ut,{children:n.jsx(FR,{})})})}),n.jsx(Mt,{path:"/minister-view",element:n.jsx(m8,{children:n.jsx(Ut,{children:n.jsx(cg,{})})})}),n.jsx(Mt,{path:"/executive-minister-view",element:n.jsx(pN,{children:n.jsx(Ut,{children:n.jsx(cg,{})})})}),n.jsx(Mt,{path:"/strategic-minister-view",element:n.jsx(hN,{children:n.jsx(Ut,{children:n.jsx(cg,{})})})}),n.jsx(Mt,{path:"/state-minister-dashboard",element:n.jsx(mN,{children:n.jsx(Ut,{children:n.jsx(rJ,{})})})}),n.jsx(Mt,{path:"/profile",element:n.jsx(Al,{children:n.jsx(Ut,{children:n.jsx(aJ,{})})})})]})}dM.createRoot(document.getElementById("root")).render(n.jsx(v.StrictMode,{children:n.jsx(AP,{children:n.jsx(d8,{children:n.jsx(lJ,{})})})}));
